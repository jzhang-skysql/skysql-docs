{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to SkySQL","text":"<p>Note</p> <p>SkySQL documentation is work-in-progress. Many of the links from the pages below still  reference the older version of SkySQL documentation on the Mariadb.com site. Please bear with us during this transition.</p> <p>MariaDB is one of the most popular, mature open source relational databases in the world.</p> <p>SkySQL is a multi-cloud, fully managed Database as a Service. It is specifically designed to manage MariaDB across data centers, regions and even across cloud providers. </p> <p>SkySQL brings production-grade capabilities to MariaDB \u2013 Automate complex DB configuration, augment your DB with cloud native features like VPC/auto-scaling, replicate anywhere across the globe, automate backups, manage data very securely with end-2-end encryption and compliance and much much more.</p> <p></p>"},{"location":"Configure%20your%20Database%20Server%28s%29/","title":"Configure your Database Server(s)","text":"<p>Database server configuration, including system variables, is managed through the Configuration Manager.</p> <p></p> <p>Configuration Manager</p> <p>https://app.skysql.com/settings/configuration-manager</p>"},{"location":"Configure%20your%20Database%20Server%28s%29/#access-to-configuration-manager","title":"Access to Configuration Manager","text":"<p>To access the Configuration Manager interface:</p> <ol> <li>Log in to the\u00a0Portal.</li> <li>Click the \"Settings\" link in the main menu (left navigation in the Portal).</li> <li>Click the \"Configuration Manager\" button.</li> </ol>"},{"location":"Configure%20your%20Database%20Server%28s%29/#what-is-configurable","title":"What is configurable?","text":"<p>Available configuration parameters differ by cloud database topology.</p>"},{"location":"Configure%20your%20Database%20Server%28s%29/#enterprise-server-single-node","title":"Enterprise Server Single Node","text":"<p>For cloud databases with the Enterprise Server Single Node topology, the following Configuration Manager parameters are used to configure MariaDB Enterprise Server behavior:</p> <p>Parameter</p> <p>auto_increment_increment</p> <p>autocommit</p> <p>connect_timeout</p> <p>cracklib_password_check</p> <p>default_password_lifetime</p> <p>default_time_zone</p> <p>disconnect_on_expired_password</p> <p>div_precision_increment</p> <p>eq_range_index_dive_limit</p> <p>event_scheduler</p> <p>expire_logs_days</p> <p>explicit_defaults_for_timestamp</p> <p>idle_readonly_transaction_timeout</p> <p>idle_transaction_timeout</p> <p>idle_write_transaction_timeout</p> <p>innodb_autoextend_increment</p> <p>innodb_change_buffering</p> <p>innodb_flush_log_at_trx_commit</p> <p>innodb_log_file_size</p> <p>innodb_strict_mode</p> <p>interactive_timeout</p> <p>local_infile</p> <p>log_output</p> <p>log_slow_filter</p> <p>log_slow_rate_limit</p> <p>log_slow_verbosity</p> <p>log_warnings</p> <p>long_query_time</p> <p>lower_case_table_names</p> <p>max_allowed_packet</p> <p>max_connections</p> <p>max_password_errors</p> <p>net_buffer_length</p> <p>net_write_timeout</p> <p>optimizer_search_depth</p> <p>performance_schema</p> <p>performance_schema_accounts_size</p> <p>performance_schema_digests_size</p> <p>performance_schema_events_stages_history_long_size</p> <p>performance_schema_events_stages_history_size</p> <p>performance_schema_events_statements_history_long_size</p> <p>performance_schema_events_statements_history_size</p> <p>performance_schema_events_waits_history_long_size</p> <p>performance_schema_events_waits_history_size</p> <p>performance_schema_hosts_size</p> <p>performance_schema_max_cond_classes</p> <p>performance_schema_max_cond_instances</p> <p>performance_schema_max_digest_length</p> <p>performance_schema_max_file_classes</p> <p>performance_schema_max_file_handles</p> <p>performance_schema_max_file_instances</p> <p>performance_schema_max_mutex_classes</p> <p>performance_schema_max_mutex_instances</p> <p>performance_schema_max_rwlock_classes</p> <p>performance_schema_max_rwlock_instances</p> <p>performance_schema_max_socket_classes</p> <p>performance_schema_max_socket_instances</p> <p>performance_schema_max_stage_classes</p> <p>performance_schema_max_table_handles</p> <p>performance_schema_max_table_instances</p> <p>performance_schema_max_thread_classes</p> <p>performance_schema_max_thread_instances</p> <p>performance_schema_session_connect_attrs_size</p> <p>performance_schema_users_size</p> <p>proxy_protocol_networks</p> <p>read_only</p> <p>server_audit</p> <p>server_audit_file_rotate_size</p> <p>server_audit_logging</p> <p>session_track_system_variables</p> <p>simple_password_check_digits</p> <p>simple_password_check_letters_same_case</p> <p>simple_password_check_minimal_length</p> <p>simple_password_check_other_characters</p> <p>slow_query_log</p> <p>sort_buffer_size</p> <p>sql_mode</p> <p>strict_password_validation</p> <p>system_versioning_alter_history</p> <p>thread_cache_size</p> <p>thread_handling</p> <p>thread_pool_idle_timeout</p> <p>thread_pool_max_threads</p> <p>thread_pool_priority</p> <p>transaction_isolation</p> <p>wait_timeout</p>"},{"location":"Configure%20your%20Database%20Server%28s%29/#enterprise-server-with-replicas","title":"Enterprise Server With Replica(s)","text":"<p>For cloud databases with the Enterprise Server With Replica(s) topology, Configuration Manager can be used to configure MariaDB Enterprise Server behavior and MariaDB MaxScale behavior.</p> <p>The following Configuration Manager parameters are used to configure MariaDB Enterprise Server behavior:</p> <p>Parameter</p> <p>auto_increment_increment</p> <p>autocommit</p> <p>binlog_commit_wait_count</p> <p>binlog_commit_wait_usec</p> <p>connect_timeout</p> <p>cracklib_password_check</p> <p>default_password_lifetime</p> <p>default_time_zone</p> <p>disconnect_on_expired_password</p> <p>div_precision_increment</p> <p>eq_range_index_dive_limit</p> <p>event_scheduler</p> <p>expire_logs_days</p> <p>explicit_defaults_for_timestamp</p> <p>gtid_strict_mode</p> <p>idle_readonly_transaction_timeout</p> <p>idle_transaction_timeout</p> <p>idle_write_transaction_timeout</p> <p>innodb_autoextend_increment</p> <p>innodb_change_buffering</p> <p>innodb_flush_log_at_trx_commit</p> <p>innodb_log_file_size</p> <p>innodb_strict_mode</p> <p>interactive_timeout</p> <p>local_infile</p> <p>log_output</p> <p>log_slow_filter</p> <p>log_slow_rate_limit</p> <p>log_slow_verbosity</p> <p>log_warnings</p> <p>long_query_time</p> <p>lower_case_table_names</p> <p>max_allowed_packet</p> <p>max_connections</p> <p>max_password_errors</p> <p>net_buffer_length</p> <p>net_write_timeout</p> <p>optimizer_search_depth</p> <p>performance_schema</p> <p>performance_schema_accounts_size</p> <p>performance_schema_digests_size</p> <p>performance_schema_events_stages_history_long_size</p> <p>performance_schema_events_stages_history_size</p> <p>performance_schema_events_statements_history_long_size</p> <p>performance_schema_events_statements_history_size</p> <p>performance_schema_events_waits_history_long_size</p> <p>performance_schema_events_waits_history_size</p> <p>performance_schema_hosts_size</p> <p>performance_schema_max_cond_classes</p> <p>performance_schema_max_cond_instances</p> <p>performance_schema_max_digest_length</p> <p>performance_schema_max_file_classes</p> <p>performance_schema_max_file_handles</p> <p>performance_schema_max_file_instances</p> <p>performance_schema_max_mutex_classes</p> <p>performance_schema_max_mutex_instances</p> <p>performance_schema_max_rwlock_classes</p> <p>performance_schema_max_rwlock_instances</p> <p>performance_schema_max_socket_classes</p> <p>performance_schema_max_socket_instances</p> <p>performance_schema_max_stage_classes</p> <p>performance_schema_max_table_handles</p> <p>performance_schema_max_table_instances</p> <p>performance_schema_max_thread_classes</p> <p>performance_schema_max_thread_instances</p> <p>performance_schema_session_connect_attrs_size</p> <p>performance_schema_users_size</p> <p>proxy_protocol_networks</p> <p>read_only</p> <p>rpl_semi_sync_master_enabled</p> <p>rpl_semi_sync_master_timeout</p> <p>rpl_semi_sync_master_wait_no_slave</p> <p>rpl_semi_sync_master_wait_point</p> <p>rpl_semi_sync_slave_delay_master</p> <p>rpl_semi_sync_slave_enabled</p> <p>rpl_semi_sync_slave_kill_conn_timeout</p> <p>server_audit</p> <p>server_audit_file_rotate_size</p> <p>server_audit_logging</p> <p>session_track_system_variables</p> <p>simple_password_check_digits</p> <p>simple_password_check_letters_same_case</p> <p>simple_password_check_minimal_length</p> <p>simple_password_check_other_characters</p> <p>slave_compressed_protocol</p> <p>slave_parallel_mode</p> <p>slave_parallel_threads</p> <p>slave_parallel_workers</p> <p>slow_query_log</p> <p>sort_buffer_size</p> <p>sql_mode</p> <p>strict_password_validation</p> <p>sync_binlog</p> <p>sync_master_info</p> <p>sync_relay_log</p> <p>sync_relay_log_info</p> <p>system_versioning_alter_history</p> <p>thread_cache_size</p> <p>thread_handling</p> <p>thread_pool_idle_timeout</p> <p>thread_pool_max_threads</p> <p>thread_pool_priority</p> <p>transaction_isolation</p> <p>wait_timeout</p>"},{"location":"Configure%20your%20Database%20Server%28s%29/#maxscale-configuration","title":"Maxscale configuration","text":"<p>The following Configuration Manager parameters are used to configure MariaDB MaxScale behavior:</p> <p>Parameter</p> <p>causal_reads</p> <p>causal_reads_timeout</p> <p>delayed_retry</p> <p>delayed_retry_timeout</p> <p>failcount</p> <p>master_accept_reads</p> <p>master_reconnection</p> <p>max_slave_connections</p> <p>max_slave_replication_lag</p> <p>monitor_interval</p> <p>slave_selection_criteria</p> <p>strict_multi_stmt</p> <p>strict_sp_calls</p> <p>transaction_replay</p> <p>transaction_replay_attempts</p> <p>transaction_replay_max_size</p> <p>transaction_replay_retry_on_deadlock</p> <p>use_sql_variables_in</p>"},{"location":"FAQs/","title":"FAQs","text":""},{"location":"FAQs/#what-is-the-history-of-skysql","title":"What is the history of SkySQL?","text":"<p>SkySQL is a database-as-a-service (DBaaS) that was originally developed and managed by MariaDB Corporation. The cloud division (SkySQL) was later spun out of MariaDB into a independent company -  SkySQL Inc.  The team that developed SkySQL transitioned over to the new company.</p>"},{"location":"FAQs/#how-do-i-sign-up-for-skysql","title":"How do I sign up for SkySQL?","text":"<ol> <li>Go to\u00a0https://app.skysql.com</li> <li>Log in or register using social login or email.</li> <li>Once registered, you can get started right away by\u00a0launching a service,\u00a0connecting, and\u00a0loading data.</li> </ol>"},{"location":"FAQs/#why-would-i-choose-a-dbaas-over-an-on-premises-deployment","title":"Why would I choose a DBaaS over an on-premises deployment?","text":"<p>Our platform and experts handle the infrastructure needs, allowing you to focus on your core business.</p> <p>When you choose SkySQL, a full-featured DBaaS, you forego the capital expenditure of buying hardware, the delay of waiting for new systems to ship every time you need to scale-up or scale-out, and the overhead and opportunity-cost of tuning, monitoring, and upgrading your database. SkySQL also handles routine tasks such as nightly backups and infrastructure maintenance.</p> <p>And if you need ultimate control, and have the necessary skills and resources to hand-pick instances and tune configurations, we offer SkySQL\u00a0Power Tier\u00a0to deliver all of the on-premises benefits without the capex (capital expense) and operational overhead.</p>"},{"location":"FAQs/#how-long-do-deployments-on-skysql-take","title":"How long do deployments on SkySQL take?","text":"<p>In Foundation Tier smaller databases launch in 2-4 mins. Power Tier deployments with isolated, dedicated Kubernetes environments can take up to 25 minutes. Subsequent database deployments will use the same Kubernetes environment and usually launch in 2-4 minutes. </p> <p>The real time benefits come every day after, when you're operating at scale. A failed database node can recover in a matter of seconds using Kubernetes self-healing, or instantly failover to alternate replicated server. Instead of an eight-hour bare metal rebuild as you might see on-premises or on other cloud platforms.</p>"},{"location":"FAQs/#what-version-of-mariadb-does-skysql-support","title":"What version of MariaDB does SkySQL support?","text":"<p>SkySQL provides services backed by:</p> <ul> <li>MariaDB Enterprise Server 10.4</li> <li>MariaDB Enterprise Server 10.5</li> <li>MariaDB Enterprise Server 10.6</li> <li>MariaDB MaxScale</li> <li></li> </ul>"},{"location":"FAQs/#are-other-databases-supported","title":"Are other databases supported?","text":"<p>No, SkySQL is dedicated to being the top choice for MariaDB. Our goal is to provide the best price-performance of any DBaaS, offer significant productivity improvements through automation, and serve as the most comprehensive end-to-end platform for all your database needs.</p> <p>We offer \u201cfractional DBAs\u201d - expert-maintained multi-cloud databases. We're glad to help with your move to SkySQL, whether you're\u00a0migrating\u00a0from another database platform or looking to\u00a0lift-and-shift\u00a0a MariaDB implementation to SkySQL.</p>"},{"location":"FAQs/#what-hardware-does-skysql-run-on","title":"What hardware does SkySQL run on?","text":"<p>SkySQL is multi-cloud and as a full-featured DBaaS we handle all of the hardware and infrastructure needs.</p> <p>Services are currently available with a range of\u00a0instance sizes\u00a0running on:</p> <ul> <li>Amazon AWS (Amazon Web Services) and Amazon EKS (Elastic Kubernetes Service)</li> <li>Google GCP (Google Cloud Platform) and Google GKE (Google Kubernetes Engine)</li> </ul> <p>Transactional services (such as our Replicated Transactions topology) operate on:</p> <ul> <li>AWS with\u00a0EBS Provisioned SSD (gp2, gp3, io1 type)\u00a0with\u00a0Amazon EBS encryption</li> <li>GCP with\u00a0Zonal SSD Persistent Disk\u00a0with\u00a0Google's default encryption</li> </ul>"},{"location":"FAQs/#what-software-stack-does-skysql-run-on","title":"What software stack does SkySQL run on?","text":"<p>SkySQL runs on Amazon Elastic Kubernetes Service (EKS), Google Kubernetes Engine (GKE), and MariaDB database products - Enterprise Server, Maxscale. MariaDB Enterprise Server enables a predictable development and operations experience through optimized builds, predictable release behavior, and vendor support.</p>"},{"location":"FAQs/#how-long-has-skysql-existed","title":"How long has SkySQL existed?","text":"<p>SkySQL\u00a0officially launched\u00a0as a production-ready enterprise-grade DBaaS in 2020, after extensive pre-release testing.</p>"},{"location":"FAQs/#is-skysql-ready-for-production-use","title":"Is SkySQL ready for production use?","text":"<p>Yes. SkySQL delivers enterprise-grade cloud database services for mission-critical applications. SkySQL is built to make MariaDB Enterprise ready - optimized for security, stability, and reliability in demanding production environments. Multi-node database deployments feature a comprehensive\u00a0SLA, High Availability (HA) features, and operations features.\u00a0Enterprise support\u00a0options extend support to 24x7, with the additional option of\u00a0SkyDBA\u00a0for reactive and proactive assistance from a team of expert DBAs.\u00a0Security features\u00a0are designed to meet the GRC and infosec challenges faced by modern applications, and\u00a0DPA (GDPR) and BAA (HIPAA)\u00a0are available.</p>"},{"location":"FAQs/#skysql-features","title":"SkySQL Features","text":""},{"location":"FAQs/#what-services-are-available-on-skysql","title":"What services are available on SkySQL?","text":"<p>SkySQL is primarily designed for online applications and offers two topologies - </p> <p>Replicated Transactions, Single Node Transactions</p>"},{"location":"FAQs/#what-options-are-available-for-scaling-and-right-sizing-skysql","title":"What options are available for scaling and right-sizing SkySQL?","text":"<p>You can choose\u00a0topologies to match your workload requirements, cloud regions to match your latency and operating requirements, instance sizes,\u00a0and\u00a0support plan.</p> <p>Our platform features:</p> <ul> <li>Services optimized for transactional (OLTP) and\u00a0analytical(Future)</li> <li>Availability in a range of database\u00a0instance sizes and storage sizes</li> <li>Availability from multiple\u00a0AWS (Amazon Web Services) and GCP (Google Cloud Platform) regions.</li> <li>Load Balancing features included with\u00a0Replicated Transactions topologies\u00a0allow for read-scaling through read-write splitting.</li> <li>Custom instance sizes (for\u00a0Power Tier\u00a0customers)</li> <li>Range of\u00a0support options</li> </ul>"},{"location":"FAQs/#what-reliability-features-are-available-on-skysql","title":"What reliability features are available on SkySQL?","text":"<ul> <li>SkySQL is operated by a global team of Site Reliability Engineers (SRE), expert DBAs, and MariaDB software engineers. Platform problems are escalated to our team 24x7.</li> <li>Support from MariaDB Corporation, including Enterprise and Platinum tiers optionally with SkyDBA for reactive and proactive assistance</li> <li>Service Level Agreement, including an elevated SLA for\u00a0Power Tier customers</li> <li>Kubernetes self-healing - Databases run in containers in kubernetes clusters and auto-heal.</li> <li>Load balancing for multi-node configurations using MariaDB MaxScale</li> <li>High Availability (HA) for multi-node configurations</li> <li>MaxScale Redundancy option</li> <li>Inbound and outbound replication - you can replicate to your self managed MariaDB anywhere.</li> </ul>"},{"location":"FAQs/#what-operations-features-are-available-on-skysql","title":"What operations features are available on SkySQL?","text":"<ul> <li>Support from SkySQL Inc, including Enterprise and Platinum tiers optionally with SkyDBA for reactive and proactive assistance</li> <li>Vendor managed infrastructure and platform</li> <li>SkySQL Portal and SkySQL DBaaS API for instance management</li> <li>Compatibility with most programming languages and clients that work with MariaDB or MySQL, for off-the-shelf integration to your stack</li> <li>Scheduled upgrades to database software</li> <li>Automated nightly backups</li> <li>Configuration management</li> <li>On-demand backups and Snapshots</li> <li>Monitoring</li> <li>Ability to deploy additional services to support application migrations and testing on the same configuration used in production</li> <li>On-demand tear-down of unneeded services</li> </ul>"},{"location":"FAQs/#what-governance-risk-compliance-and-information-security-features-are-available-on-skysql","title":"What governance, risk, compliance, and information security features are available on SkySQL?","text":"<ul> <li>Firewall protection, including dedicated IP allowlists to access databases and to access monitoring features</li> <li>Data-at-rest encryption</li> <li>Data-in-transit encryption by default</li> <li>VPC peering, AWS PrivateLink and GCP Private Service Connect options</li> <li>Standard or enterprise authentication for management portal</li> <li>Standard, LDAP, or 2FA database authentication</li> <li>Business Associate Addendum (BAA) for HIPAA</li> <li>Data Processing Addendum (DPA) for GDPR</li> </ul>"},{"location":"FAQs/#pricing","title":"Pricing","text":""},{"location":"FAQs/#what-does-skysql-cost-how-is-skysql-priced","title":"What does SkySQL cost? How is SkySQL priced?","text":"<p>Estimated SkySQL pricing is available from the\u00a0SkySQL portal. SkySQL pricing is very competitive and starts at about $100 per month for production grade databases. </p> <p>SkySQL pricing varies based on the selections made when you\u00a0launch a service. Examples of selections include provider, topology, instance and storage size, and region.</p> <p>The pricing shown is not a quote and does not guarantee the cost for your actual use of SkySQL services, as is shown on monthly invoices. The cost estimate can vary from your actual costs for\u00a0several reasons.</p>"},{"location":"FAQs/#do-i-need-to-purchase-a-mariadb-server-license-or-subscription-to-use-skysql","title":"Do I need to purchase a MariaDB Server license or subscription to use SkySQL?","text":"<p>No. Purchase of SkySQL service includes\u00a0support\u00a0and access to\u00a0MariaDB database products on SkySQL.</p>"},{"location":"FAQs/#i-have-an-existing-contract-with-google-can-i-leverage-this-for-skysql","title":"I have an existing contract with Google. Can I leverage this for SkySQL?","text":"<p>Yes. SkySQL is listed in the Google Cloud Marketplace. Customers have the ability to retire their GCP commitment with a SkySQL subscription via the Marketplace.</p> <p>See the Marketplace listing.</p> <p>Contact us\u00a0if you have further questions.</p>"},{"location":"FAQs/#i-have-an-existing-contract-with-aws-can-i-leverage-this-for-skysql","title":"I have an existing contract with AWS. Can I leverage this for SkySQL?","text":"<p>Yes. SkySQL is an AWS partner network. Customers can retire their AWS commitment with a SkySQL subscription via the AWS Marketplace.</p> <p>See the AWS Marketplace listing</p> <p>Contact us\u00a0if you have further questions.</p>"},{"location":"FAQs/#do-you-have-a-pricing-calculator","title":"Do you have a pricing calculator?","text":"<p>Estimated SkySQL pricing information is shown when you\u00a0create a service\u00a0based on the selections you make at launch time, such as topology, region, and instance size. Please\u00a0contact us\u00a0for assistance in cost estimation, including\u00a0support\u00a0and\u00a0Power Tier.</p>"},{"location":"FAQs/#what-is-included-in-skysql-pricing","title":"What is included in SkySQL pricing?","text":"<p>SkySQL pricing includes instances for a specific service topology, and monitoring, and also includes management features, e.g., backups, upgrades, patch installs, etc.\u00a0Some factors, such as object storage and network egress which are variable and usage-dependent, are not included in estimated pricing. We typically pass-thru the cloud provider costs with no additional markup. </p>"},{"location":"FAQs/#what-is-optional-in-skysql-pricing","title":"What is optional in SkySQL pricing?","text":"<p>Add-ons are available to optimize your SkySQL experience:</p> <ul> <li>SkySQL Power Tier\u00a0is a premium service offering for SkySQL customers who have the most critical requirements for uptime, availability, performance, and support.</li> <li>While all Foundation Tier services include Standard Support, Power Tier customers are offered the \u00a0Enterprise support plan.</li> <li>An optional add-on,\u00a0SkyDBA, further extends the premium support experience and the capabilities of your in-house DBAs with the backing from a global team of expert MariaDB DBAs, available 24/7 for the most severe (P1) issues. SkySQL's SkyDBAs manage your  SkySQL databases both proactively and reactively so you can focus on your core business.</li> </ul>"},{"location":"FAQs/#is-discounted-pricing-available-for-a-longer-term-commitment","title":"Is discounted pricing available for a longer-term commitment?","text":"<p>Yes. Discounts are typically offered for one-year and three-year commitments. Please\u00a0contact us\u00a0for more information.</p>"},{"location":"FAQs/#payment","title":"Payment","text":""},{"location":"FAQs/#what-forms-of-payment-does-skysql-accept","title":"What forms of payment does SkySQL accept?","text":"<p>SkySQL accepts payment by\u00a0major credit card and through remittance accounts</p>"},{"location":"FAQs/#which-credit-cards-does-skysql-accept","title":"Which credit cards does SkySQL accept?","text":"<p>SkySQL accepts all major credit cards. Specifically, we accept Visa, Mastercard, American Express, Discover, and Diners Club payments from customers worldwide. </p> <p>Note</p> <p>SkySQL does not store any of your credit card information. We use Stripe to manage all credit card transactions. Stripe is a widely used payment processing platform that enables businesses to accept credit card payments securely</p>"},{"location":"FAQs/#how-do-i-set-up-my-account-to-pay-by-wire-transferach","title":"How do I set up my account to pay by wire transfer/ACH?","text":"<p>Contact us\u00a0to have your account set up for payment by wire transfer or ACH.</p>"},{"location":"FAQs/#can-i-pre-fund-my-account","title":"Can I pre-fund my account?","text":"<p>SkySQL contract customers can pre-fund their account.\u00a0Contact us\u00a0for more information.</p>"},{"location":"FAQs/#how-do-i-pay-my-bill","title":"How do I pay my bill?","text":"<p>SkySQL charges are paid using a credit card, or via wire transfer/ACH upon invoice in the case of remittance accounts.</p>"},{"location":"FAQs/#can-i-buy-skysql-in-the-aws-marketplace","title":"Can I buy SkySQL in the AWS Marketplace?","text":"<p>Yes. We offer direct purchase through the AWS Marketplace or we can craft a \"private offer\" to customize a subscription.</p> <p>See the AWS Marketplace listing</p> <p>Contact us\u00a0if you have further questions.</p>"},{"location":"FAQs/#i-have-an-existing-contract-with-aws-can-i-leverage-this-for-skysql_1","title":"I have an existing contract with AWS. Can I leverage this for SkySQL?","text":"<p>Yes. SkySQL is an AWS partner network. Customers can retire their AWS commitment with a SkySQL subscription via the AWS Marketplace.</p> <p>See the AWS Marketplace listing</p> <p>Contact us\u00a0if you have further questions.</p>"},{"location":"FAQs/#can-i-buy-skysql-in-the-google-marketplace","title":"Can I buy SkySQL in the Google Marketplace?","text":"<p>Yes. We offer direct purchase through the Google Marketplace or we can craft a \"private offer\" to customize a subscription.</p> <p>See the Marketplace listing.</p> <p>Contact us\u00a0if you have further questions.</p>"},{"location":"FAQs/#i-have-an-existing-contract-with-google-can-i-leverage-this-for-skysql_1","title":"I have an existing contract with Google. Can I leverage this for SkySQL?","text":"<p>Yes. SkySQL is listed in the Google Cloud Marketplace. Customers have the ability to retire their GCP commitment with a SkySQL subscription via the Marketplace.</p> <p>See the Marketplace listing.</p> <p>Contact us\u00a0if you have further questions.</p>"},{"location":"FAQs/#billing-and-invoices","title":"Billing and Invoices","text":""},{"location":"FAQs/#am-i-charged-for-deleted-or-stopped-databases-what-database-states-are-billable","title":"Am I charged for deleted or stopped databases? What database states are billable?","text":"<p>If you\u00a0stop a SkySQL service, you will continue to be charged for storage, since your data is not deleted. Instance and egress charges will stop until the instance is started again.</p>"},{"location":"FAQs/#how-can-i-see-my-current-charges","title":"How can I see my current charges?","text":"<p>Current month's\u00a0estimated charges\u00a0can be viewed on the SkySQL portal dashboard. Detailed information is also available under \u2018Billing\u2019 where you can see the breakdown for all your current charges - you can see resource usage by Service Name (your individual DB clusters) or by resource type. Variable charges such as object storage and network egress are updated the day prior to the last day of the month and are available in the invoice. You can also use the SkySQL REST API to fetch usage and billing data. </p>"},{"location":"FAQs/#how-can-i-see-detailed-billing-reports","title":"How can I see detailed billing reports?","text":"<p>SkySQL invoices are sent monthly and include a detailed breakdown of usage, pricing, and taxes. For Team accounts, only the Team owner has access to Account Information.</p>"},{"location":"FAQs/#when-will-i-be-billed","title":"When will I be billed?","text":"<p>Invoices for  SkySQL are sent by email on subscription renewal. Subscription renewal occurs on the last day of the month. Accounts using a credit card are charged at this time.</p>"},{"location":"FAQs/#will-i-be-charged-vat-or-taxes","title":"Will I be charged VAT or taxes?","text":"<p>MariaDB will bill for VAT and/or taxes in applicable jurisdictions. Customers are responsible for paying all applicable taxes and fees. See the\u00a0SkySQL Terms of Use\u00a0for additional information.</p>"},{"location":"FAQs/#how-can-i-see-discounts-and-service-credits","title":"How can I see discounts and service credits?","text":"<p>Current month's\u00a0estimated charges, including coupons and service credits, can be viewed on the\u00a0Account Information\u00a0page and are updated six times per day.</p> <p>In the event of service credits issued based on\u00a0SLA, service credits will be included in coupons and service credits on the\u00a0Account Information\u00a0page.</p>"},{"location":"FAQs/#can-i-stop-or-pause-my-instance-to-save-money","title":"Can I stop or pause my instance to save money?","text":"<p>Instances can be\u00a0stopped\u00a0to save money. While stopped, additional instance and egress charges will not accrue, but you will continue to be charged for storage.</p>"},{"location":"FAQs/#who-do-i-contact-with-billing-questions","title":"Who do I contact with billing questions?","text":"<p>Contact\u00a0info@skysql.com\u00a0with billing questions.</p>"},{"location":"FAQs/#backup-and-restore","title":"Backup and Restore","text":""},{"location":"FAQs/#how-do-i-backup-my-data-on-skysql","title":"How do I backup my data on SkySQL?","text":"<p>SkySQL runs full backups automatically each night. SkySQL also allows on-demand backups (a Preview feature)</p>"},{"location":"FAQs/#can-i-set-the-frequency-or-schedule-of-automated-backups","title":"Can I set the frequency or schedule of automated backups?","text":"<p>No. Backup frequency and schedule are not customer configurable. SkySQL Power Tier customers should contact us if alternate backup frequency or schedule is required.</p>"},{"location":"FAQs/#are-automated-backups-sent-offsite-will-my-data-be-sent-to-another-country","title":"Are automated backups sent offsite? Will my data be sent to another country?","text":"<p>No. Data is not sent to another country. All data is managed within the same region where your database is running for data sovereignty. </p>"},{"location":"FAQs/#does-skysql-guarantee-an-rto-and-rpo","title":"Does SkySQL guarantee an RTO and RPO?","text":"<p>No.</p>"},{"location":"FAQs/#do-backup-operations-impact-application-performance","title":"Do backup operations impact application performance?","text":"<p>No.</p> <p>MariaDB Enterprise Backup (mariabackup) is used for Replicated Transactions and Single Node Transactions service backups. MariaDB Enterprise Backup breaks up backups into non-blocking stages so writes and schema changes can occur during backups.</p>"},{"location":"FAQs/#are-incremental-backups-available","title":"Are incremental backups available?","text":"<p>The backup service provides support for incremental backups. It is in preview state (Dec 2023). </p>"},{"location":"FAQs/#how-long-are-backups-retained","title":"How long are backups retained?","text":"<p>Backups for running and stopped services are retained for 30 days. If a service is deleted, no further backups for that service are produced and backups on hand are purged after 7 days.</p>"},{"location":"FAQs/#can-i-set-the-retention-window-for-automated-backups","title":"Can I set the retention window for automated backups?","text":"<p>No. Backup retention is not customer configurable. SkySQL Power Tier customers should contact us if an alternate retention schedule is required.</p>"},{"location":"FAQs/#how-do-i-restore-my-data-from-a-skysql-backup","title":"How do I restore my data from a SkySQL backup?","text":"<p>Request data restore by creating a support case in the\u00a0Customer Support Portal. Please state what you need restored, and the desired restore point. Self service Restore functionality is available using the Backup service and API (in Preview as of Dec 2023)</p>"},{"location":"FAQs/#can-i-request-a-partial-restore-of-data-from-backup","title":"Can I request a partial restore of data from backup?","text":"<p>Yes, by\u00a0support case.</p>"},{"location":"FAQs/#does-skysql-support-point-in-time-recovery-pitr","title":"Does SkySQL support Point-in-Time Recovery (PITR)?","text":"<p>By default, full and complete backup restoration is available. To enable point-in-time recovery, services must be configured in advance for additional binary log retention.\u00a0Point-in-time recovery (PITR)\u00a0configuration is available to\u00a0Power Tier\u00a0customers.</p>"},{"location":"FAQs/#can-i-request-restore-of-my-data-to-a-different-region","title":"Can I request restore of my data to a different region?","text":"<p>Yes, by\u00a0support case</p>"},{"location":"FAQs/#can-i-request-restore-of-my-data-to-a-different-topology","title":"Can I request restore of my data to a different topology?","text":"<p>Yes, by\u00a0support case</p>"},{"location":"FAQs/#can-i-retrieve-my-database-backup-from-skysql-is-there-vendor-lock","title":"Can I retrieve my database backup from SkySQL? Is there vendor lock?","text":"<p>Yes, you can retrieve your database. No, there is no vendor lock. Your data is your data. Create a\u00a0support case\u00a0for access to a backup.</p>"},{"location":"FAQs/#encryption","title":"Encryption","text":""},{"location":"FAQs/#does-skysql-support-data-at-rest-encryption-on-disk-encryption","title":"Does SkySQL support data-at-rest encryption (on-disk encryption)?","text":"<p>Yes. All SkySQL data is encrypted on disk.</p> <ul> <li>SkySQL on Amazon AWS benefits from\u00a0Amazon EBS encryption.</li> <li>SkySQL on Google GCP benefits from\u00a0encryption by default.</li> </ul>"},{"location":"FAQs/#does-skysql-support-data-in-transit-encryption-over-the-network-encryption","title":"Does SkySQL support data-in-transit encryption (over the network encryption)?","text":"<p>By default,  SkySQL services feature data-in-transit encryption for client connections.</p> <p>By default, server-to-server communications between the nodes of a SkySQL service are protected with data-in-transit encryption.</p> <p>For additional information, see \"Data-in-Transit Encryption\".</p>"},{"location":"FAQs/#does-skysql-support-encrypted-client-connections","title":"Does SkySQL support encrypted client connections?","text":"<p>Yes. By default, SkySQL requires client connections via TLS (TLS 1.2, TLS 1.3).</p>"},{"location":"FAQs/#does-skysql-support-unencrypted-client-connections","title":"Does SkySQL support unencrypted client connections?","text":"<p>SkySQL supports\u00a0disabling SSL/TLS via the Portal or using the API. </p>"},{"location":"FAQs/#what-encryption-algorithms-are-used-for-on-disk-encryption","title":"What encryption algorithms are used for on-disk encryption?","text":"<p>SkySQL on Amazon AWS benefits from\u00a0Amazon EBS encryption, which is AES256.</p> <p>SkySQL on Google GCP leverages Google's\u00a0default encryption, which is AES256 or AES128.</p>"},{"location":"FAQs/#what-versions-of-ssl-or-tls-are-supported","title":"What versions of SSL or TLS are supported?","text":"<p>TLS 1.2, and TLS 1.3 are supported.</p>"},{"location":"FAQs/#when-do-tls-certificates-expire","title":"When do TLS certificates expire?","text":"<p>TLS certificates expire every two years.</p>"},{"location":"FAQs/#how-are-tls-certificates-and-encryption-keys-managed","title":"How are TLS certificates and encryption keys managed?","text":"<p>MariaDB Corporation leverages HashiCorp Vault for certificate and key management. Certificates and keys are not customer-configurable.</p>"},{"location":"FAQs/#are-client-certificates-supported","title":"Are client certificates supported?","text":"<p>No. SkySQL supports server-side certificates. Database users are authenticated by standard password authentication, LDAP, and/or Two-Factor Authentication (2FA).</p>"},{"location":"FAQs/#is-ed25519-authentication-supported","title":"Is ed25519 authentication supported?","text":"<p>No. While MariaDB Enterprise Server includes ed25519 support, SkySQL leverages a version of MariaDB MaxScale which is not ed25519-compatible.</p>"},{"location":"FAQs/#why-do-i-need-to-download-a-certificate-authority-chain","title":"Why do I need to download a certificate authority chain?","text":"<p>A certificate authority chain is provided to allow your client to establish a secure and encrypted connection to a SkySQL database service, confirming the authenticity of the server certificate.</p>"},{"location":"FAQs/#how-frequently-are-cryptography-libraries-like-openssl-updated","title":"How frequently are cryptography libraries (like OpenSSL) updated?","text":"<p>Cryptography libraries are included in our standard release process, and vulnerability scanning is conducted for each release.</p>"},{"location":"FAQs/#data-deletion","title":"Data Deletion","text":""},{"location":"FAQs/#can-i-delete-my-running-or-stopped-skysql-service","title":"Can I delete my running or stopped SkySQL service?","text":"<p>Yes. The decision to delete your running service rests with you and your business. Please consider production impacts before deleting a service. SkySQL permits the on-demand deletion of running and stopped services.</p>"},{"location":"FAQs/#can-i-delete-my-pending-skysql-service","title":"Can I delete my pending SkySQL service?","text":"<p>No. The launch process must complete before deletion is permitted.</p>"},{"location":"FAQs/#how-long-do-you-keep-my-data-when-i-delete-a-service","title":"How long do you keep my data when I delete a service?","text":"<p>All data residing on a service's storage is deleted at time of service deletion. Backups for deleted services are purged after 7 days.</p>"},{"location":"FAQs/#can-i-get-my-data-back-if-i-delete-a-service-by-accident","title":"Can I get my data back if I delete a service by accident?","text":"<p>Maybe. If you contact us before the system completes data deletion, yes, we can recover. Backups for deleted services are purged after 7 days.</p>"},{"location":"FAQs/#is-it-possible-for-skysql-to-retain-my-data-when-i-delete-a-service","title":"Is it possible for SkySQL to retain my data when I delete a service?","text":"<p>No. You should download your data so you have a local copy before you delete the service.</p>"},{"location":"FAQs/#will-my-data-be-retained-if-a-hard-drive-gets-swapped-out","title":"Will my data be retained if a hard drive gets swapped-out?","text":"<p>No. SkySQL is hosted on public cloud provider systems.</p> <ul> <li>SkySQL on Amazon AWS benefits from\u00a0Amazon EBS encryption\u00a0and\u00a0Amazon's data destruction controls.</li> <li>SkySQL on Google Cloud benefits from\u00a0encryption by default\u00a0and\u00a0Google's data destruction controls.</li> </ul>"},{"location":"FAQs/#can-data-be-purged-from-backups","title":"Can data be purged from backups?","text":"<p>Yes. If you would like backups purged, please\u00a0create a support case</p>"},{"location":"FAQs/#monitoring","title":"Monitoring","text":""},{"location":"FAQs/#how-do-i-access-monitoring","title":"How do I access monitoring?","text":"<p>You can SkySQL Monitoring after launching a service, then clicking the \"Monitoring\" link in the SkySQL main menu (left navigation).</p>"},{"location":"FAQs/#what-is-monitored","title":"What is monitored?","text":"<p>SkySQL Monitoring covers status and metrics specific to a service and its servers. A\u00a0complete list of charts\u00a0is provided. </p>"},{"location":"FAQs/#who-is-alerted-if-a-service-goes-down","title":"Who is alerted if a service goes down?","text":"<p>SkySQL Inc\u2019s Support and SRE teams are alerted if a SkySQL service becomes unavailable or when serious issues are detected (e.g. disk is 90% utilized). </p> <p>Additionally, SkySQL automatically turns on several sensible alerting rules so the customer can also be alerted. </p>"},{"location":"FAQs/#how-can-i-get-alerted-on-db-events","title":"How can I get Alerted on DB events?","text":"<p>SkySQL Monitoring includes alerting features, which allow configurable alerting rules, notification channels, and notification criteria. These settings are managed from the SkySQL Monitoring interface. You can SkySQL Monitoring after launching a service by clicking the \"Monitoring\" link in the SkySQL main menu (left navigation).</p>"},{"location":"FAQs/#support","title":"Support","text":""},{"location":"FAQs/#how-do-i-contact-support","title":"How do I contact support?","text":"<p>SkySQL customers can contact us via the\u00a0Customer Support Portal.</p> <p>If you are not yet a SkySQL customer, please\u00a0contact us\u00a0with questions.</p>"},{"location":"FAQs/#what-support-options-are-available-for-skysql","title":"What support options are available for SkySQL?","text":"<p>Included with Foundation Tier services:</p> <ul> <li>Standard Support, 24x5</li> </ul> <p>Available to Power Tier customers:</p> <ul> <li>Enterprise Support, 24x7</li> </ul> <p>See\u00a0full details of our support options.</p>"},{"location":"FAQs/#is-24x7x365-support-available-for-mission-critical-applications","title":"Is 24x7x365 support available for mission-critical applications?","text":"<p>Yes.\u00a0Enterprise support levels are available for customers requiring 24x7x365 support (24 hours per day, 7 days per week, 365 (or 366) days per year).</p>"},{"location":"FAQs/#is-skysql-fully-managed","title":"Is SkySQL fully managed?","text":"<p>Yes. SkySQL infrastructure is fully managed, including many typical operations features such as automated nightly backups and monitoring.</p> <p>Standard support is included with Foundation Tier services. Activities like performance tuning and assistance with schema change is not included in standard support. Power Tier customers choose between Enterprise and Platinum support options, which include consultative support.</p> <p>Our optional\u00a0SkyDBA\u00a0service is available for Enterprise and Platinum support customers, and SkyDBA customers receive both reactive (break/fix) and proactive (analyze/enhance) assistance.</p>"},{"location":"FAQs/#what-professional-services-are-available-for-skysql","title":"What professional services are available for SkySQL?","text":"<p>SkySQL offers a full range of professional services, including:</p> <ul> <li>SkyDBA\u00a0for proactive and reactive support</li> <li>Migration\u00a0assistance</li> <li>Assistance with your SkySQL proof-of-concept (contact us for more information)</li> </ul>"},{"location":"FAQs/#inquiries","title":"Inquiries","text":""},{"location":"FAQs/#who-do-i-contact-if-i-have-questions-about-skysql","title":"Who do I contact if I have questions about SkySQL?","text":"<p>Contact SkySQL Inc\u00a0or email us at info@skysql.ai</p>"},{"location":"FAQs/#how-can-i-keep-up-to-date-on-changes-to-skysql","title":"How can I keep up-to-date on changes to SkySQL?","text":"<p>Release notes\u00a0are provided to show changes to SkySQL services, features, interfaces, and documentation.</p>"},{"location":"FAQs/#how-do-i-contact-sales-to-buy-services-on-skysql","title":"How do I contact sales to buy services on SkySQL?","text":"<p>SkySQL is available for immediate use.\u00a0Sign up\u00a0today and\u00a0get started. If you would like assistance from sales,\u00a0contact us.</p>"},{"location":"FAQs/#who-do-i-contact-with-billing-questions_1","title":"Who do I contact with billing questions?","text":"<p>Billing questions can be directed to accounts receivable at\u00a0billing@mariadb.com</p>"},{"location":"FAQs/#how-do-i-provide-feedback-about-skysql-documentation","title":"How do I provide feedback about SkySQL Documentation?","text":"<p>To aid our continuous improvement efforts, we encourage you to provide feedback on our documentation and your experiences using it via the following:</p> <ul> <li>Email info@skysql.com</li> </ul>"},{"location":"FAQs/#i-am-a-skysql-customer-how-do-i-get-support","title":"I am a SkySQL customer. How do I get support?","text":"<p>SkySQL customers can contact us via the\u00a0Customer Support Portal</p>"},{"location":"FractionalDBA/","title":"Fractional DBA Service - SkyDBA","text":"<p>SkyDBA is a \"Fractional\" DBA Service, a cost-effective solution for businesses that need database administration but do not require a full-time database administrator. This service provides access to a team of experienced database administrators on a part-time basis. Whether it's for routine maintenance, troubleshooting, or strategic advice, SkyDBA's Fractional DBA Service ensures that expert assistance is just a call away. This approach not only saves the expense of a full-time employee but also provides a higher level of service due to the collective knowledge and experience of the SkyDBA team.</p> <p>Note</p> <p>SkyDBA is an optional service that you can purchase. You can avail of this service regardless of the Tier (Foundation or Power) used to deploy DB services. For more information, please contact SkySQL support </p> <p>Here is what you can expect from this \u201cadd-on\u201d service. </p>"},{"location":"FractionalDBA/#migration-methodology-advice","title":"Migration Methodology &amp; Advice","text":"<p>Expert advice available on migration methodology and procedures.</p>"},{"location":"FractionalDBA/#query-optimization-and-performance-tuning","title":"Query Optimization and Performance Tuning","text":"<p>Get expert advice on poorly performing in operation queries. Upon request, SkyDBA\u2019s can also create indexes or perform other DDL changes to help improve performance or reliability.</p>"},{"location":"FractionalDBA/#quarterly-business-review","title":"Quarterly Business Review","text":"<p>With a SkyDBA subscription, your customer success manager can schedule quarterly business reviews with someone from the SkyDBA team to review items such as:</p> <ul> <li>Historical usage focusing on peak</li> <li>Future Growth/Capacity Planning</li> <li>Recovery Time (RTO)/Recovery Point (RPO) Objectives</li> <li>Escalation Points</li> <li>Business Continuity</li> </ul>"},{"location":"FractionalDBA/#quarterly-security-audits","title":"Quarterly Security Audits","text":"<p>Work with the SkyDBA team to ensure that your environment is safe and secure. This includes auditing of users and grants.</p>"},{"location":"FractionalDBA/#proactive-monitoring-and-incident-response","title":"Proactive Monitoring and Incident Response","text":"<p>The SkyDBA team will be alerted when events occur on your instances that could impact your business. Events will open a case in the Customer Service portal and the SkyDBA team will investigate the event and work with your team to resolve any issues.</p>"},{"location":"FractionalDBA/#extended-troubleshootinganalysis-core-dumps-system-logs-etc","title":"Extended Troubleshooting/Analysis (Core Dumps, system logs, etc.)","text":"<p>With a SkyDBA Subscription, our database experts can assist with tasks such as analyzing core dumps, system logs and other similar technical issues that may require deeper focus.</p>"},{"location":"FractionalDBA/#tailored-backuprestore-strategies","title":"Tailored Backup/Restore Strategies","text":"<p>Work with the SkyDBA team to set up custom backup and restore strategies based on your needs.</p>"},{"location":"FractionalDBA/#data-recovery-assistance-and-validation","title":"Data Recovery Assistance and Validation","text":"<p>Have the SkyDBA team help you recover data from a backup (or other source) and periodically validate that backups are valid in the event a restore is ever needed. Recovering a backup to a secondary service will require additional compute resource expenditure.</p>"},{"location":"Scaling%20horizontally%2C%20HA/","title":"Scaling horizontally, HA","text":"<p>Note</p> <p>COMING SOON </p> <p>SkySQL, unlike hyperscalers, deploy replicas in a active-active configuration. When primary crashes our smart proxy(maxscale) allows us to failover near instantly to an alternate replica. Or, failback when the original primary recovers. Ensuring data consistency even when replicas have a replication lag through \u201ccausal reads\u201d, or transaction replay. </p> <p>Our underlying k8s based operator has smarts to rebuild replicas that lag a lot using cloud native snapshots.</p>"},{"location":"Autonomously%20scale%20Compute%2C%20Storage/","title":"Autonomously scale Compute, Storage","text":"<p>Autonomous features enable automatic scaling in response to changes in workload.</p> <p>Auto-scale of nodes enables scaling based on load:</p> <ul> <li>In/Out auto-scaling performs horizontal scaling, decreasing (In) or increasing (Out) the node count.</li> <li>Up/Down auto-scaling performs vertical scaling, increasing (Up) or decreasing (Down) the instance size.</li> </ul> <p>Auto-scale of storage enables expansion of capacity based on usage.</p> <p>Autonomous features can be enabled at time of\u00a0service launch. Autonomous features can be enabled or disabled after launch.</p> <p></p>"},{"location":"Autonomously%20scale%20Compute%2C%20Storage/#enable-auto-scaling-of-nodes","title":"Enable Auto-Scaling of Nodes","text":"<p>Auto-scaling of nodes can be enabled either at time of service launch or after service launch.</p> <p>During\u00a0service launch:</p> <ul> <li>Check the \"Enable auto-scale nodes\" checkbox and set the desired scaling parameters.</li> </ul> <p>After service launch,\u00a0manage Autonomous settings, and enable the desired auto-scaling features.</p>"},{"location":"Autonomously%20scale%20Compute%2C%20Storage/#enable-auto-scaling-of-storage","title":"Enable Auto-Scaling of Storage","text":"<p>Auto-scaling of storage can be enabled either at time of service launch or after service launch.</p> <p>During\u00a0Service Launch:</p> <ul> <li>Check the \"Enable auto-scale storage\" checkbox and set the desired maximum transactional data storage.</li> </ul> <p>After service launch,\u00a0manage Autonomous settings, and enable the desired auto-scaling features.</p> <p>For ColumnStore Data Warehouse, object storage adjusts automatically. Autonomous scaling features for storage are not used by this topology.</p>"},{"location":"Autonomously%20scale%20Compute%2C%20Storage/#manage-autonomous-settings","title":"Manage Autonomous Settings","text":"<p>To manage Autonomous settings:</p> <ul> <li>From the\u00a0Portal, click the \"MANAGE\" button for the desired service, then choose \"Autonomous\" from the menu.</li> <li>Update settings as desired.</li> <li>Click \"Apply Changes\" when complete.</li> </ul>"},{"location":"Autonomously%20scale%20Compute%2C%20Storage/#scaling-rules","title":"Scaling Rules","text":"<p>Automatic scaling occurs based on rules.</p> Policy Condition Action Auto-Scale Disk \u2022 Disk utilization &gt; 90% sustained for 5 minutes The disk is expected to run out of capacity in the next 24 hours (predicted based on the last 6 hours of service usage) \u2022 Upgrade storage to the next available size in 100GB increments \u2022 Note: you cannot downgrade storage, the upgrade is irreversible Auto-Scale Nodes Out \u2022 CPU utilization &gt; 75% over all replicas sustained for 30 minutes \u2022 Number of concurrent sessions &gt; 90% over all replicas sustained for 1 hour \u2022 Number of concurrent sessions is expected to hit the maximum within 4 hours (predicted based on the last 2 hours of service usage) \u2022 Add new replica or node \u2022 Additional nodes will be of the same size and configuration as existing nodes Auto-Scale Nodes In \u2022 CPU utilization &lt; 50% over all replicas sustained for 1 hour \u2022 Number of concurrent sessions &lt; 50% over all replicas sustained for 1 hour \u2022 Remove replica or node \u2022 Node count will not decrease below the initial count set at launch Auto-Scale Nodes Up \u2022 Number of concurrent sessions is expected to hit the maximum within 4 hours (predicted based on the last 2 hours of service usage) \u2022 Upgrade all nodes to the next available size Auto-Scale Nodes Down \u2022 CPU utilization &lt; 50% over all replicas sustained for 1 hour \u2022 Number of concurrent sessions &lt; 50% over all replicas sustained for 1 hour \u2022 Downgrade nodes \u2022 Node size will not decrease below the initial node size set at launch <p>Autonomous actions are not instantaneous.</p> <p>Cooldown periods may apply. A cooldown period is the time period after a scaling operation is completed before another scaling operation can occur. The cooldown period for storage scaling is 6 hours.</p> <p>Uptime SLA</p>"},{"location":"Autonomously%20scale%20Compute%2C%20Storage/Uptime%20SLA/","title":"Uptime SLA","text":"<p>MariaDB SkySQL customers should assess the availability requirements of their application and choose an appropriate service tier to meet their objectives. MariaDB SkySQL customers are on the Foundation Tier unless they have specifically purchased and paid for Power Tier service.</p>"},{"location":"Autonomously%20scale%20Compute%2C%20Storage/Uptime%20SLA/#performance-standard","title":"Performance Standard","text":"Tier Performance Standard SkySQL Foundation Tier \u2022 Multi-node configurations will deliver a 99.95% service availability on a per-billing-month basis. \u2022 For example, with this availability target in a 30 day calendar month the maximum service downtime is 21 minutes and 54 seconds. SkySQL Power Tier \u2022 Multi-node configurations will deliver a 99.995% service availability on a per-billing-month basis. \u2022 For example, with this availability target in a 30 day calendar month the maximum service downtime is 2 minutes and 11 seconds."},{"location":"Autonomously%20scale%20Compute%2C%20Storage/Uptime%20SLA/#service-downtime","title":"Service Downtime","text":"<p>Service Downtime\u00a0is measured at each SkySQL database endpoint as the total number of full minutes, outside of scheduled downtime for maintenance and upgrades, where continuous attempts to establish a connection within the minute fail as reflected in minute-by-minute logs.</p>"},{"location":"Autonomously%20scale%20Compute%2C%20Storage/Uptime%20SLA/#monthly-uptime-percentage","title":"Monthly Uptime Percentage","text":"<p>Monthly Uptime Percentage\u00a0is calculated on a per-billing-month basis as the total number of minutes in a month, minus the number of minutes of measured\u00a0Service Downtime\u00a0within the month, divided by the number of minutes in that month. When a service is deployed for only part of a month, it is assumed to be 100% available for the portion of the month that it is not deployed.</p>"},{"location":"Autonomously%20scale%20Compute%2C%20Storage/Uptime%20SLA/#service-credit","title":"Service Credit","text":"<p>Service Credit\u00a0is the percentage of the total fees paid by you for a given SkySQL service during the month in which the downtime occurred to be credited if MariaDB approves your claim. The percentage used in calculating Service Credit is dependent on whether the customer is on Foundation Tier or Power Tier, and is dependent on the calculated\u00a0Monthly Uptime Percentage.</p> Tier Monthly Uptime Percentage Percentage Applied Foundation Tier Less than 99.95%, but greater than or equal to 99.0% 10% Foundation Tier Less than 99.0% 25% Power Tier Less than 99.995%, but greater than or equal to 99.0% 10% Power Tier Less than 99.0% 25% <p>MariaDB will grant and process claims, provided the customer has satisfied its\u00a0Customer Obligations\u00a0and that none of the\u00a0Exclusions\u00a0listed apply to the claim.\u00a0Service Credits\u00a0will be issued only upon request within 60 days of the end of the billing period of the month of impact to service availability, and upon confirmation of outage.\u00a0Service Credits\u00a0will be issued in the form of a monetary credit applied to future use of the service that experienced the\u00a0Service Downtime.\u00a0Service Credits\u00a0will not be applied to fees for any other SkySQL instance.</p> <p>The aggregate maximum number of\u00a0Service Credits\u00a0to be issued by MariaDB to customers for any and all\u00a0Service Downtime\u00a0that occurs in a single billing month will not exceed 50% of the amount due from the customer for the covered service for the applicable month.</p>"},{"location":"Autonomously%20scale%20Compute%2C%20Storage/Uptime%20SLA/#customer-obligations","title":"Customer Obligations","text":"<p>A customer will forfeit their right to receive a\u00a0Service Credit\u00a0unless they:</p> <ul> <li>Log a support ticket with MariaDB Support within 60 minutes of first becoming aware of an event that impacts service availability.</li> <li>Submit a claim and all required information by the end of the month immediately following the month when the\u00a0Service Downtime\u00a0occurred.</li> <li>Submit necessary information for MariaDB to validate the claim, including:<ul> <li>a description of the events resulting in the\u00a0Service Downtime, and related request logs</li> <li>the date, time, and duration of the\u00a0Service Downtime</li> <li>the number and location(s) of affected users</li> <li>descriptions of customer attempts to fix the\u00a0Service Downtime\u00a0as it occurred</li> </ul> </li> <li>Provide reasonable assistance to MariaDB in investigating the cause of the\u00a0Service Downtime\u00a0and investigating your claim.</li> </ul>"},{"location":"Autonomously%20scale%20Compute%2C%20Storage/Uptime%20SLA/#exclusions","title":"Exclusions","text":"<ul> <li> <p>Out-of-scope configurations</p> <p>The\u00a0Performance Standard\u00a0does not apply to single instance SkySQL service configuration or services in Technical Preview. Customers requiring High Availability should deploy instead in production-ready multi-node service configuration.</p> <p>See \"Choose a SkySQL Release\" for information on SkySQL services in Technical Preview.</p> </li> <li> <p>Underlying infrastructure</p> <p>Impact to service availability caused by availability or performance of cloud services used to operate MariaDB SkySQL is excluded. This includes any such outages in Amazon Web Services (AWS) and Amazon Elastic Kubernetes Service (EKS), and Google Cloud Platform (GCP) and Google Kubernetes Engine (GKE).</p> </li> <li> <p>Network interruption</p> <p>Impact to service availability caused by blocking of network traffic by ISPs, network providers, governments, or third parties is excluded.</p> </li> <li> <p>External factors</p> <p>Impact to your use of service based on factors outside MariaDB SkySQL are excluded. This includes periods of downtime for your applications.</p> </li> <li> <p>Uncorroborated impacts</p> <p>Only impacts to service availability detected at\u00a0point of measurement\u00a0are subject when determining the uptime percentage. Service availability impacts measured through any other means, such as application instrumentation, are excluded except as also measured as\u00a0Service Downtime\u00a0by MariaDB.</p> </li> <li> <p>Portal access</p> <p>Impact to your ability to access or use the MariaDB SkySQL portal, an interface provided to manage services, is excluded. This includes any component and content linked from the MariaDB SkySQL portal, including Documentation, the Customer Support portal, Monitoring, and Workload Analysis. These components operate independently from database services and do not impact database availability.</p> </li> <li> <p>Resource usage</p> <p>Impact to service availability caused by usage of system resources, such as problems caused by excessive workload consumption of CPU, disk I/O, disk capacity, memory, and other system resources, are excluded.</p> </li> <li> <p>Clients and connectors</p> <p>Impact to service availability caused by the use of unsupported third-party clients and connectors is excluded.</p> </li> <li> <p>Non-paying customers</p> <p>The\u00a0Performance Standard\u00a0applies only to paying MariaDB SkySQL customers who are paid-in-full. All other MariaDB SkySQL customers, including those not paid-in-full and those customers participating in a free or credited service trial, are excluded.</p> </li> <li> <p>Customer-directed maintenance</p> <p>When a customer directs that MariaDB conduct a maintenance operation on a service, any resulting impact to service availability is excluded.</p> </li> <li> <p>Customer-approved maintenance</p> <p>When a customer approves MariaDB-recommended maintenance on a service, any resulting impact to service availability is excluded.</p> </li> <li> <p>Customer-initiated changes</p> <p>When a customer initiates changes to their SkySQL services, e.g., via access to the database or via the SkySQL portal, any resulting impact to service availability is excluded.</p> </li> <li> <p>Initial provisioning</p> <p>Availability of services during initial provisioning, e.g., before a service becomes online, healthy, and available, is excluded.</p> </li> </ul>"},{"location":"Backup%20and%20Restore/","title":"Backup and Restore","text":"<p>The SkySQL Backup service provides comprehensive Backup and Restore features through a secure API. We extend the automated nightly backups with a number of self service features. You can automatically create and store backups of your databases to ensure additional data safety or provide a robust disaster recovery solution. The backups are stored on reliable and secure cloud storage, ensuring they are readily available when needed. The backup process is seamless and does not affect the performance of your databases. SkySQL also offers the flexibility to customize your backup schedule according to your specific needs. </p> <p>Here is the list of features offered:</p> <ul> <li> <p>Automatic nightly backups : Automated nightly backups include a full backup of every database in the service. </p> </li> <li> <p>Secure On-demand or scheduled backups</p> </li> <li> <p>Full (physical) backups : Full backups create a complete backup of the database server into a new backup folder. It uses mariabackup under the hood. Physical backups are performed by copying the individual data files or directories and the fastest way to do a backup.</p> </li> <li> <p>Incremental backups : Incremental backups update a previous backup with whatever changes to the data have occurred since the backup.</p> </li> <li> <p>Logical backups : Logical backups consist of the SQL statements necessary to restore the data, such as CREATE DATABASE, CREATE TABLE and INSERT. This is done using mariadb-dump(https://mariadb.com/kb/en/mariadb-dump/) and is the most flexible way to perform a backup and restore, and a good choice when the data size is relatively small.</p> </li> <li> <p>Bring your own Bucket (BYOB) : you can backup or restore data to/from your own bucket in either GCP or AWS.</p> </li> <li> <p>Backup your binlogs : Binlogs record database changes (data modifications, table structure changes) in a sequential, binary format. You can preserve binlogs for setting up replication or to recover to a certain point-in-time.</p> </li> <li> <p>Point-in-time recovery : you can restore from a full or a logical backup and then use a binlog backup to restore to a point-in-time.</p> </li> <li> <p>Secure backup/restores : Control backup/restore privileges by granting roles to users in SkySQL. </p> </li> </ul>"},{"location":"Backup%20and%20Restore/#pricing","title":"Pricing","text":"<p>while the daily automated backups are included the use of this API will incur nominal additional charges. Please contact info@skysql.com for details. </p> <p>The following documentation describes the API for the SkySQL Backup Service. This can be used directly with any HTTP client.</p> <p>Note</p> <p>Please refer to the API docs (swagger) for the latest API.  The information below might be slightly outdated. </p>"},{"location":"Backup%20and%20Restore/#authentication","title":"Authentication","text":"<p>To authenticate with the API, do the following:</p> <ol> <li>Go to MariaDB ID: https://id.mariadb.com/account/api/ and generate an API key</li> <li>Add the value from the token field to an environment variable $JWT_TOKEN</li> <li>Use it on subsequent request, e.g:</li> </ol> <pre><code> curl --request GET 'https://api.skysql.com/skybackup/v1/backups/schedules' \\\\\n --header \"Authorization: Bearer $JWT_TOKEN\"\n</code></pre>"},{"location":"Backup%20and%20Restore/#scheduling-backups","title":"Scheduling backups","text":"<p>Backups on large data sets can take time. You instruct the creation of a backup using a \"schedule\". You can either schedule a one-time backup (schedule now) or set up automatic backups using a cron schedule. A backup schedule results in a backup job which can be tracked using the status API. We support the following types of backups : full(physical), incremental(physical), binary log, and dump(logical).</p>"},{"location":"Backup%20and%20Restore/#create-a-backup","title":"Create a backup","text":"<p>To create a backup schedule, you need to have the \"administrator\" role. You can add members and configure roles using the SkySQL portal. </p>"},{"location":"Backup%20and%20Restore/#full-backup","title":"Full Backup","text":""},{"location":"Backup%20and%20Restore/#one-time-full","title":"One-time Full","text":"<p>To create a full backup you need to make the following API call:</p> <p><pre><code>curl --location 'https://api.skysql.com/skybackup/v1/backups/schedules' \\\n--header 'Content-Type: application/json' \\\n--header 'Accept: application/json' \\\n--header 'Authorization: Bearer $JWT_TOKEN' \\\n--data '{\n    \"backup_type\": \"full\",\n    \"schedule\": \"once\",\n    \"service_id\": \"dbtgf28044362\"\n}'\n</code></pre> NOTE</p> <p>note that each launched database is tracked with a service ID in SkySQL. You can fetch the service ID from the Fully qualified domain name(FQDN) of your service. For instance in dbpgf17106534.sysp0000.db2.skysql.com, 'dbpgf17106534' is the service ID.  You will find the FQDN in the Connect window </p> <p>Typical API server response should look like:</p> <pre><code>{\n    \"id\": 253,\n    \"service_id\": \"dbtgf28044362\",\n    \"schedule\": \"once\",\n    \"type\": \"full\",\n    \"status\": \"Scheduled\",\n    \"message\": \"Backup is scheduled.\"\n}\n</code></pre> <p>you can fetch the Status of the backup using 'https://api.skysql.com/skybackup/v1/backups'. See the 'Backup Status' section for an example. The 'status' field will report Success or failure. </p>"},{"location":"Backup%20and%20Restore/#schedule-a-backup-job-using-cron","title":"Schedule a backup job using Cron","text":"<p>To set up an automatic periodic full backup at 3 am UTC, you need to make the following API call:</p> <pre><code>curl --location 'https://api.skysql.com/skybackup/v1/backups/schedules' \\\n--header 'Content-Type: application/json' \\\n--header 'Accept: application/json' \\\n--header 'Authorization: Bearer $JWT_TOKEN' \\\n--data '{\n    \"backup_type\": \"full\",\n    \"schedule\": \"0 3 * * *\",\n    \"service_id\": \"dbtgf28044362\"\n}'\n</code></pre> <p>For more information about cron schedules take a look at this document.</p>"},{"location":"Backup%20and%20Restore/#incremental-backup","title":"Incremental Backup","text":"<p>Incremental backups can be taken once you have full backup. Read here for more details. </p>"},{"location":"Backup%20and%20Restore/#one-time-incremental","title":"One-time Incremental","text":"<p>To set up an one-time incremental backup, you need to make the following API call:</p> <pre><code>curl --location 'https://api.skysql.com/skybackup/v1/backups/schedules' \\\n--header 'Content-Type: application/json' \\\n--header 'Accept: application/json' \\\n--header 'Authorization: Bearer $JWT_TOKEN' \\\n--data '{\n    \"backup_type\": \"incremental\",\n    \"schedule\": \"once\",\n    \"service_id\": \"dbtgf28044362\"\n}'\n</code></pre>"},{"location":"Backup%20and%20Restore/#cron-incremental","title":"Cron Incremental","text":"<p>To set up an cron incremental backup, you need to make the following API call:</p> <pre><code>curl --location 'https://api.skysql.com/skybackup/v1/backups/schedules' \\\n--header 'Content-Type: application/json' \\\n--header 'Accept: application/json' \\\n--header 'Authorization: Bearer $JWT_TOKEN' \\\n--data '{\n    \"backup_type\": \"incremental\",\n    \"schedule\": \"0 3 * * *\",\n    \"service_id\": \"dbtgf28044362\"\n}'\n</code></pre>"},{"location":"Backup%20and%20Restore/#binarylog-backup","title":"Binarylog Backup","text":""},{"location":"Backup%20and%20Restore/#one-time-binarylog","title":"One-time Binarylog","text":"<p>To set up an one-time binarylog backup:</p> <pre><code>curl --location 'https://api.skysql.com/skybackup/v1/backups/schedules' \\\n--header 'Content-Type: application/json' \\\n--header 'Accept: application/json' \\\n--header 'Authorization: Bearer $JWT_TOKEN' \\\n--data '{\n    \"backup_type\": \"binarylog\",\n    \"schedule\": \"once\",\n    \"service_id\": \"dbtgf28044362\"\n}'\n</code></pre>"},{"location":"Backup%20and%20Restore/#schedule-binarylog-backup","title":"Schedule Binarylog backup","text":"<p>To set up an cron incremental backup:</p> <pre><code>curl --location 'https://api.skysql.com/skybackup/v1/backups/schedules' \\\n--header 'Content-Type: application/json' \\\n--header 'Accept: application/json' \\\n--header 'Authorization: Bearer $JWT_TOKEN' \\\n--data '{\n    \"backup_type\": \"binarylog\",\n    \"schedule\": \"0 3 * * *\",\n    \"service_id\": \"dbtgf28044362\"\n}'\n</code></pre>"},{"location":"Backup%20and%20Restore/#take-a-logical-backup-mariadb-dump","title":"Take a Logical backup (Mariadb-dump)","text":""},{"location":"Backup%20and%20Restore/#one-time-dump","title":"One-time Dump","text":"<p>To set up an one-time dump backup:</p> <pre><code>curl --location 'https://api.skysql.com/skybackup/v1/backups/schedules' \\\n--header 'Content-Type: application/json' \\\n--header 'Accept: application/json' \\\n--header 'Authorization: Bearer $JWT_TOKEN' \\\n--data '{\n    \"backup_type\": \"dump\",\n    \"schedule\": \"once\",\n    \"service_id\": \"dbtgf28044362\"\n}'\n</code></pre>"},{"location":"Backup%20and%20Restore/#schedule-a-logical-backup-dump","title":"Schedule a Logical backup (Dump)","text":"<p>To set up an cron dump backup:</p> <pre><code>curl --location 'https://api.skysql.com/skybackup/v1/backups/schedules' \\\n--header 'Content-Type: application/json' \\\n--header 'Accept: application/json' \\\n--header 'Authorization: Bearer $JWT_TOKEN' \\\n--data '{\n    \"backup_type\": \"dump\",\n    \"schedule\": \"0 3 * * *\",\n    \"service_id\": \"dbtgf28044362\"\n}'\n</code></pre>"},{"location":"Backup%20and%20Restore/#scheduling-backups-to-your-own-bucket-external-storage","title":"Scheduling Backups to your own bucket (external storage)","text":"<p>To set up an external storage backup, you need to make the following API call:</p> <ul> <li> <p>For GCP you need to create an service account key. Please follow the steps from this documentation. Once you have created the service account key you will need to base64 encode it. You can encode it directly from a command line itself. For example the execution of command <code>echo -n 'service-account-key' | base64</code> will produce something like <code>c2VydmljZS1hY2NvdW50LWtleQ==</code></p> <pre><code>curl --location 'https://api.skysql.com/skybackup/v1/backups/schedules' \\\n--header 'Content-Type: application/json' \\\n--header 'Accept: application/json' \\\n--header 'Authorization: Bearer $JWT_TOKEN' \\\n--data '{\n    \"backup_type\": \"full\",\n    \"schedule\": \"0 2 * * *\",\n    \"service_id\": \"dbtgf28044362\",\n    \"external_storage\": {\n        \"bucket\": {\n            \"path\": \"s3://my_backup_bucket\",\n            \"credentials\": \"c2VydmljZS1hY2NvdW50LWtleQ==\"\n        }\n    }\n}'\n</code></pre> <p>The service account key will be in the following format:</p> <pre><code>{\n    \"type\": \"service_account\",\n    \"project_id\": \"XXXXXXX\",\n    \"private_key_id\": \"XXXXXXX\",\n    \"private_key\": \"-----BEGIN PRIVATE KEY-----XXXXX-----END PRIVATE KEY-----\",\n    \"client_email\": \"XXXXXXXXXXXXXXXXXXXXXXXXXXXX.iam.gserviceaccount.com\",\n    \"client_id\": \"XXXXXXX\",\n    \"auth_uri\": \"&lt;https://accounts.google.com/o/oauth2/auth&gt;\",\n    \"token_uri\": \"&lt;https://oauth2.googleapis.com/token&gt;\",\n    \"auth_provider_x509_cert_url\": \"&lt;https://www.googleapis.com/oauth2/v1/certs&gt;\",\n    \"client_x509_cert_url\": \"&lt;https://www.googleapis.com/robot/v1/metadata/x509/XXXXXXXXXXXXXX.iam.gserviceaccount.com&gt;\",\n    \"universe_domain\": \"googleapis.com\"\n}\n</code></pre> </li> <li> <p>For AWS, you must provide your own credentials. These include the AWS access key associated with an IAM account and the bucket region. For more information about AWS credentials, please refer to the documentation. The required credentials are aws_access_key_id , aws_secret_access_key and region. For example your credentials should look like:</p> <pre><code>[default]\naws_access_key_id = AKIAIOSFODNN7EXAMPLE\naws_secret_access_key = wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY\nregion = us-west-2\n</code></pre> <p>You should encode your credentials base64 before passing it to the API. You can encode it directly from a command line itself. For example the execution of command <code>echo '[default]\\naws_access_key_id = AKIAIOSFODNN7EXAMPLE\\naws_secret_access_key = wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY\\nregion = us-west-2' | base64</code> will produce the following <code>W2RlZmF1bHRdCmF3c19hY2Nlc3Nfa2V5X2lkID0gQUtJQUlPU0ZPRE5ON0VYQU1QTEUKYXdzX3NlY3JldF9hY2Nlc3Nfa2V5ID0gd0phbHJYVXRuRkVNSS9LN01ERU5HL2JQeFJmaUNZRVhBTVBMRUtFWQpyZWdpb24gPSB1cy13ZXN0LTIK</code>. Using encoded credentials you will be able to pass it to the API server. To initiate a new backup to your external storage you need to execute an API call to the backup service:</p> <p><code>```bash curl --location '&lt;https://api.skysql.com/skybackup/v1/backups/schedules&gt;' \\ --header 'Content-Type: application/json' \\ --header 'Accept: application/json' \\ --header 'Authorization: Bearer $JWT_TOKEN' \\ --data '{     \"backup_type\": \"full\",     \"schedule\": \"0 2 ** *\",     \"service_id\": \"dbtgf28044362\",     \"external_storage\": {         \"bucket\": {             \"path\": \"s3://my_backup_bucket\",             \"credentials\": \"W2RlZmF1bHRdCmF3c19hY2Nlc3Nfa2V5X2lkID0gQUtJQUlPU0ZPRE5ON0VYQU1QTEUKYXdzX3NlY3JldF9hY2Nlc3Nfa2V5ID0gd0phbHJYVXRuRkVNSS9LN01ERU5HL2JQeFJmaUNZRVhBTVBMRUtFWQpyZWdpb24gPSB1cy13ZXN0LTIK\"         }     } }'</code></p> </li> </ul>"},{"location":"Backup%20and%20Restore/#working-with-backup-schedules","title":"Working with Backup Schedules","text":"<p>To get backup schedules inside the Organization :</p> <pre><code>curl --location '&lt;https://api.skysql.com/skybackup/v1/backups/schedules&gt;' \\\n--header 'Accept: application/json' \\\n--header 'Authorization: Bearer $JWT_TOKEN'\n</code></pre>"},{"location":"Backup%20and%20Restore/#get-all-backup-schedules-per-service","title":"Get all Backup Schedules per service","text":"<p>To get backup schedules for specific service :</p> <pre><code>curl --location '&lt;https://api.skysql.com/skybackup/v1/backups/schedules?service_id=dbtgf28044362&gt;' \\\n--header 'Accept: application/json' \\\n--header 'Authorization: Bearer $JWT_TOKEN'\n</code></pre>"},{"location":"Backup%20and%20Restore/#get-backup-schedule-by-id","title":"Get Backup Schedule by ID","text":"<p>To get specific backup schedule by id :</p> <pre><code>curl --location 'https://api.skysql.com/skybackup/v1/backups/schedules/200' \\\n--header 'Accept: application/json' \\\n--header 'Authorization: Bearer $JWT_TOKEN'\n</code></pre>"},{"location":"Backup%20and%20Restore/#update-backup-schedule","title":"Update Backup Schedule","text":"<p>In the following example, we update the backup schedule to 9 AM UTC. Remember, you cannot change the schedules for one-time backups. To update specific backup schedule you need to make the following API call:</p> <pre><code>curl --location --request PATCH '&lt;https://api.skysql.com/skybackup/v1/backups/schedules/215&gt;' \\\n--header 'Content-Type: application/json' \\\n--header 'Accept: application/json' \\\n--header 'Authorization: Bearer $JWT_TOKEN' \\\n--data '{\n  \"schedule\": \"0 9 ** *\"\n}'\n</code></pre>"},{"location":"Backup%20and%20Restore/#delete-backup-schedule","title":"Delete Backup Schedule","text":"<p>To delete a backup schedule you need to provide the backup schedule id. Example of the api call below:</p> <pre><code>curl --location --request DELETE 'https://api.skysql.com/skybackup/v1/backups/schedules/215' \\\n--header 'Accept: application/json' \\\n--header 'Authorization: Bearer $JWT_TOKEN'\n</code></pre>"},{"location":"Backup%20and%20Restore/#backup-status","title":"Backup Status","text":"<p>The following API illustrates how to get the available backups and status of backup jobs .</p>"},{"location":"Backup%20and%20Restore/#list-all-backups-inside-the-organization","title":"List all backups inside the organization","text":"<p>Here is an example to fetch all the available Backups in your org:</p> <pre><code>curl --location 'https://api.skysql.com/skybackup/v1/backups' \\\n--header 'Accept: application/json' \\\n--header 'Authorization: Bearer $JWT_TOKEN'\n</code></pre>"},{"location":"Backup%20and%20Restore/#list-all-backups-by-service","title":"List all backups by service","text":"<p>To list all backups available for your service :</p> <pre><code>curl --location 'https://api.skysql.com/skybackup/v1/backups?service_id=dbtgf28216706' \\\n--header 'Accept: application/json' \\\n--header 'Authorization: Bearer $JWT_TOKEN'\n</code></pre> <p>The typical response of either of two calls should look like:</p> <pre><code>{\n    \"backups\": [\n        {\n            \"id\": \"eda3b72460c8c0d9d61a7f01b6a22e32:dbtgf28216706:tx-filip-mdb-ms-0\",\n            \"service_id\": \"dbtgf28216706\",\n            \"type\": \"full\",\n            \"method\": \"skybucket\",\n            \"server_pod\": \"tx-filip-mdb-ms-0\",\n            \"backup_size\": 5327326,\n            \"reference_full_backup\": \"\",\n            \"point_in_time\": \"2024-03-26 17:18:21\",\n            \"start_time\": \"2024-03-26T17:18:57Z\",\n            \"end_time\": \"2024-03-26T17:19:01Z\",\n            \"status\": \"Succeeded\"\n        }\n    ],\n    \"backups_count\": 1,\n    \"pages_count\": 1\n}\n</code></pre> <p>The ** Backup id is the most important part of this data as you need to provide it in the restore api call** to schedule restore execution.</p>"},{"location":"Backup%20and%20Restore/#restores","title":"Restores","text":"<p>WARNING</p> <p>restoring from a Backup will likely wipe out all data in your target DB service. If you aren't sure, first take a backup of the Db service where a restore is being performed. The DB being restored will also be stopped during a Restore. You will need restart it. </p>"},{"location":"Backup%20and%20Restore/#creating-restore-job","title":"Creating Restore Job","text":""},{"location":"Backup%20and%20Restore/#restore-from-managed-storage","title":"Restore From Managed Storage","text":"<p>You can restore your database from the backup located in the default SkySQL managed backup storage. In this case, you need to provide the backup ID when making the restore API call. Here is an example:</p> <pre><code>curl --location 'https://api.skysql.com/skybackup/v1/restores' \\\n--header 'Content-Type: application/json' \\\n--header 'Accept: application/json' \\\n--header 'Authorization: Bearer $JWT_TOKEN' \\\n--data '{\n  \"key\": \"eda3b72460c8c0d9d61a7f01b6a22e32:dbtgf28216706:tx-filip-mdb-ms-0\",\n  \"service_id\": \"dbtgf28044362\"\n}'\n</code></pre> <p>Inside the service_id parameter of your restore API request, you need to provide the id of the service, where you want to restore your data.</p>"},{"location":"Backup%20and%20Restore/#restore-from-your-bucket-external-storage","title":"Restore From your Bucket (External Storage)","text":"<p>You can restore your data from external storage. Your external storage bucket data should be created via one of the following tools: <code>mariabackup, mysqldump</code>. Credentials to external storage access could be fetched from:</p> <ul> <li> <p>For GCP you need to create an service account key. Please follow the steps from this documentation. Once you have created the service account key you will need to base64 encode it. You can encode it directly from a command line itself. For example the execution of command <code>echo -n 'service-account-key' | base64</code> will produce the following <code>c2VydmljZS1hY2NvdW50LWtleQ==</code></p> <pre><code>curl --location 'https://api.skysql.com/skybackup/v1/backups/schedules' \\\n--header 'Content-Type: application/json' \\\n--header 'Accept: application/json' \\\n--header 'Authorization: Bearer $JWT_TOKEN' \\\n--data '{\n    \"backup_type\": \"full\",\n    \"schedule\": \"0 2 * * *\",\n    \"service_id\": \"dbtgf28044362\",\n    \"external_storage\": {\n        \"bucket\": {\n            \"path\": \"s3://my_backup_bucket\",\n            \"credentials\": \"c2VydmljZS1hY2NvdW50LWtleQ==\"\n        }\n    }\n}'\n</code></pre> <p>The service account key will be in the following format:</p> <pre><code>{\n    \"type\": \"service_account\",\n    \"project_id\": \"XXXXXXX\",\n    \"private_key_id\": \"XXXXXXX\",\n    \"private_key\": \"-----BEGIN PRIVATE KEY-----XXXXX-----END PRIVATE KEY-----\",\n    \"client_email\": \"XXXXXXXXXXXXXXXXXXXXXXXXXXXX.iam.gserviceaccount.com\",\n    \"client_id\": \"XXXXXXX\",\n    \"auth_uri\": \"&lt;https://accounts.google.com/o/oauth2/auth&gt;\",\n    \"token_uri\": \"&lt;https://oauth2.googleapis.com/token&gt;\",\n    \"auth_provider_x509_cert_url\": \"&lt;https://www.googleapis.com/oauth2/v1/certs&gt;\",\n    \"client_x509_cert_url\": \"&lt;https://www.googleapis.com/robot/v1/metadata/x509/XXXXXXXXXXXXXX.iam.gserviceaccount.com&gt;\",\n    \"universe_domain\": \"googleapis.com\"\n}\n</code></pre> </li> <li> <p>For AWS, you must provide your own credentials. These include the AWS access key associated with an IAM account and the bucket region. For more information about AWS credentials, please refer to the documentation. The required credentials are aws_access_key_id , aws_secret_access_key and region. For example your credentials should look like:</p> <pre><code>[default]\naws_access_key_id = AKIAIOSFODNN7EXAMPLE\naws_secret_access_key = wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY\nregion = us-west-2\n</code></pre> <p>You should encode your credentials base64 before passing it to the API. You can encode it directly from a command line itself. For example the execution of command <code>echo '[default]\\naws_access_key_id = AKIAIOSFODNN7EXAMPLE\\naws_secret_access_key = wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY\\nregion = us-west-2' | base64</code> will produce the following <code>W2RlZmF1bHRdCmF3c19hY2Nlc3Nfa2V5X2lkID0gQUtJQUlPU0ZPRE5ON0VYQU1QTEUKYXdzX3NlY3JldF9hY2Nlc3Nfa2V5ID0gd0phbHJYVXRuRkVNSS9LN01ERU5HL2JQeFJmaUNZRVhBTVBMRUtFWQpyZWdpb24gPSB1cy13ZXN0LTIK</code>.</p> </li> </ul> <p>The following request demonstrates how to restore your data from an external storage:</p> <pre><code>{\n  \"service_id\": \"dbtgf28044362\",\n  \"key\": \"/backup.tar.gz\",\n  \"external_source\": {\n    \"bucket\": \"gs://my_backup_bucket\",\n    \"method\": \"mariabackup\",\n    \"credentials\" \"W2RlZmF1bHRdCmF3c19hY2Nlc3Nfa2V5X2lkID0gQUtJQUlPU0ZPRE5ON0VYQU1QTEUKYXdzX3NlY3JldF9hY2Nlc3Nfa2V5ID0gd0phbHJYVXRuRkVNSS9LN01ERU5HL2JQeFJmaUNZRVhBTVBMRUtFWQpyZWdpb24gPSB1cy13ZXN0LTIK\"\n  }\n}\n</code></pre> <p>In case your backup data is encrypted you need to pass encryption key as well:</p> <pre><code>{\n  \"service_id\": \"dbtgf28044362\",\n  \"key\": \"/backup.tar.gz\",\n  \"external_source\": {\n    \"bucket\": \"gs://my_backup_bucket\",\n    \"method\": \"mariabackup\",\n    \"credentials\": \"W2RlZmF1bHRdCmF3c19hY2Nlc3Nfa2V5X2lkID0gQUtJQUlPU0ZPRE5ON0VYQU1QTEUKYXdzX3NlY3JldF9hY2Nlc3Nfa2V5ID0gd0phbHJYVXRuRkVNSS9LN01ERU5HL2JQeFJmaUNZRVhBTVBMRUtFWQpyZWdpb24gPSB1cy13ZXN0LTIK\",\n    \"encryption_key\": \"my_encryption_key\"\n  }\n}\n</code></pre>"},{"location":"Backup%20and%20Restore/#fetching-restore-job-information","title":"Fetching Restore Job information","text":""},{"location":"Backup%20and%20Restore/#get-all-restores-schedules","title":"Get all Restores Schedules","text":"<p>In order to get all Restores scheduled in the past you need to make api call:</p> <pre><code>curl --location 'https://api.skysql.com/skybackup/v1/restores' \\\n--header 'Accept: application/json' \\\n--header 'Authorization: Bearer $JWT_TOKEN'\n</code></pre>"},{"location":"Backup%20and%20Restore/#get-restore-by-id","title":"Get Restore by ID","text":"<pre><code>curl --location 'https://api.skysql.com/skybackup/v1/restores/12' \\\n--header 'Accept: application/json' \\\n--header 'Authorization: Bearer $JWT_TOKEN'\n</code></pre> <p>Typical response of those two apis should look like:</p> <p>In case restore is in progress:</p> <pre><code>[\n    {\n        \"id\": 12,\n        \"service_id\": \"dbtgf28216706\",\n        \"bucket\": \"gs://sky-syst0000-backup-us-84e9d84ecf265a/orgpxw1x\",\n        \"key\": \"eda3b72460c8c0d9d61a7f01b6a22e32:dbtgf28216706:tx-filip-mdb-ms-0\",\n        \"type\": \"physical\",\n        \"status\": \"Running\",\n        \"message\": \"server is not-ready\"\n    }\n]\n</code></pre> <p>In case restore completed:</p> <pre><code>[\n    {\n        \"id\": 13,\n        \"service_id\": \"dbtgf28216706\",\n        \"bucket\": \"gs://sky-syst0000-backup-us-84e9d84ecf265a/orgpxw1x\",\n        \"key\": \"dda9b72460c9c0d9d61a7f01b6a33e39:dbtgf28216706:tx-filip-mdb-ms-0\",\n        \"type\": \"physical\",\n        \"status\": \"Succeeded\",\n        \"message\": \"Restore has succeeded!\"\n    }\n]\n</code></pre>"},{"location":"Backup%20and%20Restore/#delete-restore-schedules","title":"Delete Restore Schedules","text":"<p>You can delete older completed restore schedules. To clean up your auditing history you need to execute the following api call:</p> <pre><code>curl --location --request DELETE 'https://api.skysql.com/skybackup/v1/restores/12' \\\n--header 'Accept: application/json' \\\n--header 'Authorization: Bearer $JWT_TOKEN'\n</code></pre>"},{"location":"Backup%20and%20Restore/MariaDB%20Enterprise%20Backup/","title":"MariaDB Enterprise Backup","text":"<p>Note</p> <p>TODO - rough draft below .. needs to be cleaned up</p> <p>Regular and reliable backups are essential to successful recovery of mission critical applications.\u00a0MariaDB Enterprise Server\u00a0backup and restore operations are performed using\u00a0MariaDB Enterprise Backup, an\u00a0enterprise-build\u00a0of\u00a0MariaDB Backup.</p> <p>MariaDB Enterprise Backup\u00a0is compatible with MariaDB Enterprise Server 10.2, 10.3, 10.4, 10.5, and 10.6.</p> <ul> <li>Storage Engines and Backup Types</li> <li>Non-blocking Backups</li> <li>Understanding Recovery</li> <li>Creating the Backup User</li> <li>Full Backup and Restore</li> <li>Incremental Backup and Restore</li> <li>Partial Backup and Restore</li> <li>Point-in-Time Recoveries</li> </ul>"},{"location":"Backup%20and%20Restore/MariaDB%20Enterprise%20Backup/#storage-engines-and-backup-types","title":"Storage Engines and Backup Types","text":"<p>MariaDB Enterprise Backup creates a file-level backup of data from the MariaDB Enterprise Server data directory. This backup includes\u00a0temporal data, and the encrypted and unencrypted tablespaces of supported storage engines (e.g.,\u00a0InnoDB,\u00a0MyRocks,\u00a0Aria).</p> <p>MariaDB Enterprise Server implements:</p> <ul> <li>Full backups, which contain all data in the database.</li> <li>Incremental backups, which contain modifications since the last backup.</li> <li>Partial backups, which contain a subset of the tables in the database.</li> </ul> <p>Backup support is specific to storage engines. All supported storage engines enable full backup. The InnoDB storage engine additionally supports incremental backup.</p>"},{"location":"Backup%20and%20Restore/MariaDB%20Enterprise%20Backup/#non-blocking-backups","title":"Non-blocking Backups","text":"<p>A feature of MariaDB Enterprise Backup and MariaDB Enterprise Server, non-blocking backups minimize workload impact during backups. When MariaDB Enterprise Backup connects to MariaDB Enterprise Server, staging operations are initiated to protect data during read.</p> <p>Non-blocking backup functionality differs from historical backup functionality in the following ways:</p> <ul> <li>MariaDB Enterprise Backup in MariaDB Enterprise Server includes enterprise-only optimizations to backup staging, including DDL statement tracking, which reduces lock-time during backups.</li> <li>MariaDB Backup in MariaDB Community Server 10.4 and later will block writes, log tables, and statistics.</li> <li>Older MariaDB Community Server releases used\u00a0<code>FLUSH\u00a0TABLES\u00a0WITH\u00a0READ\u00a0LOCK</code>, which closed open tables and only allowed tables to be reopened with a read lock during the duration of backups.</li> </ul>"},{"location":"Backup%20and%20Restore/MariaDB%20Enterprise%20Backup/#understanding-recovery","title":"Understanding Recovery","text":"<p>MariaDB Enterprise Backup creates complete or incremental backups of MariaDB Enterprise Server data, and is also used to restore data from backups produced using MariaDB Enterprise Backup.</p>"},{"location":"Backup%20and%20Restore/MariaDB%20Enterprise%20Backup/#preparing-backups-for-recovery","title":"Preparing Backups for Recovery","text":"<p>Full backups produced using MariaDB Enterprise Server are not initially point-in-time consistent, and an attempt to restore from a raw full backup will cause InnoDB to crash to protect the data.</p> <p>Incremental backups produced using MariaDB Enterprise Backup contain only the changes since the last backup and cannot be used standalone to perform a restore.</p> <p>To restore from a backup, you first need to prepare the backup for point-in-time consistency using the\u00a0<code>--prepare</code>\u00a0command:</p> <ul> <li>Running the\u00a0<code>-prepare</code>\u00a0command on a\u00a0full backup\u00a0synchronizes the tablespaces, ensuring that they are point-in-time consistent and ready for use in recovery.</li> <li>Running the\u00a0<code>-prepare</code>\u00a0command on an\u00a0incremental backup\u00a0synchronizes the tablespaces and also applies the updated data into the previous full backup, making it a complete backup ready for use in recovery.</li> <li>Running the\u00a0<code>-prepare</code>\u00a0command on data that is to be used for a\u00a0partial restore\u00a0(when restoring only one or more selected tables) requires that you also use the\u00a0<code>-export</code>\u00a0option to create the necessary\u00a0<code>.cfg</code>\u00a0files to use in recovery.</li> </ul>"},{"location":"Backup%20and%20Restore/MariaDB%20Enterprise%20Backup/#restore-requires-empty-data-directory","title":"Restore Requires Empty Data Directory","text":"<p>When MariaDB Enterprise Backup restores from a backup, it copies or moves the backup files into the MariaDB Enterprise Server data directory, as defined by the\u00a0<code>datadir</code>\u00a0system variable.</p> <p>For MariaDB Enterprise Backup to safely restore data from full and incremental backups, the data directory must be empty. One way to achieve this is to move the data directory aside to a unique directory name:</p> <ol> <li>Make sure that the Server is stopped.</li> <li>Move the data directory to a unique name (for example,\u00a0<code>/var/lib/mysql-2020-01-01</code>)\u00a0OR\u00a0remove the old data directory (depending on how much space you have available).</li> <li>Create a new (empty) data directory (for example,\u00a0<code>mkdir\u00a0/var/lib/mysql</code>).</li> <li>Run MariaDB Enterprise Backup to restore the databases into that directory.</li> <li>Change the ownership of all the restored files to the correct system user (for example,\u00a0<code>chown\u00a0-R\u00a0mysql:mysql\u00a0/var/lib/mysql</code>).</li> <li>Start MariaDB Enterprise Server, which now uses the restored data directory.</li> <li>When ready, and if you have not already done so, delete the old data directory to free disk space.</li> </ol>"},{"location":"Backup%20and%20Restore/MariaDB%20Enterprise%20Backup/#creating-the-backup-user","title":"Creating the Backup User","text":"<p>When MariaDB Enterprise Backup performs a backup operation, it not only copies files from the data directory but also connects to the running MariaDB Enterprise Server.</p> <p>This connection to MariaDB Enterprise Server is used to manage locks and backup staging that prevent the Server from writing to a file while being read for a backup.</p> <p>MariaDB Enterprise Backup establishes this connection based on the user credentials specified with the\u00a0<code>--user</code>\u00a0and\u00a0<code>--password</code>\u00a0options when performing a backup.</p> <p>It is recommended that a dedicated user be created and authorized to perform backups.</p>"},{"location":"Backup%20and%20Restore/MariaDB%20Enterprise%20Backup/#105-and-later","title":"10.5 and Later","text":"<p>MariaDB Enterprise Backup 10.5 and later requires this user to have the\u00a0<code>RELOAD</code>,\u00a0<code>PROCESS</code>,\u00a0<code>LOCK\u00a0TABLES</code>, and\u00a0<code>BINLOG\u00a0MONITOR</code>\u00a0privileges. (The\u00a0BINLOG MONITOR\u00a0privilege replaced the\u00a0<code>REPLICATION\u00a0CLIENT</code>\u00a0privilege in MariaDB Enterprise Server 10.5.):</p> <p>**<code>CREATE** **USER** 'mariabackup'@'localhost'IDENTIFIED **BY** 'mbu_passwd'**;GRANT** RELOAD**,** PROCESS**,** **LOCK** TABLES**,** BINLOG MONITOR**ON** ***.*****TO** 'mariabackup'@'localhost'**;**</code></p> <p>In the above example, MariaDB Enterprise Backup would run on the local system that runs MariaDB Enterprise Server. Where backups may be run against a remote server, the user authentication and authorization should be adjusted.</p> <p>While MariaDB Enterprise Backup requires a user for backup operations, no user is required for restore operations since restores occur while MariaDB Enterprise Server is not running.</p>"},{"location":"Backup%20and%20Restore/MariaDB%20Enterprise%20Backup/#104-and-earlier","title":"10.4 and Earlier","text":"<p>MariaDB Enterprise Backup 10.4 and earlier requires this user to have the\u00a0<code>RELOAD</code>,\u00a0<code>PROCESS</code>,\u00a0<code>LOCK\u00a0TABLES</code>, and\u00a0<code>REPLICATION\u00a0CLIENT</code>\u00a0privileges. (The\u00a0BINLOG MONITOR\u00a0privilege replaced the\u00a0<code>REPLICATION\u00a0CLIENT</code>\u00a0privilege in MariaDB Enterprise Server 10.5.):</p> <p>**<code>CREATE** **USER** 'mariabackup'@'localhost'IDENTIFIED **BY** 'mbu_passwd'**;GRANT** RELOAD**,** PROCESS**,** **LOCK** TABLES**,** REPLICATION CLIENT**ON** ***.*****TO** 'mariabackup'@'localhost'**;**</code></p> <p>In the above example, MariaDB Enterprise Backup would run on the local system that runs MariaDB Enterprise Server. Where backups may be run against a remote server, the user authentication and authorization should be adjusted.</p> <p>While MariaDB Enterprise Backup requires a user for backup operations, no user is required for restore operations since restores occur while MariaDB Enterprise Server is not running.</p>"},{"location":"Backup%20and%20Restore/MariaDB%20Enterprise%20Backup/#full-backup-and-restore","title":"Full Backup and Restore","text":"<p>Full backups performed with MariaDB Enterprise Backup contain all table data present in the database.</p> <p>When performing a full backup, MariaDB Enterprise Backup makes a file-level copy of the MariaDB Enterprise Server data directory. This backup omits log data such as the binary logs (binlog), error logs, general query logs, and slow query logs.</p>"},{"location":"Backup%20and%20Restore/MariaDB%20Enterprise%20Backup/#performing-full-backups","title":"Performing Full Backups","text":"<p>When you perform a full backup, MariaDB Enterprise Backup writes the backup to the\u00a0<code>--target-dir</code>\u00a0path. The directory must be empty or non-existent and the operating system user account must have permission to write to that directory. A database user account is required to perform the backup.</p> <p>The version of\u00a0<code>mariabackup</code>\u00a0or\u00a0<code>mariadb-backup</code>\u00a0should be the same version as the MariaDB Enterprise Server version. When the version does not match the server version, errors can sometimes occur, or the backup can sometimes be unusable.</p> <p>To create a backup, execute\u00a0<code>mariabackup</code>\u00a0or\u00a0<code>mariadb-backup</code>\u00a0with the\u00a0<code>[--backup](https://mariadb.com/docs/server/ref/mdb/cli/mariadb-backup/backup/)</code>\u00a0option, and provide the database user account credentials using the\u00a0<code>[--user](https://mariadb.com/docs/server/ref/mdb/cli/mariadb-backup/user/)</code>\u00a0and\u00a0<code>[--password](https://mariadb.com/docs/server/ref/mdb/cli/mariadb-backup/password/)</code>\u00a0options:</p> <p><code>$ sudo mariabackup --backup \\      --target-dir=/data/backups/full \\      --user=mariabackup \\      --password=mbu_passwd</code></p> <p>Subsequent to the above example, the backup is now available in the designated\u00a0<code>--target-dir</code>\u00a0path.</p>"},{"location":"Backup%20and%20Restore/MariaDB%20Enterprise%20Backup/#preparing-a-full-backup-for-recovery","title":"Preparing a Full Backup for Recovery","text":"<p>A raw full backup is not\u00a0point-in-time consistent\u00a0and must be prepared before it can be used for a restore. The backup can be prepared any time after the backup is created and before the backup is restored. However, MariaDB recommends preparing a backup immediately after taking the backup to ensure that the backup is consistent.</p> <p>The backup should be prepared with the same version of MariaDB Enterprise Backup that was used to create the backup.</p> <p>To prepare the backup, execute\u00a0<code>mariabackup</code>\u00a0or\u00a0<code>mariadb-backup</code>\u00a0with the\u00a0<code>[--prepare](https://mariadb.com/docs/server/ref/mdb/cli/mariadb-backup/prepare/)</code>\u00a0option:</p> <p><code>$ sudo mariabackup --prepare \\   --use-memory=34359738368 \\   --target-dir=/data/backups/full</code></p> <p>For best performance, the\u00a0<code>[--use-memory](https://mariadb.com/docs/server/ref/mdb/cli/mariadb-backup/use-memory/)</code>\u00a0option should be set to the server's\u00a0<code>[innodb_buffer_pool_size](https://mariadb.com/docs/server/ref/mdb/system-variables/innodb_buffer_pool_size/)</code>\u00a0value.</p>"},{"location":"Backup%20and%20Restore/MariaDB%20Enterprise%20Backup/#restoring-from-full-backups","title":"Restoring from Full Backups","text":"<p>Once a full backup has been\u00a0prepared\u00a0to be point-in-time consistent, MariaDB Enterprise Backup is used to copy backup data to the MariaDB Enterprise Server data directory.</p> <p>To restore from a full backup:</p> <ol> <li>Stop the MariaDB Enterprise Server</li> <li>Empty\u00a0the data directory</li> <li> <p>Restore from the \"full\" directory using the\u00a0<code>-copy-back</code>\u00a0option:</p> <p><code>$ sudo mariabackup --copy-back --target-dir=/data/backups/full</code></p> </li> </ol> <p>MariaDB Enterprise Backup writes to the data directory as the current user, which can be changed using\u00a0<code>sudo</code>. To confirm that restored files are properly owned by the user that runs MariaDB Enterprise Server, run a command like this (adapted for the correct user/group):</p> <p><code>$ sudo chown -R mysql:mysql /var/lib/mysql</code></p> <p>Once this is done, start MariaDB Enterprise Server:</p> <p><code>$ sudo systemctl start mariadb</code></p> <p>When the Server starts, it works from the restored data directory.</p>"},{"location":"Backup%20and%20Restore/MariaDB%20Enterprise%20Backup/#incremental-backup-and-restore","title":"Incremental Backup and Restore","text":"<p>Full backups of large data-sets can be time-consuming and resource-intensive. MariaDB Enterprise Backup supports the use of incremental backups to minimize this impact.</p> <p>While full backups are resource-intensive at time of backup, the resource burden around incremental backups occurs when preparing for restore. First, the full backup is prepared for restore, then each incremental backup is applied.</p>"},{"location":"Backup%20and%20Restore/MariaDB%20Enterprise%20Backup/#performing-incremental-backups","title":"Performing Incremental Backups","text":"<p>When you perform an incremental backup, MariaDB Enterprise Backup compares a previous full or incremental backup to what it finds on MariaDB Enterprise Server. It then creates a new backup containing the incremental changes.</p> <p>Incremental backup is supported for InnoDB tables. Tables using other storage engines receive full backups even during incremental backup operations.</p> <p>To increment a full backup, use the\u00a0<code>--incremental-basedir</code>\u00a0option to indicate the path to the full backup and the\u00a0<code>--target-dir</code>\u00a0option to indicate where you want to write the incremental backup:</p> <p><code>$ sudo mariabackup --backup \\      --incremental-basedir=/data/backups/full \\      --target-dir=/data/backups/inc1 \\      --user=mariabackup \\      --password=mbu_passwd</code></p> <p>In this example, MariaDB Enterprise Backup reads the\u00a0<code>/data/backups/full</code>\u00a0directory, and MariaDB Enterprise Server then creates an incremental backup in the\u00a0<code>/data/backups/inc1</code>\u00a0directory.</p>"},{"location":"Backup%20and%20Restore/MariaDB%20Enterprise%20Backup/#preparing-an-incremental-backup","title":"Preparing an Incremental Backup","text":"<p>An incremental backup must be applied to a prepared full backup before it can be used in a restore operation. If you have multiple full backups to choose from, pick the nearest full backup prior to the incremental backup that you want to restore. You may also want to back up your full-backup directory, as it will be modified by the updates in the incremental data.</p> <p>If your full backup directory is not yet prepared, run this to make it consistent:</p> <p><code>$ sudo mariabackup --prepare --target-dir=/data/backups/full</code></p> <p>Then, using the prepared full backup, apply the first incremental backup's data to the full backup in an incremental preparation step:</p> <p><code>$ sudo mariabackup --prepare \\      --target-dir=/data/backups/full \\      --incremental-dir=/data/backups/inc1</code></p> <p>Once the incremental backup has been applied to the full backup, the full backup directory contains the changes from the incremental backup (that is, the\u00a0<code>inc1/</code>\u00a0directory). Feel free to remove\u00a0<code>inc1/</code>\u00a0to save disk space.</p>"},{"location":"Backup%20and%20Restore/MariaDB%20Enterprise%20Backup/#restoring-from-incremental-backups","title":"Restoring from Incremental Backups","text":"<p>Once you have prepared the full backup directory with all the incremental changes you need (as described above), stop the MariaDB Enterprise Server,\u00a0empty\u00a0its data directory, and restore from the original full backup directory using the\u00a0<code>--copy-back</code>\u00a0option:</p> <p><code>$ sudo mariabackup --copy-back --target-dir=/data/backups/full</code></p> <p>MariaDB Enterprise Backup writes files into the data directory using either the current user or root (in the case of a sudo operation), which may be different from the system user that runs the database. Run the following to recursively update the ownership of the restored files and directories:</p> <p><code>$ sudo chown -R mysql:mysql /var/lib/mysql</code></p> <p>Then, start MariaDB Enterprise Server. When the Server starts, it works from the restored data directory.</p>"},{"location":"Backup%20and%20Restore/MariaDB%20Enterprise%20Backup/#partial-backup-and-restore","title":"Partial Backup and Restore","text":"<p>In a partial backup, MariaDB Enterprise Backup copies a specified subset of tablespaces from the MariaDB Enterprise Server data directory. Partial backups are useful in establishing a higher frequency of backups on specific data, at the expense of increased recovery complexity. In selecting tablespaces for a partial backup, please consider referential integrity.</p>"},{"location":"Backup%20and%20Restore/MariaDB%20Enterprise%20Backup/#performing-a-partial-backup","title":"Performing a Partial Backup","text":"<p>Command-line options can be used to narrow the set of databases or tables to be included within a backup:</p> Option Description --databases List of databases to include --databases-exclude List of databases to omit from the backup --databases-file Path to file listing the databases to include --tables List of tables to include --tables-exclude List of tables to exclude --tables-file Path to file listing the tables to include <p>For example, you may wish to produce a partial backup, which excludes a specific database:</p> <p><code>$ sudo mariabackup --backup \\      --target-dir=/data/backups/part \\      --user=mariabackup \\      --password=mbu_passwd \\      --database-exclude=test</code></p> <p>Partial backups can also be incremental:</p> <p><code>$ sudo mariabackup --backup \\      --incremental-basedir=/data/backups/part \\      --target-dir=/data/backups/part_inc1 \\      --user=mariabackup \\      --password=mbu_passwd  \\      --database-exclude=test</code></p>"},{"location":"Backup%20and%20Restore/MariaDB%20Enterprise%20Backup/#preparing-a-backup-before-a-partial-restore","title":"Preparing a Backup Before a Partial Restore","text":"<p>As with full and incremental backups, partial backups are not point-in-time consistent. A partial backup must be prepared before it can be used for recovery.</p> <p>A partial restore can be performed from a full backup or partial backup.</p> <p>The preparation step for either partial or full backup restoration requires the use of transportable tablespaces for InnoDB. As such, each prepare operation requires the\u00a0<code>--export</code>\u00a0option:</p> <p><code>$ sudo mariabackup --prepare --export --target-dir=/data/backups/part</code></p> <p>When using a partial incremental backup for restore, the incremental data must be applied to its prior partial backup data before its data is complete. If performing partial incremental backups, run the prepare statement again to apply the incremental changes onto the partial backup that served as the base.</p> <p><code>$ sudo mariabackup --prepare --export \\      --target-dir=/data/backups/part \\      --incremental-dir=/data/backups/part_inc1</code></p>"},{"location":"Backup%20and%20Restore/MariaDB%20Enterprise%20Backup/#performing-a-partial-restore","title":"Performing a Partial Restore","text":"<p>Unlike full and incremental backups, you cannot restore partial backups directly using MariaDB Enterprise Backup. Further, as a partial backup does not contain a complete data directory, you cannot restore MariaDB Enterprise Server to a startable state solely with a partial backup.</p> <p>To restore from a partial backup, you need to prepare a table on the MariaDB Enterprise Server, then manually copy the files into the data directory.</p> <p>The details of the restore procedure depend on the characteristics of the table:</p> <ul> <li>Partial Restore Non-partitioned Tables</li> <li>Partial Restore Partitioned Tables</li> <li>Partial Restore of Tables with Full-Text Indexes</li> </ul> <p>As partial restores are performed while the server is running, not stopped, care should be taken to prevent production workloads during restore activity.</p> <p>Note</p> <p>You can also use data from a full backup in a partial restore operation if you have prepared the data using the\u00a0<code>--export</code>\u00a0option as described above.</p>"},{"location":"Backup%20and%20Restore/MariaDB%20Enterprise%20Backup/#partial-restore-non-partitioned-tables","title":"Partial Restore Non-partitioned Tables","text":"<p>To restore a non-partitioned table from a backup, first create a new table on MariaDB Enterprise Server to receive the restored data. It should match the specifications of the table you're restoring.</p> <p>Be extra careful if the backup data is from a server with a different version than the restore server, as some differences (such as a differing\u00a0<code>ROW_FORMAT</code>) can cause an unexpected result.</p> <ol> <li> <p>Create an empty table for the data being restored:</p> <p>**<code>CREATE** **TABLE** test**.**address_book **(**   id INT **PRIMARY** **KEY** AUTO_INCREMENT**,**   name VARCHAR**(**255**),**   email VARCHAR**(**255**));**</code></p> </li> <li> <p>Modify the table to discard the tablespace:</p> <p>**<code>ALTER** **TABLE** test**.**address_book DISCARD TABLESPACE**;**</code></p> </li> <li> <p>You can copy (or move) the files for the table from the backup to the data directory:</p> <p><code>$ sudo cp /data/backups/part_inc1/test/address_book.* /var/lib/mysql/test</code></p> </li> <li> <p>Use a wildcard to include both the\u00a0<code>.ibd</code>\u00a0and\u00a0<code>.cfg</code>\u00a0files. Then, change the owner to the system user running MariaDB Enterprise Server:</p> <p><code>$ sudo chown mysql:mysql /var/lib/mysql/test/address_book.*</code></p> </li> <li> <p>Lastly, import the new tablespace:</p> <p>**<code>ALTER** **TABLE** test**.**address_book IMPORT TABLESPACE**;**</code></p> <p>MariaDB Enterprise Server looks in the data directory for the tablespace you copied in, then imports it for use. If the table is encrypted, it also looks for the encryption key with the relevant key ID that the table data specifies.</p> </li> <li> <p>Repeat this step for every table you wish to restore.</p> </li> </ol>"},{"location":"Backup%20and%20Restore/MariaDB%20Enterprise%20Backup/#partial-restore-partitioned-tables","title":"Partial Restore Partitioned Tables","text":"<p>Restoring a partitioned table from a backup requires a few extra steps compared to restoring a non-partitioned table.</p> <p>To restore a partitioned table from a backup, first create a new table on MariaDB Enterprise Server to receive the restored data. It should match the specifications of the table you're restoring, including the partition specification.</p> <p>Be extra careful if the backup data is from a server with a different version than the restore server, as some differences (such as a differing\u00a0<code>ROW_FORMAT</code>) can cause an unexpected result.</p> <ol> <li> <p>Create an empty table for the data being restored:</p> <p>**<code>CREATE** **TABLE** test**.**students **(**   id INT **NOT** **NULL** AUTO_INCREMENT**,**   name VARCHAR**(**255**),**   email VARCHAR**(**255**),**   graduating_year **YEAR,**   **PRIMARY** **KEY** **(**id**,** graduating_year**))** ENGINE = InnoDBPARTITION **BY** RANGE **(**graduating_year**)** **(**   PARTITION p0 **VALUES** **LESS** **THAN** **(**2019**),**   PARTITION p1 **VALUES** **LESS** **THAN** **MAXVALUE);**</code></p> </li> <li> <p>Then create a second empty table matching the column specification, but without partitions. This will be your working table:</p> <p>**<code>CREATE** **TABLE** test**.**students_work **ASSELECT** * **FROM** test**.**students **WHERE** **NULL;**</code></p> </li> <li> <p>For each partition you want to restore, discard the working table's tablespace:</p> <p>**<code>ALTER** **TABLE** test**.**students_work DISCARD TABLESPACE**;**</code></p> </li> <li> <p>Then, copy the table files from the backup, using the new name:</p> <p><code>$ sudo cp /data/backups/part_inc1/test/students.ibd /var/lib/mysql/test/students_work.ibd $ sudo cp /data/backups/part_inc1/test/students.cfg /var/lib/mysql/test/students_work.cfg</code></p> </li> <li> <p>Change the owner to that of the user running MariaDB Enterprise Server:</p> <p><code>$ sudo chown mysql:mysql /var/lib/mysql/test/students_work.*</code></p> </li> <li> <p>Import the copied tablespace:</p> <p>**<code>ALTER** **TABLE** test**.**students_work IMPORT TABLESPACE**;**</code></p> </li> <li> <p>Lastly, exchange the partition, copying the tablespace from the working table into the partition file for the target table:</p> <p>**<code>ALTER** **TABLE** test**.**students EXCHANGE PARTITION p0 **WITH** **TABLE** test**.**students_work**;**</code></p> </li> <li> <p>Repeat the above process for each partition until you have them all exchanged into the target table. Then delete the working table, as it's no longer necessary:</p> <p>**<code>DROP** **TABLE** test**.**students_work**;**</code></p> <p>This restores a partitioned table.</p> </li> </ol>"},{"location":"Backup%20and%20Restore/MariaDB%20Enterprise%20Backup/#partial-restore-of-tables-with-full-text-indexes","title":"Partial Restore of Tables with Full-Text Indexes","text":"<p>When restoring a table with a full-text search (FTS) index, InnoDB may throw a schema mismatch error.</p> <p>In this case, to restore the table, it is recommended to:</p> <ul> <li>Remove the corresponding\u00a0<code>.cfg</code>\u00a0file.</li> <li>Restore data to a table without any secondary indexes including FTS.</li> <li>Add the necessary secondary indexes to the restored table.</li> </ul> <p>For example, to restore table\u00a0<code>t1</code>\u00a0with FTS index from database\u00a0<code>db1</code>:</p> <ol> <li> <p>In the MariaDB shell, drop the table you are going to restore:</p> <p>**<code>DROP** **TABLE** **IF** **EXISTS** db1**.**t1**;**</code></p> </li> <li> <p>Create an empty table for the data being restored:</p> <p>**<code>CREATE** **TABLE** db1**.**t1**(**f1 CHAR**(**10**))** ENGINE=INNODB**;**</code></p> </li> <li> <p>Modify the table to discard the tablespace:</p> <p>**<code>ALTER** **TABLE** db1**.**t1 DISCARD TABLESPACE**;**</code></p> </li> <li> <p>In the operating system shell, copy the table files from the backup to the data directory of the corresponding database:</p> <p><code>$ sudo cp /data/backups/part/db1/t1.* /var/lib/mysql/db1</code></p> </li> <li> <p>Remove the\u00a0<code>.cfg</code>\u00a0file from the data directory:</p> <p><code>$ sudo rm /var/lib/mysql/db1/t1.cfg</code></p> </li> <li> <p>Change the owner of the newly copied files to the system user running MariaDB Enterprise Server:</p> <p><code>$ sudo chown mysql:mysql /var/lib/mysql/db1/t1.*</code></p> </li> <li> <p>In the MariaDB shell, import the copied tablespace:</p> <p>**<code>ALTER** **TABLE** db1**.**t1 IMPORT TABLESPACE**;**</code></p> </li> <li> <p>Verify that the data has been successfully restored:</p> <p>**<code>SELECT** * **FROM** db1**.**t1**;**</code></p> <p><code>+--------+ | f1     | +--------+ | ABC123 | +--------+</code></p> </li> <li> <p>Add the necessary secondary indexes:</p> <p>**<code>ALTER** **TABLE** db1**.**t1 **FORCE,** **ADD** FULLTEXT **INDEX** f_idx**(**f1**);**</code></p> </li> <li> <p>The table is now fully restored:</p> <p>**<code>SHOW** **CREATE** **TABLE** db1**.**t1**\\G**</code></p> <ul> <li> <pre><code>*************************** 1. row ***************************\n       Table: t1\nCreate Table: CREATE TABLE `t1` (\n  `f1` char(10) DEFAULT NULL,\n  FULLTEXT KEY `f_idx` (`f1`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci\n</code></pre> </li> </ul> </li> </ol>"},{"location":"Backup%20and%20Restore/MariaDB%20Enterprise%20Backup/#point-in-time-recoveries","title":"Point-in-Time Recoveries","text":"<p>Recovering from a backup restores the data directory at a specific point-in-time, but it does not restore the binary log. In a point-in-time recovery, you begin by restoring the data directory from a full or incremental backup, then use the\u00a0<code>mysqlbinlog</code>\u00a0utility to recover the binary log data to a specific point in time.</p> <ol> <li> <p>First, prepare the backup as you normally would for a\u00a0full\u00a0or\u00a0incremental\u00a0backup:</p> <p><code>$ sudo mariabackup --prepare --target-dir=/data/backups/full</code></p> </li> <li> <p>When MariaDB Enterprise Backup runs on a MariaDB Enterprise Server where binary logs is enabled, it stores binary log information in the\u00a0<code>xtrabackup_binlog_info</code>\u00a0file. Consult this file to find the name of the binary log position to use. In the following example, the log position is\u00a0<code>321</code>.</p> <p>`$ sudo cat /data/backups/full/xtraback_binlog_info</p> <p>mariadb-node4.00001     321`</p> </li> <li> <p>Update the configuration file to use a new data directory.</p> <p>**<code>[mysqld]**datadir=/var/lib/mysql_new</code></p> </li> <li> <p>Using MariaDB Enterprise Backup, restore from the backup to the new data directory:</p> <p><code>$ sudo mariabackup --copy-back --target-dir=/data/backups/full</code></p> </li> <li> <p>Then change the owner to the MariaDB Enterprise Server system user:</p> <p><code>$ sudo chown -R mysql:mysql /var/lib/mysql_new</code></p> </li> <li> <p>Start MariaDB Enterprise Server:</p> <p><code>$ sudo systemctl start mariadb</code></p> </li> <li> <p>Using the binary log file in the old data directory, the start position in the\u00a0<code>xtrabackup_binlog_info</code>\u00a0file, the date and time you want to restore to, and the\u00a0<code>mysqlbinlog</code>\u00a0utility to create an SQL file with the binary log changes:</p> <p><code>$ mysqlbinlog --start-position=321 \\      --stop-datetime=\"2019-06-28 12:00:00\" \\      /var/lib/mysql/mariadb-node4.00001 \\      &gt; mariadb-binlog.sql</code></p> </li> <li> <p>Lastly, run the binary log SQL to restore the databases:</p> <p><code>$ mysql -u root -p &lt; mariadb-binlog.sql</code></p> </li> </ol>"},{"location":"Billing%20and%20Power%20Tier/","title":"Billing and Power Tier","text":"<p>Note</p> <p>COMING SOON \u2026 a complete feature checklist of both the tiers ... A full description of billing and invoicing (FAQ covers a bit)</p> <p>Power Tier is a premium service offering who have the most critical requirements for uptime, availability, performance, and support.</p>"},{"location":"Billing%20and%20Power%20Tier/#upgrade-to-power-tier","title":"Upgrade to Power Tier","text":"<p>By default, any new signed up users are in the \u201cFoundation Tier\u201d. To upgrade to Power Tier,\u00a0simply click the \u2018Upgrade\u2019 button - SkySQL support will contact you and start the upgrade process. You can also directly reach out to SkySQL Support.</p>"},{"location":"Billing%20and%20Power%20Tier/#features","title":"Features","text":"<p>Features available to SkySQL Power Tier customers include:</p> <ul> <li>Enhanced Service Level Agreement (SLA)</li> <li>Extended Range of Instance Sizes</li> <li>Custom Instance Sizes</li> <li>Choice of Maintenance Window</li> <li>MaxScale Redundancy</li> <li>Custom Configuration</li> <li>Choice between\u00a0Enterprise and Platinum Support Plans</li> <li>AWS PrivateLink\u00a0and\u00a0GCP VPC Peering\u00a0available</li> <li>Point-in-time recovery</li> <li>See all\u00a0Options\u00a0which augment the default SkySQL service experience</li> </ul>"},{"location":"Billing%20and%20Power%20Tier/Billing/","title":"Billing","text":"<p>Billing is associated with a\u00a0MariaDB ID.</p> <p>For pricing information see \"Pricing\" .</p>"},{"location":"Billing%20and%20Power%20Tier/Billing/#usage-information","title":"Usage Information","text":"<p>From the\u00a0Portal, you can access a current billing and usage summary:</p> <ol> <li>Log in to the\u00a0Portal.</li> <li>Click your name in the upper-right corner of the interface, then select \"Billing\" from the menu.</li> <li>The \"Current Usage\" tab (the default) shows current billing and usage summary.</li> </ol> <p>Current charges, prior billing date, and next invoice date are shown.</p> <p>Usage information can be shown by service or by resource.</p> <p>Click the resource name or service name to expand the view.</p> <p></p> <p>Billing - Usage</p> <p>https://skysql.mariadb.com/billings/usage</p>"},{"location":"Billing%20and%20Power%20Tier/Billing/#billing-history-invoices","title":"Billing History &amp; Invoices","text":"<p>From the\u00a0Portal, you can access prior invoices:</p> <ol> <li>Log in to the\u00a0Portal.</li> <li>Click your name in the upper-right corner of the interface, then select \"Billing\" from the menu.</li> <li>Click the \"Billing History\" tab to show available invoices.</li> <li>Remittance customers should contact their billing administrator for billing questions.</li> </ol> <p></p> <p>Billing - Billing History</p> <p>https://skysql.mariadb.com/billings/history</p>"},{"location":"Connecting%20to%20Sky%20DBs/","title":"Connecting to Sky DBs","text":"<p>This page describes how to connect to a SkySQL database using a MariaDB-compatible client.</p> <p>Note</p> <p>The easiest way to get a SQL connection to any MariaDB database launched within your SkySQL account is through the built-in Query Editor\u00a0-  run queries directly in the browser to interact with data stored in SkySQL databases.</p> <p>Note</p> <p>\ud83d\udca1 For Enterprise Server With Replica(s), you can also use any MongoDB client and use the\u00a0NoSQL Interface\u00a0.</p>"},{"location":"Connecting%20to%20Sky%20DBs/#connection-parameters","title":"Connection Parameters","text":"<p>Once your DB service is launched, click on the \u2018Connect\u2019 option for your service on the dashboard. This pops up all the required attributes to connect from any SQL client. </p>"},{"location":"Connecting%20to%20Sky%20DBs/#important-whitelist-your-ip-address-first","title":"Important - Whitelist your IP address first","text":"<p>Note</p> <p>\ud83d\udca1 Access to all services are protected by a firewall, by default. You need to IP whitelist your client\u2019s (your desktop, laptop or server) IP. Just select \u2018Manage \u2014&gt; Security Access\u2019 and then click \u2018Add my current IP\u2019 to add the IP of your current workstation (laptop, desktop).</p> <p>Note</p> <p>\ud83d\udca1 If you are not sure or unable to obtain the IP address, you can use 0.0.0.0/0 to effectively disable the firewall. Goes without saying \u2014 don\u2019t do this for your production DBs.</p> <p>For more details go to the\u00a0Firewall\u00a0settings page. </p> <p>Connection parameters include:</p> <ul> <li>Default username</li> <li>Default password</li> <li>Hostname (Fully Qualified Domain Name)</li> <li>TCP port</li> <li>PEM file containing the Certificate Authority Chain</li> </ul> <p>To connect to a service, you must also manage the\u00a0Firewall\u00a0settings and add the client's IP address or netblock to the allowlist.</p> <p></p> <p>Service-specific Connection Parameters</p>"},{"location":"Connecting%20to%20Sky%20DBs/#connecting-using-the-mariadb-client","title":"Connecting using the MariaDB client","text":"<p>If using a mac, install MariaDB using <code>brew install mariadb</code>.  Go through MariaDB Client for details on how to connect from Linux or Windows. </p> <p>Next, If you turned SSL, you need to download the \u2018Certificate Authentication Chain\u2019 from the Connect popup. </p> <p>Finally, simply copy/paste the MariaDB CLI command as displayed in the Connect window. </p>"},{"location":"Connecting%20to%20Sky%20DBs/#connecting-from-your-application","title":"Connecting from your Application","text":"<p>Applications can connect to MariaDB SkySQL DBs using any of the below MariaDB supported connectors. There are several other connectors from the community too. </p> <ul> <li>C</li> <li>C++</li> <li>Java</li> <li>Java R2DBC</li> <li>Node.js (JavaScript)</li> <li>ODBC API</li> <li>Python</li> </ul>"},{"location":"Connecting%20to%20Sky%20DBs/#connecting-from-sql-tools","title":"Connecting from SQL tools","text":"<p>Clients listed here have been tested to properly connect with MariaDB SkySQL and execute queries.</p> <ul> <li>DBeaver</li> <li>dbForge Studio</li> <li>HeidiSQL</li> <li>MariaDB Client</li> <li>MariaDB Shell</li> <li>Microsoft Power BI</li> <li>MySQL Workbench</li> <li>Navicat</li> <li>SQLyog</li> <li>TablePlus</li> </ul>"},{"location":"Connecting%20to%20Sky%20DBs/#client-configuration","title":"Client Configuration","text":"<ol> <li>Manage the\u00a0Firewall\u00a0settings and add the client's IP address or netblock to the allowlist.</li> <li>Download the \"Certificate Authentication Chain\" PEM file by clicking the displayed PEM file link. The PEM file used for the current release of SkySQL is different from the PEM files used by SkySQL previous release.</li> <li>Configure your client per the\u00a0Connection Parameters.<ul> <li>While instructions are provided in the\u00a0Portal\u00a0for connecting with the MariaDB Client (<code>mariadb</code>), there are many compatible\u00a0programming language connectors\u00a0and\u00a0client applications.</li> </ul> </li> </ol>"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20from%20Java%20App/","title":"Connect from Java App","text":"<p>MariaDB Connector/J enables Java applications to connect to MariaDB database products using a native MariaDB connector.</p>"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20from%20Java%20App/#download-the-connector","title":"Download the connector ..","text":"Version Latest Release Latest Release Date Maturity MariaDB Connector/J 3.1 https://mariadb.com/docs/server/release-notes/mariadb-connector-j-3-1/3-1-4/ 2023-05-01 General Availability MariaDB Connector/J 3.0 https://mariadb.com/docs/server/release-notes/mariadb-connector-j-3-0/3-0-10/ 2023-01-11 General Availability MariaDB Connector/J 2.7 https://mariadb.com/docs/server/release-notes/mariadb-connector-j-2-7/2-7-9/ 2023-03-22 General Availability MariaDB Connector/J 1.8 MariaDB Connector/J 1.8.0 2019-02-11 GA"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20from%20Java%20App/#install-mariadb-connectorj-via-jar","title":"Install MariaDB Connector/J via JAR","text":"<p>To download the JAR file manually:</p> <ol> <li>Go to the\u00a0MariaDB Connector/J download page</li> <li>Within the \"Product\" dropdown, choose the \"Java 8 connector\" or \"Java 7 connector\".</li> <li>In the \"Version\" dropdown, choose the desired version.</li> <li>Click the \"Download\" button to download the JAR file.</li> <li>When the JAR file finishes downloading, place it into the relevant directory on your system.</li> <li>Similarly, install dependency JAR files, if any used.</li> </ol>"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20from%20Java%20App/#install-mariadb-connectorj-via-maven","title":"Install MariaDB Connector/J via Maven","text":"<p>Maven can install MariaDB Connector/J as a dependency of your application during build. Set the\u00a0<code>&lt;version&gt;</code>\u00a0element to correspond to the version of MariaDB Connector/J that you would like to install.</p> <p>To use Maven to install MariaDB Connector/J, add the dependency to your\u00a0<code>pom.xml</code>\u00a0file:</p> <pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\n   &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\n   &lt;version&gt;3.0.10&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre> <p>For additional information on available releases, see the \"Release Notes for MariaDB Connector/J\".</p> <p>Depending on the features you plan to use, you may need to add some additional dependencies to\u00a0<code>pom.xml</code>.</p> <p>If you downloaded the connector JAR, place it on your CLASSPATH</p> <pre><code>export CLASSPATH=\"/path/to/application:/path/to/mariadb-java-client-3.0.10.jar\"\n</code></pre>"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20from%20Java%20App/#connectorj-30","title":"Connector/J 3.0","text":"<p>In MariaDB Connector/J 3.0, TLS is enabled for connections to SkySQL using the\u00a0<code>sslMode</code>\u00a0parameter.</p> <pre><code>import java.sql.*;\nimport java.util.Properties;\n\npublic class App {\n    public static void main(String[] argv) {\n        Properties connConfig = new Properties();\n        connConfig.setProperty(\"user\", \"db_user\");\n        connConfig.setProperty(\"password\", \"db_user_password\");\n        **connConfig.setProperty(\"sslMode\", \"verify-full\");**\n        connConfig.setProperty(\"serverSslCert\", \"/path/to/skysql_chain.pem\");\n\n        try (Connection conn = DriverManager.getConnection(\"jdbc:mariadb://HOST:PORT\", connConfig)) {\n            try (Statement stmt = conn.createStatement()) {\n                try (ResultSet contact_list = stmt.executeQuery(\"SELECT first_name, last_name, email FROM test.contacts\")) {\n                    while (contact_list.next()) {\n                        System.out.println(String.format(\"%s %s &lt;%s&gt;\",\n                            contact_list.getString(\"first_name\"),\n                            contact_list.getString(\"last_name\"),\n                            contact_list.getString(\"email\")));\n                    }\n                }\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20from%20Java%20App/#connectorj-27","title":"Connector/J 2.7","text":"<p>In MariaDB Connector/J 2.7 and before, TLS is enabled for connections to SkySQL using the\u00a0<code>useSsl</code>\u00a0parameter.</p> <pre><code>import java.sql.*;\nimport java.util.Properties;\n\npublic class App {\n    public static void main(String[] argv) {\n        Properties connConfig = new Properties();\n        connConfig.setProperty(\"user\", \"db_user\");\n        connConfig.setProperty(\"password\", \"db_user_password\");\n        **connConfig.setProperty(\"useSsl\", \"true\");**\n        connConfig.setProperty(\"serverSslCert\", \"/path/to/skysql_chain.pem\");\n\n        try (Connection conn = DriverManager.getConnection(\"jdbc:mariadb://HOST:PORT\", connConfig)) {\n            try (Statement stmt = conn.createStatement()) {\n                try (ResultSet contact_list = stmt.executeQuery(\"SELECT first_name, last_name, email FROM test.contacts\")) {\n                    while (contact_list.next()) {\n                        System.out.println(String.format(\"%s %s &lt;%s&gt;\",\n                            contact_list.getString(\"first_name\"),\n                            contact_list.getString(\"last_name\"),\n                            contact_list.getString(\"email\")));\n                    }\n                }\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre> Connector MariaDB Connector/J Supported Versions https://mariadb.com/docs/server/release-notes/mariadb-connector-j-3-1/https://mariadb.com/docs/server/release-notes/mariadb-connector-j-3-0/https://mariadb.com/docs/server/release-notes/mariadb-connector-j-2-7/MariaDB Connector/J 1.8 Programming Language Java Programming Language Version Java 17, Java 11, Java 8 (Connector/J 3.1)Java 17, Java 11, Java 8 (Connector/J 3.0)Java 17, Java 11, Java 8 (Connector/J 2.7)Java 7 (Connector/J 1.8) API JDBC 4.2 (Connector/J 3.1)JDBC 4.2 (Connector/J 3.0)JDBC 4.2 (Connector/J 2.7)JDBC 4.1 (Connector/J 1.8) Supports TLS Yes License GNU Lesser General Public License v2.1"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20from%20MongoDB%20clients/","title":"Connect from MongoDB clients","text":"<p>The NoSQL protocol module allows a MariaDB server or cluster to execute transactions for applications using MongoDB client libraries, transparently converting MongoDB API calls into the equivalent SQL. The MariaDB responses are then converted into the format expected by the MongoDB\u00ae client library and application.</p> <p>For detailed information on supported commands, see \"NoSQL Protocol Module\" in MariaDB MaxScale documentation.</p>  \ud83d\udca1 IMPORTANT - this feature is supported by the MariaDB advanced proxy - Maxscale.  And, maxscale is only started when using the SkySQL Replicated topology. i.e. will not work when using a Standalone MariaDB server."},{"location":"Connecting%20to%20Sky%20DBs/Connect%20from%20MongoDB%20clients/#enable-support-for-nosql","title":"Enable Support for NoSQL","text":"<ol> <li>When\u00a0launching\u00a0Enterprise Server With Replica(s), after defining the service name, expand the \"Additional options\" section.</li> <li>Check the \"Enable support for NoSQL\" checkbox.</li> </ol>"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20from%20MongoDB%20clients/#available-clients","title":"Available Clients","text":"<p>Connect to the NoSQL interface using a MongoDB client library or compatible application.\u00a0Documentation on official MongoDB libraries\u00a0is available from MongoDB.</p> <p>Documentation on installing\u00a0<code>mongosh</code>\u00a0(the MongoDB Shell)\u00a0is available from MongoDB.</p>"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20from%20MongoDB%20clients/#connection-parameters","title":"Connection Parameters","text":"<p>From the Dashboard, the details needed to connect to your SkySQL service can be seen by clicking on the \"CONNECT\" button for the desired service.</p> <p>The \"NoSQL port\" is the TCP port used to connect to the NoSQL interface.</p> <p>The\u00a0firewall\u00a0must be configured to allowlist the client's IP address or netblock before connections can occur.</p> <p>See the \"Connecting using Mongosh\" section of the Connect page for an example\u00a0<code>mongosh</code>\u00a0command-line, authentication instructions, and instructions to change the default password.</p>"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20from%20Node%20js%20App/","title":"Connect from Node.js App","text":"<p>Node.js developers can connect to MariaDB database products through a native MariaDB Connector. Using MariaDB Connector/Node.js you can connect to MariaDB database products to use and administer databases from within your Node.js application.</p>"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20from%20Node%20js%20App/#install-mariadb-connectornodejs","title":"Install MariaDB Connector/Node.js","text":"<p>MariaDB Connector/Node.js is usually installed either from the Node.js repository or manually from the source code package.</p>"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20from%20Node%20js%20App/#install-mariadb-connectornodejs-via-repository","title":"Install MariaDB Connector/Node.js via Repository","text":"<p>To install MariaDB Connector/Node.js from the Node.js repository, use NPM:</p> <p><code>$ npm install mariadb</code></p> <p>NPM connects to the Node.js repository and downloads MariaDB Connector/Node.js and all relevant dependencies into the\u00a0<code>node_modules/</code>\u00a0directory.</p>"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20from%20Node%20js%20App/#install-mariadb-connectornodejs-via-source-code","title":"Install MariaDB Connector/Node.js via Source Code","text":"<p>To download and install the MariaDB Connector/Node.js manually from source code:</p> <ol> <li>Go to the MariaDB Connectors download page:<ul> <li>https://mariadb.com/downloads/#connectors</li> </ul> </li> <li>In the \"Product\" dropdown, select the Node.js connector.</li> <li>Click the \"Download\" button to download the source code package</li> <li> <p>When the source code package finishes downloading, install it with NPM:</p> <p><code>$ npm install mariadb-connector-nodejs-*.tar.gz</code></p> </li> </ol> <p>NPM untars the download and installs MariaDB Connector/Node.js in the\u00a0<code>node_modules/</code>\u00a0directory.</p>"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20from%20Node%20js%20App/#connect-with-mariadb-connectornodejs-callback-api","title":"Connect with MariaDB Connector/Node.js (Callback API)","text":"<p>Node.js developers can use MariaDB Connector/Node.js to establish client connections with MariaDB database products.</p>"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20from%20Node%20js%20App/#require-callback-api","title":"Require Callback API","text":"<p>MariaDB Connector/Node.js provides two different connection implementations: one built on the\u00a0Promise API\u00a0and the other built on the Callback API.</p> <p>To use the Callback API, use the following module:</p> <p>**<code>const** mariadb = require**(**'mariadb/callback'**);**</code></p>"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20from%20Node%20js%20App/#connect","title":"Connect","text":"<p><code>createConnection(options)\u00a0-&gt;\u00a0Connection</code>\u00a0is the base function used to create a\u00a0<code>Connection</code>\u00a0object.</p> <p>The\u00a0<code>createConnection(options)</code>\u00a0function returns a\u00a0<code>Connection</code>\u00a0object.</p> <p>Determine the\u00a0connection information\u00a0for your MariaDB SkySQL database service:</p> Option Description host The fully Qualified Domain Name in the\u00a0https://mariadb.com/docs/skysql-previous-release/connect/connection-parameters-portal/ port The Read-Write Port or Read-Only Port in the\u00a0https://mariadb.com/docs/skysql-previous-release/connect/connection-parameters-portal/ user The desired username, which might be the default username in the Service Credentials view password The user's password, which might be the default password in the Service Credentials view if it was not yet customized database Database name to establish a connection to. No default is configured. connectTimeout Connection timeout in milliseconds. In Connector/Node.js 2.5.6, the default value changed to 1000. The default value for earlier versions is 10000. rowsAsArray A boolean value to indicate whether to return result sets as array instead of the default JSON. Arrays are comparatively faster."},{"location":"Connecting%20to%20Sky%20DBs/Connect%20from%20Node%20js%20App/#code-example-connect","title":"Code Example: Connect","text":"<p>The following code example connects using the database and user account created in the\u00a0example setup:</p> <pre><code>const mariadb = require('mariadb/callback');\n\n// Certificate Authority (CA)\",\nvar serverCert = [fs.readFileSync(process.env.SKYSQL_CA_PEM, \"utf8\")];\n\n// Declare async function\nfunction main() {\n   let conn;\n\n   try {\n      conn = mariadb.createConnection({\n         host: \"example.skysql.net\",\n         port: 5009,\n         ssl: { ca: serverCert },\n         user: \"db_user\",\n         password: \"db_user_password\",\n         database: \"test\",\n      });\n\n      // Use Connection\n      // ...\n   } catch (err) {\n      // Manage Errors\n      console.log(\"SQL error in establishing a connection: \", err);\n   } finally {\n      // Close Connection\n      if (conn) conn.end(err =&gt; {if(err){\n         console.log(\"SQL error in closing a connection: \", err);}\n      });\n   }\n}\n\nmain();\n</code></pre> <ul> <li>A\u00a0<code>try...catch...finally</code>\u00a0statement is used for exception handling.</li> <li>New connections are created in auto-commit mode by default.</li> <li>When you are done with a connection, close it to free resources. Close the connection using the\u00a0<code>connection.end([callback])</code>\u00a0function.</li> <li>The script calls the\u00a0<code>connection.end([callback])</code>\u00a0function to close/end the connection in the\u00a0<code>finally</code>\u00a0block after the queries that are running have completed.</li> <li>The\u00a0<code>end()</code>\u00a0function takes a callback function that defines one implicit argument for the\u00a0<code>Error</code>\u00a0object if thrown in closing the connection as argument. If no error is generated in closing a connection the\u00a0<code>Error</code>\u00a0object is\u00a0<code>null</code>.</li> </ul>"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20from%20Node%20js%20App/#connect-with-mariadb-connectornodejs-promise-api","title":"Connect with MariaDB Connector/Node.js (Promise API)","text":"<p>Node.js developers can use MariaDB Connector/Node.js to establish client connections with MariaDB database products.</p>"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20from%20Node%20js%20App/#require-promise-api","title":"Require Promise API","text":"<p>MariaDB Connector/Node.js provides two different connection implementations: one built on the Promise API and the other built on the\u00a0Callback API. Promise is the default.</p> <p>To use the Promise API, use the\u00a0<code>mariadb</code>\u00a0module:</p> <p>**<code>const** mariadb = require**(**'mariadb'**);**</code></p>"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20from%20Node%20js%20App/#connect_1","title":"Connect","text":"<p><code>createConnection(options)\u00a0-&gt;\u00a0Promise</code>\u00a0is the base function used to create a\u00a0<code>Connection</code>\u00a0object.</p> <p>The\u00a0<code>createConnection(options)</code>\u00a0returns a\u00a0<code>Promise</code>\u00a0that resolves to a\u00a0<code>Connection</code>\u00a0object if no error occurs, and rejects with an\u00a0<code>Error</code>\u00a0object if an error occurs.</p> <p>Determine the\u00a0connection information\u00a0for your MariaDB SkySQL database service:</p> Option Description host The fully Qualified Domain Name in the\u00a0https://mariadb.com/docs/skysql-previous-release/connect/connection-parameters-portal/ port The Read-Write Port or Read-Only Port in the\u00a0https://mariadb.com/docs/skysql-previous-release/connect/connection-parameters-portal/ user The desired username, which might be the default username in the Service Credentials view password The user's password, which might be the default password in the Service Credentials view if it was not yet customized ssl.ca The contents of the\u00a0skysql_chain.pem\u00a0file containing the\u00a0https://mariadb.com/docs/skysql-previous-release/connect/connection-parameters-portal/#Certificate_Authority_Chain \u2022 https://supplychain.mariadb.com/skysql_chain.pem \u2022 https://supplychain.mariadb.com/aws_skysql_chain.pem database Database name to establish a connection to. No default is configured. connectTimeout Connection timeout in milliseconds. In Connector/Node.js 2.5.6, the default value changed to 1000. The default value for earlier versions is 10000. rowsAsArray A boolean value to indicate whether to return result sets as array instead of the default JSON. Arrays are comparatively faster. <p>Create a file named\u00a0<code>.env</code>\u00a0to store your database credentials:</p> <pre><code>MDB_HOST = 192.0.2.50\nMDB_PORT = 3306\nMDB_USER = db_user\nMDB_PASS = db_user_password\nMDB_HOST = example.skysql.net\nMDB_PORT = 5001\nMDB_CA_PEM = /path/to/skysql_chain.pem\nMDB_USER = db_user\nMDB_PASS = db_user_password\n</code></pre>"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20from%20Node%20js%20App/#code-example-connect_1","title":"Code Example: Connect","text":"<p>The following code example connects\u00a0using the database and user account created in\u00a0Setup for Examples:</p> <pre><code>// Required Modules\nconst fs = require(\"fs\");\nconst mariadb = require(\"mariadb\");\nrequire(\"dotenv\").config()\n\n// Certificate Authority (CA)\nconst serverCert = [fs.readFileSync(process.env.MDB_CA_PEM, \"utf8\")];\n\n// Declare async function\nasync function main() {\n   let conn;\n\n   try {\n      conn = await mariadb.createConnection({\n         host: process.env.MDB_HOST,\n         port: process.env.MDB_PORT,\n         user: process.env.MDB_USER,\n         password: process.env.MDB_PASS,\n         ssl: { ca: serverCert },\n         database: \"test\",\n      });\n\n      // Use Connection\n      // ...\n   } catch (err) {\n      // Manage Errors\n      console.log(\"SQL error in establishing a connection: \", err);\n   } finally {\n      // Close Connection\n      if (conn) conn.close();\n   }\n}\n\nmain();\n</code></pre> <ul> <li>Load the\u00a0<code>mariadb</code>\u00a0module using the\u00a0<code>require()</code>\u00a0function.</li> <li>Declare an async function called\u00a0<code>main()</code>\u00a0using the\u00a0<code>async</code>\u00a0keyword.</li> <li>An async function provides asynchronous, Promise-based code behavior.</li> <li>Async functions may declare\u00a0<code>await</code>\u00a0expressions using the\u00a0<code>await</code>\u00a0keyword.</li> <li>Await expressions yield control to a promise-based asynchronous operation.</li> <li>Await expressions resume control after the awaited operation is either fulfilled or rejected.</li> <li>The return value of an\u00a0<code>await</code>\u00a0expression is the resolved value of the\u00a0<code>Promise</code>.</li> <li>The async function name\u00a0<code>main</code>\u00a0is arbitrary and does not have special meaning as in some other programming languages.</li> <li>Declare a variable called\u00a0<code>conn</code>\u00a0for the connection to be created using a\u00a0<code>let</code>\u00a0statement with the async function\u00a0<code>main</code>.</li> <li>A\u00a0<code>try...catch...finally</code>\u00a0statement is used for exception handling.</li> <li>New connections are by default created in auto-commit mode.</li> <li>In the\u00a0<code>try</code>\u00a0block, create a new connection using the\u00a0<code>mariadb#createConnection(options)</code>\u00a0function in the Promise API.</li> <li>Send error messages if any to the console in the\u00a0<code>catch</code>\u00a0block.</li> <li>When you are done with a connection, close it to free resources. Close the connection using the\u00a0<code>close()</code>\u00a0function.</li> </ul> Connector MariaDB Connector/Node.js Supported Versions https://mariadb.com/docs/server/release-notes/mariadb-connector-nodejs-2-5/https://mariadb.com/docs/server/release-notes/mariadb-connector-nodejs-3-2/ Programming Language JavaScript Programming Language Version \u2022 Connector/Node.js 2.5: Node.js 16 \u2022 Connector/Node.js 3.2: Node.js 16, 18, 20 API Promise APICallback API Supports TLS Yes Supports Connection Pools Yes License GNU Lesser General Public License v2.1"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20from%20Python%20App/","title":"Connect from Python App","text":""},{"location":"Connecting%20to%20Sky%20DBs/Connect%20from%20Python%20App/#overview","title":"Overview","text":"<p>Python developers can use MariaDB Connector/Python to establish client connections with SkySQL database products.</p>"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20from%20Python%20App/#connections","title":"Connections","text":"<p>Connections are managed using the following Python class:</p> Class Description Connection Represents a connection to a MariaDB database product. <p>Connections are created, used, and managed using the following <code>Connection</code> class functions:</p> Function Description connect() Establishes a connection to a database server and returns a connection object. cursor() Returns a new cursor object for the current connection. change_user() Changes the user and default database of the current connection. reconnect() Tries to make a connection object active again by reconnecting to the server using the same credentials which were specified in connect() method. close() Closes the connection. <p>Determine the connection information for your SkySQL database service:</p> <p>| connect() parameter | Where to find it | | --- | --- | | user | Default username in the Service Credentials view, or the username you created | | passwd | Default password in the Service Credentials view, the password you set on the default user, or the password for the user you created | | host | Fully Qualified Domain Name in the https://www.notion.so../../../connection-parameters-portal/ | | ssl_verify_cert | Set to True to support SSL | | port | Read-Write Port or Read-Only Port in the https://www.notion.so../../../connection-parameters-portal/ |</p>"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20from%20Python%20App/#code-example-connect","title":"Code Example: Connect","text":"<p>The following code example connects to an example server.</p> <p>Examples:</p> <pre><code># Module Import\nimport mariadb\nimport sys\n\n# Instantiate Connection\ntry:\n   conn = mariadb.connect(\n      host=\"192.0.2.1\",\n      port=3306,\n      user=\"db_user\",\n      password=\"USER_PASSWORD\")\nexcept mariadb.Error as e:\n   print(f\"Error connecting to the database: {e}\")\n   sys.exit(1)\n\n# Use Connection\n# ...\n\n# Close Connection\nconn.close()\n</code></pre> <pre><code># Module Import\nimport mariadb\nimport sys\n\n# Instantiate Connection\ntry:\n   conn = mariadb.connect(\n      host=\"SKYSQL_SERVICE.mdb0000001.db.skysql.com\",\n      port=5009,\n      ssl_verify_cert=True,\n      user=\"DB00000001\",\n      password=\"USER_PASSWORD\")\nexcept mariadb.Error as e:\n   print(f\"Error connecting to the database: {e}\")\n   sys.exit(1)\n\n# Use Connection\n# ...\n\n# Close Connection\nconn.close()\n</code></pre> <ul> <li>The <code>connect()</code> function returns an instance of the <code>Connection</code> class, which is assigned to the <code>conn</code> variable.</li> <li>The connection attributes are passed as keyword arguments to the<code>connect()</code>function.</li> <li>When you are done with a connection, close it to free resources. Close the connection using the <code>close()</code>method.</li> </ul>"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20from%20Python%20App/#multiple-connections","title":"Multiple Connections","text":"<p>Instantiating the <code>Connection</code> class creates a single connection to MariaDB database products. Applications that require multiple connections may benefit from pooling connections.</p>"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20from%20Python%20App/#close-a-connection","title":"Close a Connection","text":"<p>MariaDB Connector/Python closes the connection as part of the class's destructor, which is executed when an instance of the class goes out of scope. This can happen in many cases, such as:</p> <ul> <li>When the program exits</li> <li>When the instance of the <code>Connection</code> class is defined in the local scope of a function, and the function returns</li> <li>When the instance of the <code>Connection</code> class is defined as an attribute of a custom class's instance, and the custom class's instance goes out of scope.</li> </ul> <p>Connections can also be explicitly closed using the <code>close()</code> method, which is helpful when the connection is no longer needed, but the variable is still in scope.</p>"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20from%20Python%20App/#connection-failover","title":"Connection Failover","text":"<p>Starting with MariaDB Connector/Python 1.1 when MariaDB Connector/Python is built with MariaDB Connector/C 3.3, the connector supports connection failover when <code>auto_reconnect</code> is enabled and the connection string contains a comma-separated list of multiple server addresses.</p> <p>To enable connection failover:</p> <ul> <li>Call the <code>mariadb.connect</code> function with the <code>host</code> argument specified as a comma-separated list containing multiple server addresses. The connector attempts to connect to the addresses in the order specified in the list.</li> <li>Set <code>auto_reconnect</code> to <code>True</code>. If the connection fails, the connector will attempt to reconnect to the addresses in the order specified in the list.</li> </ul> <p>The following code example connects with connection failover enabled:</p> <pre><code># Module Import\nimport mariadb\nimport sys\n\n# Instantiate Connection\ntry:\n   conn = mariadb.connect(\n      host=\"192.0.2.1,192.0.2.0,198.51.100.0\",\n      port=3306,\n      user=\"db_user\",\n      password=\"USER_PASSWORD\")\n   conn.auto_reconnect = True\nexcept mariadb.Error as e:\n   print(f\"Error connecting to the database: {e}\")\n   sys.exit(1)\n\n# Use Connection\n# ...\n\n# Close Connection\nconn.close()\n</code></pre> <pre><code># Module Import\nimport mariadb\nimport sys\n\n# Instantiate Connection\ntry:\n   conn = mariadb.connect(\n      host=\"SKYSQL_SERVICE.mdb0000001.db.skysql.com,SKYSQL_SERVICE.mdb0000002.db.skysql.com\",\n      port=5009,\n      ssl_verify_cert=True,\n      user=\"DB00000001\",\n      password=\"USER_PASSWORD\")\n   conn.auto_reconnect = True\nexcept mariadb.Error as e:\n   print(f\"Error connecting to the database: {e}\")\n   sys.exit(1)\n\n# Use Connection\n# ...\n\n# Close Connection\nconn.close()\n</code></pre>"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20from%20%E2%80%98C%2B%2B%E2%80%99%20App/","title":"Connect from \u2018C++\u2019 App","text":"<p>MariaDB Connector/C++ enables C++ applications to establish client connections to MariaDB database over TLS.</p>"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20from%20%E2%80%98C%2B%2B%E2%80%99%20App/#requirement","title":"Requirement","text":"<p>MariaDB Connector/C++ has dependencies. You must install MariaDB Connector/C to use it.</p> MariaDB Connector/C++ MariaDB Connector/C 1.1 3.2.3 or later 1.0 3.1.1 or later <p>For additional information, see \"MariaDB Connector/C++ Release Notes\".</p>"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20from%20%E2%80%98C%2B%2B%E2%80%99%20App/#linux-installation-binary-tarball","title":"Linux Installation (Binary Tarball)","text":"<p>To install MariaDB Connector/C++ on Linux:</p> <ol> <li>Install MariaDB Connector/C.</li> <li>Go to the\u00a0MariaDB Connector C++ download page.</li> <li>In the \"OS\" dropdown, select the Linux distribution you want to use.</li> <li>Click the \"Download\" button to download the binary tarball.</li> <li> <p>Extract the tarball:</p> <p><code>$ tar -xvzf mariadb-connector-cpp-*.tar.gz</code></p> </li> <li> <p>Change into the relevant directory:</p> <p><code>$ cd mariadb-connector-cpp-*/</code></p> </li> <li> <p>Install the directories for the header files:</p> <p><code>$ sudo install -d /usr/include/mariadb/conncpp $ sudo install -d /usr/include/mariadb/conncpp/compat</code></p> </li> <li> <p>Install the header files:</p> <p><code>$ sudo install include/mariadb/* /usr/include/mariadb/ $ sudo install include/mariadb/conncpp/* /usr/include/mariadb/conncpp $ sudo install include/mariadb/conncpp/compat/* /usr/include/mariadb/conncpp/compat</code></p> </li> <li> <p>Install the directories for the shared libraries:</p> <ul> <li> <p>On CentOS, RHEL, Rocky Linux:</p> <p><code>$ sudo install -d /usr/lib64/mariadb $ sudo install -d /usr/lib64/mariadb/plugin</code></p> </li> <li> <p>On Debian, Ubuntu:</p> <p><code>$ sudo install -d /usr/lib/mariadb $ sudo install -d /usr/lib/mariadb/plugin</code></p> </li> </ul> </li> <li> <p>Install the shared libraries:</p> <ul> <li> <p>On CentOS, RHEL, Rocky Linux:</p> <p><code>$ sudo install lib64/mariadb/libmariadbcpp.so /usr/lib64 $ sudo install lib64/mariadb/plugin/* /usr/lib64/mariadb/plugin</code></p> </li> <li> <p>On Debian, Ubuntu:</p> <p><code>$ sudo install lib/mariadb/libmariadbcpp.so /usr/lib $ sudo install lib/mariadb/plugin/* /usr/lib/mariadb/plugin</code></p> </li> </ul> </li> </ol>"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20from%20%E2%80%98C%2B%2B%E2%80%99%20App/#windows-installation-msi","title":"Windows Installation (MSI)","text":"<p>To install MariaDB Connector/C++ on Windows:</p> <ol> <li>MariaDB Connector/C dependency will be installed when Connector/C++ is installed.</li> <li>Go to the\u00a0MariaDB Connector C++ download page for MS Windows.</li> <li>Click the \"Download\" button to download the MSI package.</li> <li>Run the MSI package and click \"Next\" to start the Setup Wizard.</li> <li>On the second screen, click the license agreement checkbox, then click \"Next.\"</li> <li>On the third screen, click \"Typical.\"</li> <li>On the fourth screen, click \"Install.\"</li> <li>Click \"Finish.\"</li> <li>Add the directory path that contains the\u00a0<code>mariadbcpp</code> <code>LIB</code>\u00a0file (example\u00a0<code>\"C:\\Program\u00a0Files\\MariaDB\\MariaDB\u00a0C++\u00a0Connector\u00a064-bit\"</code>) to\u00a0<code>PATH</code>\u00a0environment variable.</li> </ol>"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20from%20%E2%80%98C%2B%2B%E2%80%99%20App/#latest-software-releases","title":"Latest Software Releases","text":"Version Latest Release Latest Release Date Maturity MariaDB Connector/C++ 1.1 https://mariadb.com/docs/server/release-notes/mariadb-connector-cpp-1-1/1-1-2/ 2022-11-30 Release Candidate MariaDB Connector/C++ 1.0 https://mariadb.com/docs/server/release-notes/mariadb-connector-cpp-1-0/1-0-2/ 2022-10-11 General Availability"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20from%20%E2%80%98C%2B%2B%E2%80%99%20App/#connection-info","title":"Connection Info","text":"<p>The connection is configured via the information that is initially acquired from the SkySQL Portal pages:</p> What to set Where to find it Hostname in the URL The fully Qualified Domain Name in the\u00a0https://mariadb.com/docs/skysql-previous-release/connect/connection-parameters-portal/ Port number in the URL The Read-Write Port or Read-Only Port in the\u00a0https://mariadb.com/docs/skysql-previous-release/connect/connection-parameters-portal/ user\u00a0parameter The desired username, which might be the default username in the Service Credentials view password\u00a0parameter The user's password, which might be the default password in the Service Credentials view if it was not yet customized tlsCert\u00a0parameter The path to the\u00a0skysql_chain.pem\u00a0file containing the\u00a0https://mariadb.com/docs/skysql-previous-release/connect/connection-parameters-portal/#Certificate_Authority_Chain \u2022 https://supplychain.mariadb.com/skysql_chain.pem \u2022 https://supplychain.mariadb.com/aws_skysql_chain.pem"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20from%20%E2%80%98C%2B%2B%E2%80%99%20App/#connection-url-syntax","title":"Connection URL Syntax","text":"<p>While MariaDB Connector/C++ supports several connection styles, we are going to detail just the JDBC syntax since all connections to SkySQL use a single idiom of hostname, port, user, password, and SSL parameters.</p> <p>The base URL is specified as follows:</p> <p><code>jdbc:mariadb://example.skysql.net:5001/dbname</code></p> <p>If the trailing database name is left off of the URL, the connection will start without selecting a database.</p>"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20from%20%E2%80%98C%2B%2B%E2%80%99%20App/#optional-connection-parameters","title":"Optional Connection Parameters","text":"<p>MariaDB Connector/C++ supports several optional connection parameters. These parameters can be specified using a\u00a0<code>Properties</code>\u00a0object, as we do in our examples, or appended to the URL in standard\u00a0<code>name=value</code>\u00a0query-string encoding.</p> <p>In the following list, we've left out any parameters that aren't pertinent to accessing SkySQL:</p> Parameter Name Description Type Default Aliases autoReconnect Defines whether the connector automatically reconnects after a connection failure. bool false \u2022 OPT_RECONNECT connectTimeout Defines the connect timeout value in milliseconds. When set to\u00a00, there is no connect timeout. int 30000 enabledTlsCipherSuites A list of permitted ciphers or cipher suites to use for TLS. string \u2022 enabledSslCipherSuites \u2022 enabledSSLCipherSuites jdbcCompliantTruncation This mode is enabled by default. This mode configures the connector to add\u00a0STRICT_TRANS_TABLES\u00a0to\u00a0https://mariadb.com/docs/server/ref/mdb/system-variables/sql_mode/https://mariadb.com/docs/server/ref/mdb/system-variables/sql_mode/, which causes ES to handle truncation issues as errors instead of warnings. bool true password Defines the password of the user account to connect with. socketTimeout Defines the network socket timeout (SO_TIMEOUT) in milliseconds. When set to\u00a00, there is no socket timeout. This connection parameter is not intended to set a maximum time for statements. To set a maximum time for statements, please see the\u00a0https://mariadb.com/docs/server/ref/mdb/system-variables/max_statement_time/https://mariadb.com/docs/server/ref/mdb/system-variables/max_statement_time/https://mariadb.com/docs/server/ref/mdb/system-variables/max_statement_time/\u00a0system variable. int 0 \u2022 OPT_READ_TIMEOUT tcpRcvBuf The buffer size for TCP/IP and socket communication.\u00a0tcpSndBuf\u00a0changes the same buffer value, and the biggest value of the two is selected. int 0x4000 \u2022 tcpSndBuf tcpSndBuf The buffer size for TCP/IP and socket communication.\u00a0tcpRcvBuf\u00a0changes the same buffer value, and the biggest value of the two is selected. int 0x4000 \u2022 tcpRcvBuf tlsCert Path to the X509 certificate file. string \u2022 sslCert tlsCRL Path to a PEM file that should contain one or more revoked X509 certificates. string \u2022 tlsCrl \u2022 sslCRL useCompression Compresses network traffic between the client and server. bool false \u2022 CLIENT_COMPRESS user Defines the user name of the user account to connect with. \u2022 userName useServerPrepStmts Defines whether the connector uses server-side prepared statements using the\u00a0https://mariadb.com/docs/skysql-previous-release/ref/mdb/sql-statements/PREPARE/,\u00a0https://mariadb.com/docs/skysql-previous-release/ref/mdb/sql-statements/EXECUTE/, and\u00a0https://mariadb.com/docs/skysql-previous-release/ref/mdb/sql-statements/DROP_PREPARE/\u00a0statements. By default, the connector uses client-side prepared statements. bool false useTls Whether to force TLS. This enables TLS with the default system settings. bool \u2022 useSsl \u2022 useSSL"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20from%20%E2%80%98C%2B%2B%E2%80%99%20App/#connection-methods","title":"Connection Methods","text":"<p>Two categories of methods are available to to establish a connection.</p>"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20from%20%E2%80%98C%2B%2B%E2%80%99%20App/#sqldriverconnect","title":"sql::Driver::connect()","text":"<p>MariaDB Connector/C++ can connect using the non-static\u00a0<code>connect()</code>\u00a0methods in the\u00a0<code>sql::Driver</code>\u00a0class.</p> <p>The non-static\u00a0<code>connect()</code>\u00a0methods in the\u00a0<code>sql::Driver</code>\u00a0class have the following prototypes:</p> <ul> <li><code>Connection*\u00a0connect(const\u00a0SQLString&amp;\u00a0url,\u00a0Properties&amp;\u00a0props);</code></li> <li><code>Connection*\u00a0connect(const\u00a0SQLString&amp;\u00a0host,\u00a0const\u00a0SQLString&amp;\u00a0user,\u00a0const\u00a0SQLString&amp;\u00a0pwd);</code></li> <li><code>Connection*\u00a0connect(const\u00a0Properties&amp;\u00a0props);</code></li> </ul> <p>The non-static\u00a0<code>connect()</code>\u00a0methods in the\u00a0<code>sql::Driver</code>\u00a0class:</p> <ul> <li>Require an instance of the\u00a0<code>sql::Driver</code>\u00a0class to establish a connection.</li> <li>Return\u00a0<code>nullptr</code>\u00a0as the\u00a0<code>Connection*</code>\u00a0value when an error occurs, so applications should check the return value before use.</li> </ul> <p>For example:</p> <pre><code>// Instantiate Driver\nsql::Driver* driver = sql::mariadb::get_driver_instance();\n\n// Configure Connection, including an optional initial database name \"places\":\nsql::SQLString url(\"jdbc:mariadb://example.skysql.net:5009/places\");\n\n// Use a properties map for the other connection options\nsql::Properties properties({\n      {\"user\", \"db_user\"},\n      {\"password\", \"db_user_password\"},\n      {\"autocommit\", false},\n      {\"useTls\", true},\n      {\"tlsCert\", \"classpath:static/skysql_chain.pem\"},\n   });\n\n// Establish Connection\n// Use a smart pointer for extra safety\nstd::unique_ptr&lt;sql::Connection&gt; conn(driver-&gt;connect(url, properties));\n\nif (!conn) {\n   cerr &lt;&lt; \"Invalid database connection\" &lt;&lt; endl;\n   exit (EXIT_FAILURE);\n}\n</code></pre>"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20from%20%E2%80%98C%2B%2B%E2%80%99%20App/#sqldrivermanagergetconnection","title":"sql::DriverManager::getConnection()","text":"<p>MariaDB Connector/C++ can connect using the static\u00a0<code>getConnection()</code>\u00a0methods in the\u00a0<code>sql::DriverManager</code>\u00a0class.</p> <p>The static\u00a0<code>getConnection()</code>\u00a0methods in the\u00a0<code>sql::DriverManager</code>\u00a0class have the following prototypes:</p> <ul> <li><code>static\u00a0Connection*\u00a0getConnection(const\u00a0SQLString&amp;\u00a0url);</code></li> <li><code>static\u00a0Connection*\u00a0getConnection(const\u00a0SQLString&amp;\u00a0url,\u00a0Properties&amp;\u00a0props);</code></li> <li><code>static\u00a0Connection*\u00a0getConnection(const\u00a0SQLString&amp;\u00a0url,\u00a0const\u00a0SQLString&amp;\u00a0user,\u00a0const\u00a0SQLString&amp;\u00a0pwd);</code></li> </ul> <p>The static\u00a0<code>getConnection()</code>\u00a0methods in the\u00a0<code>sql::DriverManager</code>\u00a0class:</p> <ul> <li>Do not require an instance of the\u00a0<code>sql::DriverManager</code>\u00a0class to establish a connection, because they are static.</li> <li>Throw an exception when an error occurs, so applications should use\u00a0<code>try\u00a0{\u00a0..\u00a0}\u00a0catch\u00a0(\u00a0..\u00a0)\u00a0{\u00a0..\u00a0}</code>\u00a0to catch the exception.</li> </ul> <p>For example:</p> <pre><code>try {\n    // Configure Connection, including an optional initial database name \"places\":\n    sql::SQLString url(\"jdbc:mariadb://example.skysql.net:5009/places\");\n\n    // Use a properties map for the other connection options\n    sql::Properties properties({\n          {\"user\", \"db_user\"},\n          {\"password\", \"db_user_password\"},\n          {\"autocommit\", false},\n          {\"useTls\", true},\n          {\"tlsCert\", \"classpath:static/skysql_chain.pem\"},\n       });\n\n    // Establish Connection\n    // Use a smart pointer for extra safety\n    std::unique_ptr&lt;sql::Connection&gt; conn(DriverManager::getConnection(url, properties));\n } catch (...) {\n    cerr &lt;&lt; \"Invalid database connection\" &lt;&lt; endl;\n    exit (EXIT_FAILURE);\n}\n</code></pre>"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20from%20%E2%80%98C%2B%2B%E2%80%99%20App/#code-example-connect","title":"Code Example: Connect","text":"<p>The following code demonstrates how to connect using the\u00a0example database and user account:</p> <pre><code>// Includes\n#include &lt;iostream&gt;\n#include &lt;mariadb/conncpp.hpp&gt;\n\n// Main Process\nint main(int argc, char **argv)\n{\n   try {\n      // Instantiate Driver\n      sql::Driver* driver = sql::mariadb::get_driver_instance();\n\n      // Configure Connection, including initial database name \"test\":\n      sql::SQLString url(\"jdbc:mariadb://example.skysql.net:5009/test\");\n\n      // Use a properties map for the other connection options\n      sql::Properties properties({\n            {\"user\", \"db_user\"},\n            {\"password\", \"db_user_password\"},\n            {\"autocommit\", false},\n            {\"useTls\", true},\n            {\"tlsCert\", \"classpath:static/skysql_chain.pem\"},\n         });\n\n      // Establish Connection\n      // Use a smart pointer for extra safety\n      std::unique_ptr&lt;sql::Connection&gt; conn(driver-&gt;connect(url, properties));\n\n      // Use Connection\n      // ...\n\n      // Close Connection\n      conn-&gt;close();\n   }\n\n   // Catch Exceptions\n   catch (sql::SQLException&amp; e) {\n      std::cerr &lt;&lt; \"Error Connecting to the database: \"\n         &lt;&lt; e.what() &lt;&lt; std::endl;\n\n      // Exit (Failed)\n      return 1;\n   }\n\n   // Exit (Success)\n   return 0;\n}\n</code></pre>"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20from%20%E2%80%98C%E2%80%99%20App/","title":"Connect from \u2018C\u2019 App","text":"<p>MariaDB Connector/C enables C and C++ applications to establish client connections to MariaDB database products over TLS. MariaDB Connector/C is a native connector that is written in C.</p>"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20from%20%E2%80%98C%E2%80%99%20App/#compatibility","title":"Compatibility","text":"<p>MariaDB Connector/C is compatible with:</p> <ul> <li>MariaDB SkySQL DBaaS</li> <li>MariaDB database products (including MariaDB Enterprise Server and MariaDB MaxScale)</li> </ul>"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20from%20%E2%80%98C%E2%80%99%20App/#first-install-mariadb-connectorc","title":"First Install MariaDB Connector/C","text":"<p>MariaDB Connector/C enables C and C++ applications to establish client connections to MariaDB database products over TLS.</p> <p>Additional information on MariaDB Connector/C is available in the\u00a0MariaDB Knowledge Base.</p>"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20from%20%E2%80%98C%E2%80%99%20App/#connection-info","title":"Connection Info","text":"<p>The connection is configured via the information that is initially acquired from the SkySQL Portal pages:</p> Function Option/Argument Where to find it mysql_optionsv() MYSQL_OPT_SSL_CA\u00a0option The path to the\u00a0skysql_chain.pem\u00a0file containing the\u00a0https://mariadb.com/docs/skysql-previous-release/connect/connection-parameters-portal/#Certificate_Authority_Chain \u2022 https://supplychain.mariadb.com/skysql_chain.pem \u2022 https://supplychain.mariadb.com/aws_skysql_chain.pem mysql_real_connect() host\u00a0argument The fully Qualified Domain Name in the\u00a0https://mariadb.com/docs/skysql-previous-release/connect/connection-parameters-portal/ mysql_real_connect() user\u00a0argument The desired username, which might be the default username in the Service Credentials view mysql_real_connect() passwd\u00a0argument The user's password, which might be the default password in the Service Credentials view if it was not yet customized mysql_real_connect() port\u00a0argument The Read-Write Port or Read-Only Port in the\u00a0https://mariadb.com/docs/skysql-previous-release/connect/connection-parameters-portal/"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20from%20%E2%80%98C%E2%80%99%20App/#code-example","title":"Code Example","text":"<p>The following code demonstrates how to use MariaDB Connector/C to connect to MariaDB database products. This example uses the\u00a0example database and user account:</p> <pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;mysql.h&gt;\n\nint main (int argc, char* argv[])\n{\n\n   // Initialize Connection\n   MYSQL *conn;\n   if (!(conn = mysql_init(0)))\n   {\n      fprintf(stderr, \"unable to initialize connection struct\\n\");\n      exit(1);\n   }\n\n   char* cafile = \"/path/to/skysql_chain.pem\";\n\n   // Configure the TLS Certificate Authority. This may vary by hosting provider!\n   mysql_optionsv(conn, MYSQL_OPT_SSL_CA, cafile);\n\n   // Connect to the database\n   if (!mysql_real_connect(\n         conn,                 // Connection\n         \"example.skysql.net\", // Host\n         \"db_user\",            // User account\n         \"db_user_password\",   // User password\n         \"test\",               // Default database\n         3006,                 // Port number\n         NULL,                 // Path to socket file\n         0                     // Additional options\n      ))\n   {\n      // Report the failed-connection error &amp; close the handle\n      fprintf(stderr, \"Error connecting to Server: %s\\n\", mysql_error(conn));\n      mysql_close(conn);\n      exit(1);\n   }\n\n   // Use the Connection\n   // ...\n\n   // Close the Connection\n   mysql_close(conn);\n\n   return 0;\n}\n</code></pre>"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20using%20Connector%20R2DBC/","title":"Connect using Connector/R2DBC","text":"<p>Java developers can use MariaDB Connector/R2DBC to connect to MariaDB database products using the Reactive Relational Database Connectivity (R2DBC) API. R2DBC operations are non-blocking, which makes the R2DBC API more scalable than Java's standard JDBC API. MariaDB Connector/R2DBC is available both with a native R2DBC implementation and the Spring Data R2DBC framework.</p> Connector MariaDB Connector/R2DBC MariaDB Connector/R2DBC Supported Versions 1.0 1.1 Programming Language Java Java Programming Language Version Java 8+ Java 8+ API https://r2dbc.io/spec/0.8.5.RELEASE/spec/html/ https://r2dbc.io/spec/1.0.0.RELEASE/spec/html Supports TLS Yes Yes Supports Connection Pools Yes Yes License Apache 2.0 Apache 2.0"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20using%20Connector%20R2DBC/#resources","title":"Resources","text":"<ul> <li>Release notes</li> </ul>"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20using%20Connector%20R2DBC/#framework-specific-documentation","title":"Framework-Specific Documentation","text":"<p>For details on how to use MariaDB Connector/R2DBC, choose a supported framework:</p> https://mariadb.com/docs/skysql-previous-release/connect/programming-languages/java-r2dbc/native/ The native implementation of R2DBC can be used to connect using MariaDB Connector/R2DBC from within your Java application. https://mariadb.com/docs/skysql-previous-release/connect/programming-languages/java-r2dbc/spring/ Spring Data implementation of R2DBC allows you to connect using MariaDB Connector/R2DBC using the Spring Framework."},{"location":"Connecting%20to%20Sky%20DBs/Connect%20using%20ODBC/","title":"Connect using ODBC","text":""},{"location":"Connecting%20to%20Sky%20DBs/Connect%20using%20ODBC/#overview","title":"Overview","text":"<p>Application developers can use MariaDB Connector/ODBC to establish a data source for client connections with MariaDB database products.</p> <p>The method for configuring the data source varies between operating systems.</p>"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20using%20ODBC/#configuring-a-data-source-on-linux","title":"Configuring a Data Source on Linux","text":"<ol> <li> <p>Configure <code>unixODBC</code> to recognize the driver by creating a file called <code>MariaDB_odbc_driver_template.ini</code>with the relevant driver definition.</p> <p>For example, on CentOS / RHEL / Rocky Linux:</p> <pre><code>[MariaDB ODBC 3.1 Driver]\nDescription = MariaDB Connector/ODBC v.3.1\nDriver      = /usr/lib64/libmaodbc.so\n</code></pre> <p>On Debian / Ubuntu:</p> <pre><code>[MariaDB ODBC 3.1 Driver]\nDescription = MariaDB Connector/ODBC v.3.1\nDriver      = /usr/lib/libmaodbc.so\n</code></pre> </li> <li> <p>Install the driver using the <code>odbcinst</code> command.</p> <p>For example:</p> <pre><code>$ sudo odbcinst -i -d -f MariaDB_odbc_driver_template.ini\nodbcinst: Driver installed. Usage count increased to 1.\nTarget directory is /etc\n</code></pre> </li> <li> <p>Determine the connection parameters for your database.</p> </li> <li> <p>Configure <code>unixODBC</code> to connect to the data source by creating a file called <code>MariaDB_odbc_data_source_template.ini</code>with the relevant data source parameters.</p> <p>For example:</p> <pre><code># Data Source for unixODBC\n[My-Test-Server]\nDescription = Describe your database setup here\nDriver      = MariaDB ODBC 3.1 Driver\nTrace       = Yes\nTraceFile   = /tmp/trace.log\nSERVER      = localhost\nSOCKET      = /var/run/mysqld/mysqld.sock\nUSER        = db_user\nPASSWORD    = db_user_password\nDATABASE    = test\n</code></pre> <pre><code># Data Source for unixODBC\n[My-Test-Server]\nDescription = Describe your database setup here\nDriver      = MariaDB ODBC 3.1 Driver\nTrace       = Yes\nTraceFile   = /tmp/trace.log\nSERVER      = example.skysql.com\nPORT        = 3306\nSSLVERIFY   = 1\nUSER        = db_user\nPASSWORD    = db_user_password\nDATABASE    = test\n</code></pre> <ul> <li>Customize the values of the parameters with the relevant information for your environment.</li> <li>Install the <code>unixODBC</code> data source template file:</li> </ul> <pre><code>$ sudo odbcinst -i -s -h -f MariaDB_odbc_data_source_template.ini\n</code></pre> </li> <li> <p>Test the data source <code>My-Test-Server</code>configured in the <code>MariaDB_odbc_data_source_template.ini</code> file using the <code>isql</code> command:</p> <pre><code>$ isql My-Test-Server\n+-------------------------+\n| Connected!              |\n| sql-statement           |\n| help[tablename]         |\n| quit                    |\n+-------------------------+\nSQL&gt;\n</code></pre> </li> <li> <p>To select your new data source in your application, select the data source with the name that you configured, which is <code>My-Test-Server</code> in the above example.</p> </li> </ol>"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20using%20ODBC/#configuring-a-data-source-on-macos","title":"Configuring a Data Source on macOS","text":"<ol> <li> <p>Confirm that MariaDB Connector/ODBC has been registered with<code>iODBC</code> by confirming that the following options are set in the <code>iODBC</code>configuration file at <code>/Library/ODBC/odbcinst.ini</code>:</p> <pre><code>[ODBC]\nTrace     = no\nTraceFile = /tmp/iodbc_trace.log\n\n[ODBC Drivers]\nMariaDB ODBC 3.1 Unicode Driver = Installed\n\n[MariaDB ODBC 3.1 Unicode Driver]\nDriver      = /Library/MariaDB/MariaDB-Connector-ODBC/libmaodbc.dylib\nDescription = MariaDB Connector/ODBC(Unicode) 3.1 64bit\nThreading   = 0\n</code></pre> </li> <li> <p>Determine the connection parameters for your database.</p> </li> <li> <p>Add a data source for your database to <code>iODBC</code> by adding the following options to the <code>iODBC</code> configuration file at <code>/Library/ODBC/odbc.ini</code>:</p> <pre><code>[ODBC Data Sources]\nMy-Test-Server = MariaDB ODBC 3.1 Unicode Driver\n\n[My-Test-Server]\nDriver   = /Library/MariaDB/MariaDB-Connector-ODBC/libmaodbc.dylib\nSERVER   = 192.0.2.1\nDATABASE = test\nUSER     = db_user\nPASSWORD = db_user_password\n</code></pre> <ul> <li>Substitute the values of the <code>SERVER</code>, <code>SOCKET</code>, <code>DATABASE</code>, <code>PORT</code>, <code>USER</code>, and <code>PASSWORD</code> parameters with the relevant value for your environment.</li> <li>Test the data source using the <code>iodbctest</code>command:</li> </ul> <pre><code>$ iodbctest \"DSN=My-Test-Server\"\n</code></pre> </li> <li> <p>To select your new data source in your application, select the data source with the name that you configured, which is <code>My-Test-Server</code> in the above example.</p> </li> </ol>"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20using%20ODBC/#configuring-a-data-source-on-windows","title":"Configuring a Data Source on Windows","text":"<p>MariaDB Connector/ODBC requires at least Windows 8.</p> <p>Windows 10 was used to prepare these instructions. When using other versions of Windows, these instructions may require adjustment.</p> <ol> <li>In the start menu, search for \"ODBC Data Sources\".</li> <li>In the search results, open the application called \"ODBC Data Sources (32-bit)\" or \"ODBC Data Sources (64-bit)\", depending on whether you need a data source for a 32-bit or 64-bit application.</li> <li>In the ODBC Data Source Administrator, click the \"Add\" button on the right side.</li> <li>In the \"Create New Data Source\" window:<ul> <li>Click on \"MariaDB ODBC 3.1 Driver\" in the list.</li> <li>Click the \"Finish\" button.</li> </ul> </li> <li>In the \"Create a new Data Source to MariaDB\" window:<ul> <li>In the \"Name\" text box, enter a name for the data source.</li> <li>In the \"Description\" test box, enter a description for the data source.</li> <li>Click the \"Next\" button.</li> </ul> </li> <li>In the next window, provide the connection credentials:<ul> <li>In the \"Server Name\" field, provide the IP address or domain name for the Server.</li> <li>In the \"User name\" field, provide the username for the database user account.</li> <li>In the \"Password\" field, provide the password for that user.</li> <li>In the \"Database\" field, provide the the default database to use.</li> <li>Then, click the \"Next\" button.</li> </ul> </li> <li>Continue configuring the data source using the wizard:<ul> <li>The wizard provides a series of windows for configuring various aspects of the connection, such as enabling TLS encryption. Enable settings you want to use.</li> <li>Click the \"Next\" button to move onto the next window in the wizard.</li> <li>Click the \"Finish\" on the last window to exit the wizard and save your data source.</li> </ul> </li> <li>To select your new data source in your application, select the data source with the name that you configured for the \"Name\" field.</li> </ol>"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20using%20ODBC/#failover","title":"Failover","text":"<p>MariaDB Connector/ODBC supports failover in case one or more hosts are not available.</p> <p>The failover feature requires using MariaDB Connector/ODBC 3.1.16 or greater with MariaDB Connector/C 3.3 or greater.</p> <p>MariaDB Connector/ODBC 3.1.16 and greater is statically linked for Windows and macOS with MariaDB Connector/C 3.3.1. MariaDB Connector/ODBC 3.1.16 and greater is dynamically linked for Linux with MariaDB Connector/C.</p> <p>The failover feature is enabled by providing a comma separated list of hosts as a server name.</p> <p>The failover host string is the <code>SERVER</code> string. If the <code>SERVER</code> string does not include a port, the default port will be used.</p> <p>The following syntax is required:</p> <ul> <li>IPv6 addresses must be enclosed within square brackets <code>\"[]\"</code></li> <li>hostname and port must be separated by a colon <code>\":\"</code></li> <li><code>hostname:port</code> pairs must be be separated by a comma <code>\",\"</code></li> <li>If only one <code>hostname:port</code> is specified, the host string must end with a comma</li> <li>If no port is specified, the default port will be used</li> </ul> <p>An example of a failover host string:</p> <p><code>[::1]:3306,192.168.0.1:3307,test.example.com</code></p>"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20using%20ODBC/#connection-parameters","title":"Connection Parameters","text":"Connection Parameter Description Default Value DRIVER \u2022 On Linux, the name of the driver, which is configured in the unixODBC driver template file. \u2022 On macOS, the path to the driver's shared library, which is installed at /Library/MariaDB/MariaDB-Connector-ODBC/libmaodbc.dylib by default. SERVER Host name, IPv4 address, or IPv6 address of the database server. localhost SOCKET \u2022 The path to the socket file. On Linux, MariaDB Enterprise Server uses different default socket files on different Linux distributions. \u2022 On Debian / Ubuntu, the default socket file is /var/run/mysqld/mysqld.sock or /run/mysqld/mysqld.sock. \u2022 On CentOS / RHEL / Rocky Linux, the default socket file is /var/lib/mysql/mysql.sock. /tmp/mysql.sock DATABASE Database name to select upon successful connection. The database must already exist, and the user account must have privileges to select it. PORT TCP port of the database server. 3306 USER The username to use for authentication. PASSWORD User password. FORWARDONLY When enabled, cursors are created as SQL_CURSOR_FORWARD_ONLY, so they can only move forward. Starting in Connector/ODBC 3.2, cursors are SQL_CURSOR_FORWARD_ONLY by default. In previous releases, cursors are created as SQL_CURSOR_STATIC by default. NO_CACHE When enabled, result set streaming is enabled, which enables the application to fetch result sets from the server row-by-row instead of caching the entire result set on the client side. Since the application is not caching the entire result set, the application is less likely to run out of memory when working with large result sets. STREAMRS Alias for the NO_CACHE connection parameter. OPTIONS See about:blank#OPTIONS_Bitmaskabout:blank#OPTIONS_Bitmask. PREPONCLIENT When enabled, the SQLPrepare ODBC API function uses the text protocol and client-side prepared statements (CSPS). ATTR Sets connection attributes that can be queried via the https://www.notion.so../../../../ref/mdb/performance-schema/session_account_connect_attrs/https://www.notion.so../../../../../server/ref/mdb/performance-schema/session_account_connect_attrs/ and https://www.notion.so../../../../ref/mdb/performance-schema/session_connect_attrs/https://www.notion.so../../../../../server/ref/mdb/performance-schema/session_connect_attrs/ tables when https://www.notion.so../../../../ref/mdb/system-variables/performance_schema/https://www.notion.so../../../../../server/ref/mdb/system-variables/performance_schema/ is enabled. Specify attributes in the format ATTR={=[,&lt;attrname2=attrvalue2,...]} What Where to find it DRIVER \u2022 On Linux, the name of the driver, which is configured in the unixODBC driver template file. \u2022 On macOS, the path to the driver's shared library, which is installed at /Library/MariaDB/MariaDB-Connector-ODBC/libmaodbc.dylib by default. SERVER Fully Qualified Domain Name in the https://www.notion.so../../../connection-parameters-portal/ PORT Read-Write Port or Read-Only Port in the https://www.notion.so../../../connection-parameters-portal/ USER Default username in the Service Credentials view, or the username you created PASSWORD Default password in the Service Credentials view, the password you set on the default user, or the password for the user you created SSLVERIFY Set to 1 to connect with SSL FORCETLS Set to 1 to enable TLS FORWARDONLY When enabled, cursors are created as SQL_CURSOR_FORWARD_ONLY, so they can only move forward. Starting in Connector/ODBC 3.2, cursors are SQL_CURSOR_FORWARD_ONLY by default. In previous releases, cursors are created as SQL_CURSOR_STATIC by default. NO_CACHE When enabled, result set streaming is enabled, which enables the application to fetch result sets from the server row-by-row instead of caching the entire result set on the client side. Since the application is not caching the entire result set, the application is less likely to run out of memory when working with large result sets. STREAMRS Alias for the NO_CACHE connection parameter. OPTIONS See about:blank#OPTIONS_Bitmaskabout:blank#OPTIONS_Bitmask. PREPONCLIENT When enabled, the SQLPrepare ODBC API function uses the text protocol and client-side prepared statements (CSPS). ATTR Sets connection attributes that can be queried via the https://www.notion.so../../../../ref/mdb/performance-schema/session_account_connect_attrs/ and https://www.notion.so../../../../ref/mdb/performance-schema/session_connect_attrs/ tables when https://www.notion.so../../../../ref/mdb/system-variables/performance_schema/ is enabled. Specify attributes in the format ATTR={=[,&lt;attrname2=attrvalue2,...]}"},{"location":"Connecting%20to%20Sky%20DBs/Connect%20using%20ODBC/#options-bitmask","title":"<code>OPTIONS</code> Bitmask","text":"<p>The <code>OPTIONS</code> bitmask contains the following bits:</p> Bit Number Bit Value Description 0 1 Unused 1 2 Tells connector to return the number of matched rows instead of number of changed rows 4 16 Same as NO_PROMPT connection parameter 5 32 Forces all cursors to be dynamic 6 64 Forbids the DATABASE_NAME.TABLE_NAME.COLUMN_NAME syntax 11 2048 Enables compression in the protocol 13 8192 Same as the NAMEDPIPE connection parameter 16 65536 Same as the USE_MYCNF connection parameter 20 1048576 Same as the NO_CACHE connection parameter 21 2097152 Same as the FORWARDONLY connection parameter 22 4194304 Same as the AUTO_RECONNECT connection parameter 26 67108864 Enables multi-statement queries"},{"location":"Data%20loading%2C%20Migration/","title":"Data loading, Migration","text":"<p>Install Mariadb-dump</p> <p>Install mariadb-import</p> <p>Import data from external DB</p> <p>Import CSV data</p> <p>Migrating your existing Production DB</p>"},{"location":"Data%20loading%2C%20Migration/Import%20CSV%20data/","title":"Import CSV data","text":"<p>MariaDB SkySQL customers can import data into a SkySQL service using the\u00a0<code>LOAD\u00a0DATA\u00a0LOCAL\u00a0INFILE</code>\u00a0SQL statement:</p> <ul> <li>The\u00a0<code>LOAD\u00a0DATA\u00a0LOCAL\u00a0INFILE</code>\u00a0statement can import data from TSV and CSV files</li> <li>The\u00a0<code>LOAD\u00a0DATA\u00a0LOCAL\u00a0INFILE</code>\u00a0statement can be executed by any client or connector</li> </ul> <p>Note</p> <p>Make sure your schema is already created in the database. If you need to import entire databases or create tables, you should use mariab-import.</p>"},{"location":"Data%20loading%2C%20Migration/Import%20CSV%20data/#enable-local-infiles","title":"Enable Local Infiles","text":"<p>Support for local infiles must be enabled on the client side and on the SkySQL service.</p>"},{"location":"Data%20loading%2C%20Migration/Import%20CSV%20data/#enable-local-infiles-on-the-client-or-connector","title":"Enable Local Infiles on the Client or Connector","text":"<p>To execute the\u00a0<code>LOAD\u00a0DATA\u00a0LOCAL\u00a0INFILE</code>\u00a0statement, most clients and connectors require a specific option to be enabled.</p> <p>If you are using\u00a0<code>mariadb</code>\u00a0client, the\u00a0<code>--local-infile</code>\u00a0option\u00a0must be specified.</p>"},{"location":"Data%20loading%2C%20Migration/Import%20CSV%20data/#enable-local-infiles-in-skysql","title":"Enable Local Infiles in SkySQL","text":"<p>Support for local infiles must be enabled on the SkySQL service.</p> <p>For SkySQL services that use MariaDB Enterprise Server and MariaDB Enterprise ColumnStore, the\u00a0local_infile\u00a0system variable\u00a0must be enabled:</p> <ul> <li>For Replicated Transactions and Single Node Transactions services, the\u00a0local_infile\u00a0system variable\u00a0is\u00a0<code>OFF</code>\u00a0by default</li> </ul> <p>Configuration Manager\u00a0can be used to modify the value of the\u00a0local_infile\u00a0system variable.</p>"},{"location":"Data%20loading%2C%20Migration/Import%20CSV%20data/#import-data","title":"Import Data","text":"<ol> <li>Determine the\u00a0connection parameters\u00a0for your MariaDB SkySQL service.</li> <li>Connect with the\u00a0<code>mariadb</code>\u00a0client and specify the\u00a0-local-infile\u00a0option, which is needed by the next step:</li> </ol> <pre><code>mariadb --host FULLY_QUALIFIED_DOMAIN_NAME --port TCP_PORT \\\n      --user DATABASE_USER --password \\\n      --ssl-verify-server-cert \\\n      --ssl-ca ~/PATH_TO_PEM_FILE \\\n      --default-character-set=utf8 \\\n      --local-infile\n</code></pre> <p>After the command is executed, you will be prompted for a password. Enter the default password for your default user, the password you set for the default user, or the password for the database user you created.</p> <p>For each table that you want to import, execute the\u00a0LOAD\u00a0DATA\u00a0LOCAL\u00a0INFILE\u00a0statement to import the data from the TSV or CSV file into your MariaDB SkySQL database service.</p> <p>For a TSV file:</p> <pre><code>LOAD DATA LOCAL INFILE 'contacts.tsv'\nINTO TABLE accounts.contacts;\n</code></pre> <p>For a CSV file:</p> <pre><code>LOAD DATA LOCAL INFILE 'contacts.csv'\nINTO TABLE accounts.contacts\nFIELDS TERMINATED BY ',';\n</code></pre>"},{"location":"Data%20loading%2C%20Migration/Import%20CSV%20data/#using-a-connector","title":"Using a Connector","text":"<p>If you are using a MariaDB Connector, then you must select the method for the specific connector from the list below.</p> <p>If you are using MariaDB Connector/C, the\u00a0<code>MYSQL_OPT_LOCAL_INFILE</code>\u00a0option can be set with the\u00a0<code>mysql_optionsv()</code>\u00a0function:</p> <pre><code>/* enable local infile */\nunsigned int enable_local_infile = 1;\nmysql_optionsv(mysql, MYSQL_OPT_LOCAL_INFILE, (void *) &amp;enable_local_infile);\n</code></pre> <p>If you are using MariaDB Connector/J, the\u00a0<code>allowLocalInfile</code>\u00a0parameter can be set for the connection:</p> <pre><code>Connection connection = DriverManager.getConnection(\"jdbc:mariadb://FULLY_QUALIFIED_DOMAIN_NAME:TCP_PORT/test?user=DATABASE_USER&amp;password=DATABASE_PASSWORD&amp;allowLocalInfile=true\");\n</code></pre> <p>If you are using MariaDB Connector/Node.js, the\u00a0<code>permitLocalInfile</code>\u00a0parameter can be set for the connection:</p> <pre><code>mariadb.createConnection({\n   host: 'FULLY_QUALIFIED_DOMAIN_NAME',\n   port: 'TCP_PORT',\n   user:'DATABASE_USER',\n   password: 'DATABASE_PASSWORD',\n   permitLocalInfile: 'true'\n });\n</code></pre> <p>If you are using MariaDB Connector/Python, the\u00a0<code>local_infile</code>\u00a0parameter can be set for the connection:</p> <pre><code>conn = mariadb.connect(\n   user=\"DATABASE_USER\",\n   password=\"DATABASE_PASSWORD\",\n   host=\"FULLY_QUALIFIED_DOMAIN_NAME\",\n   port=TCP_PORT,\n   local_infile=true)\n</code></pre>"},{"location":"Data%20loading%2C%20Migration/Import%20data%20from%20external%20DB/","title":"Import data from external DB","text":""},{"location":"Data%20loading%2C%20Migration/Import%20data%20from%20external%20DB/#options-to-importload-data","title":"Options to import/load data","text":"<p>Data can be loaded to SkySQL services with the assistance of SkySQL Support or by using self-service tools. When importing large data sets, we recommend working with SkySQL Support.</p> <p>Instructions are provided for the following data import methods:</p> Data Import Method Use Case https://mariadb.com/docs/skysql-dbaas/data-operations/data-import/nr-support-assisted/ Coordinate data import with SkySQL Support https://mariadb.com/docs/skysql-dbaas/data-operations/data-import/nr-load-data-local-infile/ Import TSV (tab-delimited) or CSV (comma-delimited) file data using the\u00a0LOAD\u00a0DATA\u00a0LOCAL\u00a0INFILE\u00a0statement with your database client https://mariadb.com/docs/skysql-dbaas/data-operations/data-import/nr-mariadb-import/ Import TSV (tab-delimited) or CSV (comma-delimited) file data using the\u00a0mariadb-import\u00a0utility"},{"location":"Data%20loading%2C%20Migration/Import%20data%20from%20external%20DB/#loading-using-mariadb-dump-output","title":"Loading using mariadb-dump output","text":"<p>To export data from a MySQL/MariaDB database and import it into MariaDB SkySQL, you can follow these steps:</p> <ol> <li> <p>Start by using the <code>mysqldump</code> command to export the data from the source database. This command allows you to create a backup of your database in a SQL file. For example, you can use the following command:</p> <pre><code>mysqldump -u [username] -p [database_name] &gt; dump.sql\n</code></pre> <p>In this command, replace <code>[username]</code> with your MySQL/MariaDB username and <code>[database_name]</code> with the name of the database you want to export. The <code>&gt;</code> symbol redirects the output to a file named <code>dump.sql</code>.</p> </li> <li> <p>An optional step - Once you have exported the data, you need to transfer the <code>dump.sql</code> file to the destination server where you can efficiently connect to your MariaDB SkySQL database. This is typically the same cloud provider region where your Sky DB is running. </p> </li> <li>After transferring the file, connect to the MariaDB SkySQL server using the command-line client or a GUI tool. This will allow you to interact with the server and perform administrative tasks.</li> <li>If you haven't already created a database in the MariaDB SkySQL server, you can do so using the <code>CREATE DATABASE</code> statement. This step is necessary if you want to import the data into a new database. If you already have a database in which you want to import the data, you can skip this step.</li> <li> <p>Finally, import the data from the <code>dump.sql</code> file into the destination database using the <code>mariadb or mysql</code> command. This command reads the SQL statements in the file and executes them in the specified database. Here's an example command:</p> <pre><code>## mariadb -u [username] -p [database_name] &lt; dump.sql\n\nmariadb --host dbpwp27784332.orgtd5j0.db1.skysql.mariadb.com --port 3306 --user dbpwp27784332 -p [database_name] &lt; dump.sql\n</code></pre> <p>Replace <code>[hostname], username]</code> with your MariaDB SkySQL username and <code>[database_name]</code> with the name of the destination database. The <code>&lt;</code> symbol is used to redirect the input from the file <code>dump.sql</code>.</p> </li> </ol> <p>By following these steps, you will be able to export data from your MySQL/MariaDB database and import it into MariaDB SkySQL, ensuring a smooth transition of your data.</p>  \ud83d\udca1 Note that mariadb-dump uses a single thread to create a logical backup (SQL) of your database. While this approach can work well on a loaded production DB there are better/faster approaches to dumping and loading data in parallel. You can use the mysqlpump or the mariadb-backup (or mysqlbackup) command to parallelize the export of larger DBs.    \ud83d\udca1 TODO - describe how users can use the SkySQL backup service to do a fast backup and restore of a compatible external database."},{"location":"Data%20loading%2C%20Migration/Import%20data%20from%20external%20DB/#mariadb-dump-options","title":"Mariadb-dump options","text":"<ul> <li>mariadb-dump Options for 23.08 ES</li> <li>mariadb-dump Options for 23.07 ES</li> <li>mariadb-dump Options for 10.6 ES</li> <li>mariadb-dump Options for 10.5 ES</li> <li>mariadb-dump Options for 10.4 ES</li> </ul>"},{"location":"Data%20loading%2C%20Migration/Install%20Mariadb-dump/","title":"Install Mariadb-dump","text":"<p>MariaDB SkySQL customers can manually create a backup of a SkySQL service using the\u00a0<code>mariadb-dump</code>\u00a0utility:</p> <ul> <li>The\u00a0<code>mariadb-dump</code>\u00a0utility provides a command-line interface (CLI)</li> <li>The\u00a0<code>mariadb-dump</code>\u00a0utility is available for Linux and Windows</li> <li>The\u00a0<code>mariadb-dump</code>\u00a0utility supports\u00a0many command-line options</li> <li>Egress charges may apply for customer-initiated backups</li> </ul> <p>For details about restoring a backup created with the\u00a0<code>mariadb-dump</code>\u00a0utility, see \"Restore a Manual Backup\".</p>"},{"location":"Data%20loading%2C%20Migration/Install%20Mariadb-dump/#installation","title":"Installation","text":"<p>Installation of MariaDB Dump varies by operating system.</p>"},{"location":"Data%20loading%2C%20Migration/Install%20Mariadb-dump/#centos-rhel","title":"CentOS / RHEL","text":"<ol> <li> <p>Configure YUM package repositories:</p> <p>`$ sudo yum install wget</p> <p>$ wget https://downloads.mariadb.com/MariaDB/mariadb_repo_setup</p> <p>$ echo \"935944a2ab2b2a48a47f68711b43ad2d698c97f1c3a7d074b34058060c2ad21b mariadb_repo_setup\" \\    | sha256sum -c -</p> <p>$ chmod +x mariadb_repo_setup</p> <p>$ sudo ./mariadb_repo_setup \\   --mariadb-server-version=\"mariadb-10.6\"`</p> </li> <li> <p>Install MariaDB Dump and package dependencies:</p> <p><code>$ sudo yum install MariaDB-client</code></p> </li> </ol>"},{"location":"Data%20loading%2C%20Migration/Install%20Mariadb-dump/#debian-ubuntu","title":"Debian / Ubuntu","text":"<ol> <li> <p>Configure APT package repositories:</p> <p>`$ sudo apt install wget</p> <p>$ wget https://downloads.mariadb.com/MariaDB/mariadb_repo_setup</p> <p>$ echo \"935944a2ab2b2a48a47f68711b43ad2d698c97f1c3a7d074b34058060c2ad21b mariadb_repo_setup\" \\    | sha256sum -c -</p> <p>$ chmod +x mariadb_repo_setup</p> <p>$ sudo ./mariadb_repo_setup \\   --mariadb-server-version=\"mariadb-10.6\"$ sudo apt update`</p> </li> <li> <p>Install MariaDB Dump and package dependencies:</p> <p><code>$ sudo apt install mariadb-client</code></p> </li> </ol>"},{"location":"Data%20loading%2C%20Migration/Install%20Mariadb-dump/#sles","title":"SLES","text":"<ol> <li> <p>Configure ZYpp package repositories:</p> <p>`$ sudo zypper install wget</p> <p>$ wget https://downloads.mariadb.com/MariaDB/mariadb_repo_setup</p> <p>$ echo \"935944a2ab2b2a48a47f68711b43ad2d698c97f1c3a7d074b34058060c2ad21b mariadb_repo_setup\" \\    | sha256sum -c -</p> <p>$ chmod +x mariadb_repo_setup</p> <p>$ sudo ./mariadb_repo_setup \\   --mariadb-server-version=\"mariadb-10.6\"`</p> </li> <li> <p>Install MariaDB Dump and package dependencies:</p> <p><code>$ sudo zypper install MariaDB-client</code></p> </li> </ol>"},{"location":"Data%20loading%2C%20Migration/Install%20Mariadb-dump/#windows","title":"Windows","text":"<ol> <li>Access\u00a0MariaDB Downloads\u00a0for MariaDB Community Server.</li> <li>In the \"Version\" dropdown, select the version you want to download.</li> <li>In the \"OS\" dropdown, select \"MS Windows (64-bit)\".</li> <li>Click the \"Download\" button to download the MSI package.</li> <li>When the MSI package finishes downloading, run it.</li> <li>On the first screen, click \"Next\" to start the Setup Wizard.</li> <li>On the second screen, click the license agreement checkbox, and then click \"Next\".</li> <li>On the third screen, select the components you want to install. If you only want the standard MariaDB Client tools:<ul> <li>Deselect \"Database instance\".</li> <li>Deselect \"Backup utilities\".</li> <li>Deselect \"Development Components\".</li> <li>Deselect \"Third party tools\".</li> <li>When only \"Client programs\" is selected, click \"Next\".</li> </ul> </li> <li>On the next screen, click \"Install\".</li> <li>When the installation process completes, click \"Finish\".</li> </ol>"},{"location":"Data%20loading%2C%20Migration/Install%20Mariadb-dump/#create-a-logical-dump-sql-file","title":"Create a logical \u201cDump\u201d SQL file","text":"<p>The procedure to create a backup depends on the operating system.</p> <p>If you plan to restore the backup to a SkySQL service, the\u00a0<code>mysql</code>\u00a0database should be excluded from the backup by specifying\u00a0<code>[--ignore-database=mysql](https://mariadb.com/docs/skysql-dbaas/ref/mdb/cli/mariadb-dump/ignore-database/)</code>, because SkySQL user accounts do not have sufficient privileges to restore that database.</p>"},{"location":"Data%20loading%2C%20Migration/Install%20Mariadb-dump/#linux","title":"Linux","text":"<ol> <li>Determine the\u00a0connection parameters\u00a0for your MariaDB SkySQL service.</li> <li>Use your connection parameters in the following command line:</li> </ol> <pre><code>mariadb-dump --host FULLY_QUALIFIED_DOMAIN_NAME --port TCP_PORT \\\n      --user DATABASE_USER --password \\\n      --ssl-verify-server-cert \\\n      --ssl-ca ~/PATH_TO_PEM_FILE \\\n      --all-databases \\\n      --ignore-database=mysql \\\n      --single-transaction \\\n      --events \\\n      --routines \\\n      --default-character-set=utf8mb4 \\\n      &gt; skysql_dump.sql\n</code></pre> <ul> <li>Replace\u00a0<code>FULLY_QUALIFIED_DOMAIN_NAME</code>\u00a0with the Fully Qualified Domain Name of your service.</li> <li>Replace\u00a0<code>TCP_PORT</code>\u00a0with the read-write or read-only port of your service.</li> <li>Replace\u00a0<code>DATABASE_USER</code>\u00a0with the default username for your service, or the username you created.</li> <li>Replace\u00a0<code>~/PATH_TO_PEM_FILE</code>\u00a0with the path to the certificate authority chain (.pem) file.</li> </ul> <p>After the command is executed, you will be prompted for a password. Enter the default password for your default user, the password you set for the default user, or the password for the database user you created.</p>"},{"location":"Data%20loading%2C%20Migration/Install%20Mariadb-dump/#windows_1","title":"Windows","text":"<ol> <li> <p>Fix your executable search path.</p> <p>On Windows, MariaDB Dump is not typically found in the executable search path by default. You must find its installation path, and add that path to the executable search path:</p> <p><code>$ SET \"PATH=C:\\Program Files\\MariaDB 10.6\\bin;%PATH%\"</code></p> </li> <li> <p>Determine the\u00a0connection parameters\u00a0for your MariaDB SkySQL service.</p> </li> <li>Use your connection parameters in the following command line:</li> </ol> <pre><code>mariadb-dump --host FULLY_QUALIFIED_DOMAIN_NAME --port TCP_PORT \\\n      --user DATABASE_USER --password \\\n      --ssl-verify-server-cert \\\n      --ssl-ca ~/PATH_TO_PEM_FILE \\\n      --all-databases \\\n      --ignore-database=mysql \\\n      --single-transaction \\\n      --events \\\n      --routines \\\n      --default-character-set=utf8mb4 \\\n      &gt; skysql_dump.sql\n</code></pre> <ul> <li>Replace\u00a0<code>FULLY_QUALIFIED_DOMAIN_NAME</code>\u00a0with the Fully Qualified Domain Name of your service.</li> <li>Replace\u00a0<code>TCP_PORT</code>\u00a0with the read-write or read-only port of your service.</li> <li>Replace\u00a0<code>DATABASE_USER</code>\u00a0with the default username for your service, or the username you created.</li> <li>Replace\u00a0<code>PATH_TO_PEM_FILE</code>\u00a0with the path to the certificate authority chain (.pem) file.</li> </ul> <p>After the command is executed, you will be prompted for a password. Enter the default password for your default user, the password you set for the default user, or the password for the database user you created.</p>"},{"location":"Data%20loading%2C%20Migration/Install%20Mariadb-dump/#mariadb-dump-103-and-older","title":"MariaDB Dump 10.3 and Older","text":"<p>The instructions provided above are written for MariaDB Dump 10.4 and later, which uses the binary filename of\u00a0<code>mariadb-dump</code>.</p> <p>For MariaDB Dump 10.3 and older, the binary filename was\u00a0<code>mysqldump</code>. The instructions can be adapted for MariaDB Dump 10.3 and older by executing\u00a0<code>mysqldump</code>\u00a0rather than\u00a0<code>mariadb-dump</code>.</p>"},{"location":"Data%20loading%2C%20Migration/Install%20Mariadb-dump/#temporal-tables","title":"Temporal Tables","text":"<p>For system-versioned tables and transaction-precise tables, MariaDB Dump only backs up current row versions. It does not back up historical row versions.</p>"},{"location":"Data%20loading%2C%20Migration/Install%20mariadb-import/","title":"Install mariadb-import","text":"<p>MariaDB SkySQL customers can import data into a SkySQL service using the\u00a0<code>mariadb-import</code>\u00a0utility:</p> <ul> <li>The\u00a0<code>mariadb-import</code>\u00a0utility provides a command-line interface (CLI)</li> <li>The\u00a0<code>mariadb-import</code>\u00a0utility can import data from TSV and CSV files</li> <li>The\u00a0<code>mariadb-import</code>\u00a0utility is available for Linux and Windows</li> <li>The\u00a0<code>mariadb-import</code>\u00a0utility supports\u00a0many command-line options</li> </ul>"},{"location":"Data%20loading%2C%20Migration/Install%20mariadb-import/#installation","title":"Installation","text":"<p>Installation of MariaDB Import varies by operating system.</p>"},{"location":"Data%20loading%2C%20Migration/Install%20mariadb-import/#centos-rhel","title":"CentOS / RHEL","text":"<ol> <li> <p>Configure YUM package repositories:</p> <p>`$ sudo yum install wget</p> <p>$ wget https://downloads.mariadb.com/MariaDB/mariadb_repo_setup</p> <p>$ echo \"935944a2ab2b2a48a47f68711b43ad2d698c97f1c3a7d074b34058060c2ad21b mariadb_repo_setup\" \\    | sha256sum -c -</p> <p>$ chmod +x mariadb_repo_setup</p> <p>$ sudo ./mariadb_repo_setup \\   --mariadb-server-version=\"mariadb-10.6\"`</p> </li> <li> <p>Install MariaDB Import and package dependencies:</p> <p><code>$ sudo yum install MariaDB-client</code></p> </li> </ol>"},{"location":"Data%20loading%2C%20Migration/Install%20mariadb-import/#debian-ubuntu","title":"Debian / Ubuntu","text":"<ol> <li> <p>Configure APT package repositories:</p> <p>`$ sudo apt install wget</p> <p>$ wget https://downloads.mariadb.com/MariaDB/mariadb_repo_setup</p> <p>$ echo \"935944a2ab2b2a48a47f68711b43ad2d698c97f1c3a7d074b34058060c2ad21b mariadb_repo_setup\" \\    | sha256sum -c -</p> <p>$ chmod +x mariadb_repo_setup</p> <p>$ sudo ./mariadb_repo_setup \\   --mariadb-server-version=\"mariadb-10.6\"$ sudo apt update`</p> </li> <li> <p>Install MariaDB Import and package dependencies:</p> <p><code>$ sudo apt install mariadb-client</code></p> </li> </ol>"},{"location":"Data%20loading%2C%20Migration/Install%20mariadb-import/#sles","title":"SLES","text":"<ol> <li> <p>Configure ZYpp package repositories:</p> <p>`$ sudo zypper install wget</p> <p>$ wget https://downloads.mariadb.com/MariaDB/mariadb_repo_setup</p> <p>$ echo \"935944a2ab2b2a48a47f68711b43ad2d698c97f1c3a7d074b34058060c2ad21b mariadb_repo_setup\" \\    | sha256sum -c -</p> <p>$ chmod +x mariadb_repo_setup</p> <p>$ sudo ./mariadb_repo_setup \\   --mariadb-server-version=\"mariadb-10.6\"`</p> </li> <li> <p>Install MariaDB Import and package dependencies:</p> <p><code>$ sudo zypper install MariaDB-client</code></p> </li> </ol>"},{"location":"Data%20loading%2C%20Migration/Install%20mariadb-import/#windows","title":"Windows","text":"<ol> <li>Access\u00a0MariaDB Downloads\u00a0for MariaDB Community Server.</li> <li>In the \"Version\" dropdown, select the version you want to download.</li> <li>In the \"OS\" dropdown, select \"MS Windows (64-bit)\".</li> <li>Click the \"Download\" button to download the MSI package.</li> <li>When the MSI package finishes downloading, run it.</li> <li>On the first screen, click \"Next\" to start the Setup Wizard.</li> <li>On the second screen, click the license agreement checkbox, and then click \"Next\".</li> <li>On the third screen, select the components you want to install. If you only want the standard MariaDB Client tools:<ul> <li>Deselect \"Database instance\".</li> <li>Deselect \"Backup utilities\".</li> <li>Deselect \"Development Components\".</li> <li>Deselect \"Third party tools\".</li> <li>When only \"Client programs\" is selected, click \"Next\".</li> </ul> </li> <li>On the next screen, click \"Install\".</li> <li>When the installation process completes, click \"Finish\".</li> </ol>"},{"location":"Data%20loading%2C%20Migration/Install%20mariadb-import/#import-data","title":"Import Data","text":"<p>The procedure to import data depends on the operating system.</p>"},{"location":"Data%20loading%2C%20Migration/Install%20mariadb-import/#linux","title":"Linux","text":"<ol> <li>Determine the\u00a0connection parameters\u00a0for your MariaDB SkySQL service.</li> <li> <p>Use MariaDB Import with the connection information to import the data from the TSV or CSV file into your MariaDB SkySQL database service:</p> <pre><code>mariadb-import --host FULLY_QUALIFIED_DOMAIN_NAME --port TCP_PORT \\\n      --user DATABASE_USER --password \\\n      --ssl-verify-server-cert \\\n      --ssl-ca ~/PATH_TO_PEM_FILE \\\n      --local \\\n      --ignore-lines=1 \\\n      accounts contacts.tsv\n</code></pre> <ul> <li>Replace\u00a0<code>FULLY_QUALIFIED_DOMAIN_NAME</code>\u00a0with the Fully Qualified Domain Name of your service</li> <li>Replace\u00a0<code>TCP_PORT</code>\u00a0with the read-write or read-only port of your service</li> <li>Replace\u00a0<code>DATABASE_USER</code>\u00a0with the default username for your service, or the username you created</li> <li>Replace\u00a0<code>~/PATH_TO_PEM_FILE</code>\u00a0with the path to the certificate authority chain (.pem) file</li> <li>If your file is a CSV file, rather than a TSV file, specify\u00a0<code>-fields-terminated-by=,</code></li> <li>Specify the database name as the first argument (from above,\u00a0<code>accounts</code>)</li> <li>The table name is extracted from the TSV or CSV file's basename (from above,\u00a0<code>contacts</code>)</li> <li>After the command is executed, you will be prompted for a password. Enter the default password for your default user, the password you set for the default user, or the password for the database user you created.</li> </ul> </li> </ol>"},{"location":"Data%20loading%2C%20Migration/Install%20mariadb-import/#windows_1","title":"Windows","text":"<ol> <li> <p>Fix your executable search path.</p> <p>On Windows, MariaDB Import is not typically found in the executable search path by default. You must find its installation path, and add that path to the executable search path:</p> <p><code>$ SET \"PATH=C:\\Program Files\\MariaDB 10.6\\bin;%PATH%\"</code></p> </li> <li> <p>Determine the\u00a0connection parameters\u00a0for your MariaDB SkySQL service.</p> </li> <li> <p>Use MariaDB Import with the connection information to import the data from the TSV or CSV file into your MariaDB SkySQL database service:</p> <pre><code>mariadb-import --host FULLY_QUALIFIED_DOMAIN_NAME --port TCP_PORT \\\n      --user DATABASE_USER --password \\\n      --ssl-verify-server-cert \\\n      --ssl-ca ~/PATH_TO_PEM_FILE \\\n      --local \\\n      --ignore-lines=1 \\\n      accounts contacts.tsv\n</code></pre> <ul> <li>Replace\u00a0<code>FULLY_QUALIFIED_DOMAIN_NAME</code>\u00a0with the Fully Qualified Domain Name of your service</li> <li>Replace\u00a0<code>TCP_PORT</code>\u00a0with the read-write or read-only port of your service</li> <li>Replace\u00a0<code>DATABASE_USER</code>\u00a0with the default username for your service, or the username you created</li> <li>Replace\u00a0<code>~/PATH_TO_PEM_FILE</code>\u00a0with the path to the certificate authority chain (.pem) file</li> <li>If your file is a CSV file, rather than a TSV file, specify\u00a0<code>-fields-terminated-by=,</code></li> <li>Specify the database name as the first argument (from above,\u00a0<code>accounts</code>)</li> <li>The table name is extracted from the TSV or CSV file's basename (from above,\u00a0<code>contacts</code>)</li> <li>After the command is executed, you will be prompted for a password. Enter the default password for your default user, the password you set for the default user, or the password for the database user you created.</li> </ul> </li> </ol>"},{"location":"Data%20loading%2C%20Migration/Install%20mariadb-import/#mariadb-import-103-and-older","title":"MariaDB Import 10.3 and Older","text":"<p>The instructions provided above are written for MariaDB Import 10.4 and later, which uses the binary filename of\u00a0<code>mariadb-import</code>.</p> <p>For MariaDB Import 10.3 and older, the binary filename was\u00a0<code>mysqlimport</code>. The instructions can be adapted for MariaDB Import 10.3 and older by executing\u00a0<code>mysqlimport</code>\u00a0rather than\u00a0<code>mariadb-import</code>.</p>"},{"location":"Data%20loading%2C%20Migration/Migrating%20your%20existing%20Production%20DB/","title":"Migrating your existing Production DB","text":"<p>Databases can be migrated to MariaDB SkySQL from many different database platforms, including Oracle, MySQL, PostgreSQL, Microsoft SQL Server, IBM DB2, and more</p>"},{"location":"Data%20loading%2C%20Migration/Migrating%20your%20existing%20Production%20DB/#lift-and-shift-from-a-compatible-version-of-mysqlmariadb-to-skysql","title":"Lift-and-shift from a compatible version of MySQL/MariaDB to SkySQL","text":"<p>To perform a lift-and-shift migration to SkySQL, use the following process:</p> <ol> <li>Identify requirements for your MariaDB SkySQL implementation including:<ul> <li>Topology</li> <li>Instance size</li> <li>Storage requirements</li> <li>Desired server version</li> </ul> </li> <li>Deploy the desired configuration\u00a0on MariaDB SkySQL</li> </ol>  \ud83d\udca1 When migrating from a production DB a common practice is to setup live replication to the SkySQL database.  Here is the sequence of steps you should follow for a live cutover:   <ol> <li>On the source database (MySQL or MariaDB) obtain the Binlog file name and its current position. Essentially, we want to track all DB changes from a certain point in time. See \u2018Replicating data\u2019 page for the command. </li> <li>Next, take a dump of your source database using mysqldump or mariadb-dump </li> <li>Import into your target SkySQL DB using this logical \u201cdump\u201d (SQL)</li> <li>Finally, turn ON the replication using the SkySQL \u2018start_replication\u2019 procedure as noted below. </li> </ol>"},{"location":"Data%20loading%2C%20Migration/Migrating%20your%20existing%20Production%20DB/#assisted-migration-to-skysql-mariadb","title":"Assisted Migration to SkySQL MariaDB","text":"<p>SkySQL customers can receive assistance from SkySQL Inc when migrating a database to SkySQL:</p> <ul> <li>SkySQL Inc's\u00a0migration process\u00a0divides a migration into multiple well-defined stages with distinct validation criteria at each stage</li> <li>SkyDBAs and SkySQL\u00a0support can assist with many migration steps</li> </ul> <p>For assistance with a migration:</p> <ul> <li>Existing customers can submit a\u00a0support case\u00a0to request assistance with a migration</li> <li>New customers can\u00a0contact us\u00a0to begin the migration planning process</li> </ul>"},{"location":"Data%20loading%2C%20Migration/Migrating%20your%20existing%20Production%20DB/#migration-process","title":"Migration Process","text":"<p>We use a multi-step process to assist customers with migrations:</p> <ol> <li>Assessment\u00a0of application requirements, inventory, and identified challenges</li> <li>Schema Migration\u00a0including tables, constraints, indexes, and views</li> <li>Application Code Migration\u00a0by porting and testing SQL and application code</li> <li>Data Migration and Replication\u00a0with import of data, with conversion to the new schema, and ongoing inbound replication of new data</li> <li>Quality Assurance\u00a0to assess data validity, data integrity, performance, accuracy of query results, stored code, and running code such as client applications, APIs, and batch jobs</li> <li>Cutover\u00a0including final database preparation, fallback planning, switchover, and decommissioning of old databases</li> </ol> <p>For additional information, see \"Whitepaper: Migrate to MariaDB from Oracle\".</p>"},{"location":"Data%20loading%2C%20Migration/Migrating%20your%20existing%20Production%20DB/#migrate-to-mariadb-skysql-using-aws-dms","title":"Migrate to MariaDB SkySQL using AWS DMS","text":"<p>This blog article details how to Migrate RDS MySQL to SkySQL MariaDB Using AWS Data Migration Service</p>"},{"location":"Data%20loading%2C%20Migration/Migrating%20your%20existing%20Production%20DB/#replicating-data-from-an-external-db","title":"Replicating data from an External DB","text":"<p>Click here for a detailed walk through of the steps involved. </p> <p>For assistance with a migration:</p> <ul> <li>Existing customers can submit a\u00a0support case\u00a0to request assistance with a migration</li> <li>New customers can\u00a0contact us\u00a0to begin the migration planning process</li> </ul>"},{"location":"Data%20loading%2C%20Migration/Replicating%20data%20from%20external%20DB/","title":"Replicating data from external DB","text":""},{"location":"Data%20loading%2C%20Migration/Replicating%20data%20from%20external%20DB/#from-a-mysql-database","title":"From a MySQL Database","text":"<p>MariaDB SkySQL customers can configure inbound replication from MySQL 5.7 to a compatible MariaDB running in SkySQL.</p> <p>For additional information about the stored procedures used to configure replication with Replicated Transactions services, see \"SkySQL Replication Helper Procedures for Replicated Transactions\".</p>  \ud83d\udca1 To configure inbound replication from an external primary server using MySQL 5.7 to your Replicated Transactions service in SkySQL, the following requirements must be met  GTID (Global Transaction ID) is not supported. Inbound replication must be configured using the binary log file and position."},{"location":"Data%20loading%2C%20Migration/Replicating%20data%20from%20external%20DB/#1-obtain-binary-log-file-and-position","title":"1) Obtain Binary Log File and Position","text":"<p>On the external primary server, obtain the binary log file and position from which to start replication.</p> <p>When you want to start replication from the most recent transaction, the current binary log file position can be obtained by executing the\u00a0<code>SHOW\u00a0MASTER\u00a0STATUS</code>\u00a0statement:</p> <p>**<code>SHOW** MASTER STATUS**;**</code></p> <p><code>+------------------+----------+--------------+------------------+-------------------+ | File             | Position | Binlog_Do_DB | Binlog_Ignore_DB | Executed_Gtid_Set | +------------------+----------+--------------+------------------+-------------------+ | mysql-bin.000001 |      154 |              |                  |                   | +------------------+----------+--------------+------------------+-------------------+</code></p>"},{"location":"Data%20loading%2C%20Migration/Replicating%20data%20from%20external%20DB/#2-configure-binary-log-file-and-position","title":"2) Configure Binary Log File and Position","text":"<p>On the SkySQL service, configure the binary log file and position from which to start replication.</p> <p>The binary log file and position can be configured using the\u00a0<code>[sky.change_external_primary()</code>\u00a0stored procedure](https://mariadb.com/docs/skysql-previous-release/ref/replication-procedures/replicated-transactions/#change_external_primary):</p> <pre><code>CALL sky.change_external_primary('mysql1.example.com', 3306, 'mysql-bin.000001', 154, false);\n</code></pre>"},{"location":"Data%20loading%2C%20Migration/Replicating%20data%20from%20external%20DB/#_1","title":"Replicating data from external DB","text":""},{"location":"Data%20loading%2C%20Migration/Replicating%20data%20from%20external%20DB/#this-procedure-will-return-the-grant-command-you-must-run-on-the-source-db","title":"This procedure will return the GRANT COMMAND you must run on the source DB","text":""},{"location":"Data%20loading%2C%20Migration/Replicating%20data%20from%20external%20DB/#_2","title":"Replicating data from external DB","text":""},{"location":"Data%20loading%2C%20Migration/Replicating%20data%20from%20external%20DB/#run_this_grant_on_your_external_primary","title":"Run_this_grant_on_your_external_primary","text":"<p>GRANT REPLICATION SLAVE ON . TO 'skysql_replication'@'%' IDENTIFIED BY '';"},{"location":"Data%20loading%2C%20Migration/Replicating%20data%20from%20external%20DB/#3-grant-replication-privileges","title":"3) Grant Replication Privileges","text":"<p>On the external primary server, execute the\u00a0<code>[GRANT](https://mariadb.com/docs/skysql-previous-release/ref/mdb/sql-statements/GRANT/)</code>\u00a0statement returned by the last step:</p> <pre><code>GRANT REPLICATION SLAVE ON *.* TO 'skysql_replication'@'%' IDENTIFIED BY '&lt;password_hash&gt;';\n</code></pre>"},{"location":"Data%20loading%2C%20Migration/Replicating%20data%20from%20external%20DB/#4-start-replication","title":"4) Start Replication","text":"<p>On the SkySQL service, start replication.</p> <p>Replication can be started using the\u00a0<code>[sky.start_replication()</code>\u00a0stored procedure](https://mariadb.com/docs/skysql-previous-release/ref/replication-procedures/replicated-transactions/#start_replication):</p> <pre><code>CALL sky.start_replication();\n+----------------------------------------+\n| Message                                |\n+----------------------------------------+\n| External replication running normally. |\n+----------------------------------------+\n</code></pre>"},{"location":"Data%20loading%2C%20Migration/Replicating%20data%20from%20external%20DB/#5-check-replication-status","title":"5) Check Replication Status","text":"<p>On the SkySQL service, check replication status.</p> <p>Replication status can be checked using the\u00a0<code>[sky.replication_status()</code>\u00a0stored procedure](https://mariadb.com/docs/skysql-previous-release/ref/replication-procedures/replicated-transactions/#replication_status):</p> <pre><code>**CALL** sky**.**replication_status**()\\G**\n</code></pre> <pre><code>*************************** 1. row ***************************\n                Slave_IO_State: Waiting for master to send event\n                   Master_Host: mariadb1.example.com\n                   Master_User: skysql_replication\n                   Master_Port: 3306\n                 Connect_Retry: 60\n               Master_Log_File: mysql-bin.000001\n           Read_Master_Log_Pos: 462\n                Relay_Log_File: mariadb-relay-bin.000002\n                 Relay_Log_Pos: 665\n         Relay_Master_Log_File: mysql-bin.000001\n              Slave_IO_Running: Yes\n             Slave_SQL_Running: Yes\n               Replicate_Do_DB:\n           Replicate_Ignore_DB:\n            Replicate_Do_Table:\n        Replicate_Ignore_Table:\n       Replicate_Wild_Do_Table:\n   Replicate_Wild_Ignore_Table:\n                    Last_Errno: 0\n                    Last_Error:\n                  Skip_Counter: 0\n           Exec_Master_Log_Pos: 462\n               Relay_Log_Space: 985\n               Until_Condition: None\n                Until_Log_File:\n                 Until_Log_Pos: 0\n            Master_SSL_Allowed: No\n            Master_SSL_CA_File:\n            Master_SSL_CA_Path:\n               Master_SSL_Cert:\n             Master_SSL_Cipher:\n                Master_SSL_Key:\n         Seconds_Behind_Master: 0\n Master_SSL_Verify_Server_Cert: No\n                 Last_IO_Errno: 0\n                 Last_IO_Error:\n                Last_SQL_Errno: 0\n                Last_SQL_Error:\n   Replicate_Ignore_Server_Ids:\n              Master_Server_Id: 200\n                Master_SSL_Crl:\n            Master_SSL_Crlpath:\n                    Using_Gtid: No\n                   Gtid_IO_Pos:\n       Replicate_Do_Domain_Ids:\n   Replicate_Ignore_Domain_Ids:\n                 Parallel_Mode: conservative\n                     SQL_Delay: 0\n           SQL_Remaining_Delay: NULL\n       Slave_SQL_Running_State: Slave has read all relay log; waiting for more updates\n              Slave_DDL_Groups: 0\nSlave_Non_Transactional_Groups: 0\n    Slave_Transactional_Groups: 0\n</code></pre>"},{"location":"Data%20loading%2C%20Migration/Replicating%20data%20from%20external%20DB/#from-a-mariadb-database","title":"From a MariaDB Database","text":"<p>When replicating from another MariaDB DB you can directly use GTID based replication. The first two steps are different than MySQL. </p>"},{"location":"Data%20loading%2C%20Migration/Replicating%20data%20from%20external%20DB/#1-obtain-gtid-position","title":"1) Obtain GTID Position","text":"<p>On the external primary server, obtain the GTID position from which to start replication.</p> <p>When you want to start replication from the most recent transaction, the current GTID position can be obtained by querying the value of the\u00a0<code>[gtid_current_pos](https://mariadb.com/docs/skysql-previous-release/ref/mdb/system-variables/gtid_current_pos/)</code>\u00a0system variable with the\u00a0<code>[SHOW\u00a0GLOBAL\u00a0VARIABLES](https://mariadb.com/docs/skysql-previous-release/ref/mdb/sql-statements/SHOW_VARIABLES/)</code>\u00a0statement:</p> <p>**<code>SHOW** **GLOBAL** VARIABLES   **LIKE** 'gtid_current_pos'**;**</code></p> <p><code>+------------------+---------+ | Variable_name    | Value   | +------------------+---------+ | gtid_current_pos | 0-100-1 | +------------------+---------+</code></p>"},{"location":"Data%20loading%2C%20Migration/Replicating%20data%20from%20external%20DB/#2-configure-gtid-position","title":"2) Configure GTID Position","text":"<p>On the SkySQL service, configure the GTID position from which to start replication.</p> <p>The GTID position can be configured using the\u00a0<code>[sky.change_external_primary_gtid()</code>\u00a0stored procedure](https://mariadb.com/docs/skysql-previous-release/ref/replication-procedures/replicated-transactions/#change_external_primary_gtid):</p> <p>**<code>CALL** sky**.**change_external_primary_gtid**(**'mariadb1.example.com'**,** 3306**,** '0-100-1'**,** **false);**</code></p> <p><code>+--------------------------------------------------------------------------------------------------------------+ | Run_this_grant_on_your_external_primary                                                                      | +--------------------------------------------------------------------------------------------------------------+ | GRANT REPLICATION SLAVE ON *.* TO 'skysql_replication'@'%' IDENTIFIED BY '&lt;password_hash&gt;';                  | +--------------------------------------------------------------------------------------------------------------+</code></p> <p>The stored procedure returns a\u00a0<code>[GRANT](https://mariadb.com/docs/skysql-previous-release/ref/mdb/sql-statements/GRANT/)</code>\u00a0statement that is used in the next step.</p>  \ud83d\udca1 The remaining steps (3) thru (5) are the same as described for MySQL above."},{"location":"Data%20loading%2C%20Migration/Replicating%20data%20from%20external%20DB/#compatibility","title":"Compatibility","text":"<p>To configure inbound replication from an external primary server using MariaDB Server to your Replicated Transactions service in SkySQL, the following requirements must be met:</p> <ul> <li>The external primary server must use a supported version of MariaDB Server, and the external primary server must use a version in the same or older release series as the version used by the SkySQL service.</li> <li>When the SkySQL service uses\u00a0ES 10.6, the following versions are supported for the external primary server:<ul> <li>MariaDB Server 10.2</li> <li>MariaDB Server 10.3</li> <li>MariaDB Server 10.4</li> <li>MariaDB Server 10.5</li> <li>MariaDB Server 10.6</li> </ul> </li> <li>When the SkySQL service uses\u00a0ES 10.5, the following versions are supported for the external primary server:<ul> <li>MariaDB Server 10.2</li> <li>MariaDB Server 10.3</li> <li>MariaDB Server 10.4</li> <li>MariaDB Server 10.5</li> </ul> </li> <li>When the SkySQL service uses\u00a0ES 10.4, the following versions are supported for the external primary server:<ul> <li>MariaDB Server 10.2</li> <li>MariaDB Server 10.3</li> <li>MariaDB Server 10.4</li> </ul> </li> </ul>"},{"location":"Data%20offloading/","title":"Data offloading","text":"<p>Note</p> <p>TODO - this section needs detailed review</p>"},{"location":"Data%20offloading/#using-mariadb-dump-utility","title":"Using Mariadb-dump utility","text":"<p>The simplest way to offload your database is to use the\u00a0<code>mariadb-dump</code>\u00a0utility:</p> <ul> <li>The\u00a0<code>mariadb-dump</code>\u00a0utility provides a command-line interface (CLI)</li> <li>The\u00a0<code>mariadb-dump</code>\u00a0utility is available for Linux and Windows</li> <li>The\u00a0<code>mariadb-dump</code>\u00a0utility supports\u00a0many command-line options</li> <li>Egress charges may apply for customer-initiated backups</li> </ul> <p><code>mariadb-dump</code> usage is fully described here. </p>"},{"location":"Data%20offloading/#using-mariadb-client","title":"Using MariaDB client","text":"<p>Use\u00a0MariaDB Client\u00a0with the connection information to export your schema from your MariaDB SkySQL database service. Here is an example to export all rows from a single table:</p> <pre><code>mariadb --host FULLY_QUALIFIED_DOMAIN_NAME --port TCP_PORT \\\n      --user DATABASE_USER --password \\\n      --ssl-verify-server-cert \\\n      --ssl-ca ~/PATH_TO_PEM_FILE \\\n      --default-character-set=utf8 \\\n      --batch \\\n      --skip-column-names \\\n      --execute='SELECT * FROM accounts.contacts;' \\\n      &gt; contacts.tsv\n</code></pre> <ul> <li>Replace\u00a0<code>FULLY_QUALIFIED_DOMAIN_NAME</code>\u00a0with the Fully Qualified Domain Name of your service.</li> <li>Replace\u00a0<code>TCP_PORT</code>\u00a0with the read-write or read-only port of your service.</li> <li>Replace\u00a0<code>DATABASE_USER</code>\u00a0with the default username for your service, or the username you created.</li> <li>Replace\u00a0<code>~/PATH_TO_PEM_FILE</code>\u00a0with the path to the certificate authority chain (.pem) file.</li> <li>Optionally, for large tables, specify the\u00a0-quick\u00a0command-line option\u00a0to disable result caching and reduce memory usage.</li> </ul>"},{"location":"Data%20offloading/#select-into-outfile","title":"Select into Outfile","text":"<p>you can use the <code>SELECT INTO OUTFILE</code> statement to export query results directly to a file. This is useful for exporting specific data from tables.</p> <ul> <li> <p>Usage:</p> <pre><code>SELECT * INTO OUTFILE '/path/to/file.csv' FIELDS TERMINATED BY ',' FROM your_table;\n</code></pre> </li> </ul> <p>Note</p> <p>Note that this file system export is not directly accessible to SkySQL users. To generate CSV files, you should contact SkySQL support.</p>"},{"location":"Data%20offloading/#replicating-data-from-skysql-to-a-compatible-external-db","title":"Replicating data from SkySQL to a compatible external DB","text":""},{"location":"Data%20offloading/Replicating%20data%20from%20SkySQL%20to%20external%20database/","title":"Replicating data from SkySQL to external database","text":"<p>MariaDB SkySQL customers can configure outbound replication from a Replicated Transactions service to a compatible MariaDB Server running elsewhere - could be your data center, self-managed MariaDB DB on the cloud or even other managed services like AWS RDS. </p> <p>SkySQL uses stored procedures to configure replication to other MariaDB or MySQL database servers. </p> <p>For additional information about the stored procedures used to configure replication with Replicated Transactions services, see \"SkySQL Replication Helper Procedures for Replicated Transactions\".</p>"},{"location":"Data%20offloading/Replicating%20data%20from%20SkySQL%20to%20external%20database/#requirements","title":"Requirements","text":"<p>To configure outbound replication from your Replicated Transactions service in SkySQL to an external replica server using MariaDB Server, the following requirements must be met:</p> <ul> <li>The external replica server must use a supported version of MariaDB Server, and the external replica server must use a version in the same or newer release series as the version used by the SkySQL service.</li> <li>When the SkySQL service uses\u00a0ES 10.6, the following versions are supported for the external replica server:<ul> <li>MariaDB Server 10.6</li> </ul> </li> <li>When the SkySQL service uses\u00a0ES 10.5, the following versions are supported for the external replica server:<ul> <li>MariaDB Server 10.5</li> <li>MariaDB Server 10.6</li> </ul> </li> <li>When the SkySQL service uses\u00a0ES 10.4, the following versions are supported for the external replica server:<ul> <li>MariaDB Server 10.4</li> <li>MariaDB Server 10.5</li> <li>MariaDB Server 10.6</li> </ul> </li> </ul>"},{"location":"Data%20offloading/Replicating%20data%20from%20SkySQL%20to%20external%20database/#create-user-for-outbound-replication","title":"Create User for Outbound Replication","text":"<p>With the default database admin user provided, create an external_replication user as seen below.</p> <p>CREATE USER 'replication_user'@'%' IDENTIFIED BY 'bigs3cret'; GRANT REPLICATION SLAVE ON . TO \u2018external_replication\u2019@'hostname';</p>"},{"location":"Data%20offloading/Replicating%20data%20from%20SkySQL%20to%20external%20database/#check-user-account","title":"Check User Account","text":"<p>On the SkySQL service, confirm that the new user has sufficient privileges by executing\u00a0<code>[SHOW\u00a0GRANTS](https://mariadb.com/docs/skysql-previous-release/ref/mdb/sql-statements/SHOW_GRANTS/)</code>:</p> <p>**<code>SHOW** GRANTS **FOR** 'external_replication'@'%'**;**</code></p> <p><code>+------------------------------------------------------------------------------------------------------------------------------------------------+ | Grants for external_replication@%                                                                                                              | +------------------------------------------------------------------------------------------------------------------------------------------------+ | GRANT REPLICATION SLAVE ON *.* TO</code>external_replication<code>@</code>%<code>IDENTIFIED BY PASSWORD '*CCD3A959D6A004B9C3807B728BC2E55B67E10518' | +------------------------------------------------------------------------------------------------------------------------------------------------+</code></p>"},{"location":"Data%20offloading/Replicating%20data%20from%20SkySQL%20to%20external%20database/#add-external-replica-to-allowlist","title":"Add External Replica to Allowlist","text":"<p>On the SkySQL Customer Portal, add the IP address of the external replica server to the SkySQL service's\u00a0allowlist.  Click \u2018Manage\u2019\u2192 \u2018Manage Allowlist\u2019 to add the IP address to the allowed list. </p>  \ud83d\udca1 Note that if your \u2018external replica server\u2019 is also running on SkySQL (say for DR), you can find the outbound IP address from the \u2018Details\u2019 tab (Select on the Service name on the dashboard, then click \u2018Details\u2019)"},{"location":"Data%20offloading/Replicating%20data%20from%20SkySQL%20to%20external%20database/#obtain-gtid-position","title":"Obtain GTID Position","text":"<p>On the SkySQL service, obtain the GTID position from which to start replication.</p> <p>When you want to start replication from the most recent transaction, the current GTID position can be obtained by querying the value of the\u00a0<code>[gtid_current_pos](https://mariadb.com/docs/skysql-previous-release/ref/mdb/system-variables/gtid_current_pos/)</code>\u00a0system variable with the\u00a0<code>[SHOW\u00a0GLOBAL\u00a0VARIABLES](https://mariadb.com/docs/skysql-previous-release/ref/mdb/sql-statements/SHOW_VARIABLES/)</code>\u00a0statement:</p> <p>**<code>SHOW** **GLOBAL** VARIABLES   **LIKE** 'gtid_current_pos'**;**</code></p> <p><code>+------------------+-------------------+ | Variable_name    | Value             | +------------------+-------------------+ | gtid_current_pos | 435700-435700-124 | +------------------+-------------------+</code></p>"},{"location":"Data%20offloading/Replicating%20data%20from%20SkySQL%20to%20external%20database/#configure-gtid-position","title":"Configure GTID Position","text":"<p>On the external replica server, configure the GTID position from which to start replication.</p> <p>The GTID position can be configured by setting the\u00a0<code>[gtid_slave_pos](https://mariadb.com/docs/skysql-previous-release/ref/mdb/system-variables/gtid_slave_pos/)</code>\u00a0system variable with the\u00a0<code>[SET\u00a0GLOBAL](https://mariadb.com/docs/skysql-previous-release/ref/mdb/sql-statements/SET/)</code>\u00a0statement:</p> <p>**<code>SET** **GLOBAL** gtid_slave_pos='435700-435700-124'**;**</code></p>"},{"location":"Data%20offloading/Replicating%20data%20from%20SkySQL%20to%20external%20database/#download-skysql-ca-chain","title":"Download SkySQL CA Chain","text":"<p>If you have enabled SSL (default), on the external replica server, download the\u00a0SkySQL CA chain.  This is available in the Connect popup window on the portal dashboard. </p>"},{"location":"Data%20offloading/Replicating%20data%20from%20SkySQL%20to%20external%20database/#configure-replication","title":"Configure Replication","text":"<p>On the external replica server, configure replication using the\u00a0connection parameters\u00a0for your MariaDB SkySQL service.</p> <p>Replication can be configured using the\u00a0<code>[CHANGE\u00a0MASTER\u00a0TO](https://mariadb.com/docs/skysql-previous-release/ref/mdb/sql-statements/CHANGE_MASTER_TO/)</code>\u00a0statement:</p> <pre><code>CHANGE MASTER TO\n   MASTER_HOST='FULLY_QUALIFIED_DOMAIN_NAME',\n   MASTER_PORT=TCP_PORT,\n   MASTER_USER='external_replication',\n   MASTER_PASSWORD='my_password',\n   MASTER_SSL=1,\n   MASTER_SSL_CA='~/PATH_TO_PEM_FILE',\n   MASTER_USE_GTID=slave_pos;\n</code></pre> <ul> <li>Replace\u00a0<code>FULLY_QUALIFIED_DOMAIN_NAME</code>\u00a0with the Fully Qualified Domain Name of your service</li> <li>Replace\u00a0<code>TCP_PORT</code>\u00a0with the read-write or read-only port of your service</li> <li>Replace\u00a0<code>~/PATH_TO_PEM_FILE</code>\u00a0with the path to the certificate authority chain (.pem) file</li> </ul>"},{"location":"Data%20offloading/Replicating%20data%20from%20SkySQL%20to%20external%20database/#start-replication","title":"Start Replication","text":"<p>On the external replica server, start replication.</p> <p>Replication can be started using the\u00a0<code>[START\u00a0REPLICA](https://mariadb.com/docs/skysql-previous-release/ref/mdb/sql-statements/START_REPLICA/)</code>\u00a0statement:</p> <p>**<code>START** REPLICA**;**</code></p>"},{"location":"Data%20offloading/Replicating%20data%20from%20SkySQL%20to%20external%20database/#check-replication-status","title":"Check Replication Status","text":"<p>On the external replica server, check replication status.</p> <p>Replication status can be checked using the\u00a0<code>[SHOW\u00a0REPLICA\u00a0STATUS](https://mariadb.com/docs/skysql-previous-release/ref/mdb/sql-statements/SHOW_REPLICA_STATUS/)</code>\u00a0statement:</p> <p>**<code>SHOW** REPLICA STATUS**\\G**</code></p> <pre><code>*************************** 1. row ***************************\n                Slave_IO_State: Waiting for master to send event\n                   Master_Host: my-service.mdb0002147.db.skysql.net\n                   Master_User: external_replication\n                   Master_Port: 5003\n                 Connect_Retry: 60\n               Master_Log_File: mariadb-bin.000001\n           Read_Master_Log_Pos: 558\n                Relay_Log_File: mariadb-relay-bin.000002\n                 Relay_Log_Pos: 674\n         Relay_Master_Log_File: mariadb-bin.000001\n              Slave_IO_Running: Yes\n             Slave_SQL_Running: Yes\n               Replicate_Do_DB:\n           Replicate_Ignore_DB:\n            Replicate_Do_Table:\n        Replicate_Ignore_Table:\n       Replicate_Wild_Do_Table:\n   Replicate_Wild_Ignore_Table:\n                    Last_Errno: 0\n                    Last_Error:\n                  Skip_Counter: 0\n           Exec_Master_Log_Pos: 558\n               Relay_Log_Space: 985\n               Until_Condition: None\n                Until_Log_File:\n                 Until_Log_Pos: 0\n            Master_SSL_Allowed: Yes\n            Master_SSL_CA_File: /var/lib/mysql/skysql_chain.pem\n            Master_SSL_CA_Path:\n               Master_SSL_Cert:\n             Master_SSL_Cipher:\n                Master_SSL_Key:\n         Seconds_Behind_Master: 0\n Master_SSL_Verify_Server_Cert: No\n                 Last_IO_Errno: 0\n                 Last_IO_Error:\n                Last_SQL_Errno: 0\n                Last_SQL_Error:\n   Replicate_Ignore_Server_Ids:\n              Master_Server_Id: 435701\n                Master_SSL_Crl: /var/lib/mysql/skysql_chain.pem\n            Master_SSL_Crlpath:\n                    Using_Gtid: Slave_Pos\n                   Gtid_IO_Pos: 435700-435700-127\n       Replicate_Do_Domain_Ids:\n   Replicate_Ignore_Domain_Ids:\n                 Parallel_Mode: optimistic\n                     SQL_Delay: 0\n           SQL_Remaining_Delay: NULL\n       Slave_SQL_Running_State: Slave has read all relay log; waiting for more updates\n              Slave_DDL_Groups: 0\nSlave_Non_Transactional_Groups: 0\n    Slave_Transactional_Groups: 0\n</code></pre>"},{"location":"Portal%20features/","title":"Portal features","text":"<p>From the SkySQL Portal, you can launch, query, monitor, and manage your SkySQL services.</p>"},{"location":"Portal%20features/#access-the-portal","title":"Access the Portal","text":"<p>You can access the Portal here</p>"},{"location":"Portal%20features/#dashboard","title":"Dashboard","text":"<p>From the Dashboard, you can see a list of your SkySQL services and status information for each service.</p> <p>From a different view, the Dashboard can be accessed by clicking the \"Dashboard\" link in the main menu (left navigation in the Portal).</p>"},{"location":"Portal%20features/#launch","title":"Launch","text":"<p>To launch a new service, click the \"+ Launch New Service\" button on the Dashboard.</p> <p>See \"Service Launch\" for details on the service launch process and launch-time selections.</p>"},{"location":"Portal%20features/#service-specific-interfaces","title":"Service-Specific Interfaces","text":"<p>Service-specific interfaces are available from the Dashboard by clicking on the service name for the desired service.</p> <p>Service-specific interfaces will vary by topology.</p> <p>Service-specific interfaces are provided to:</p> <ul> <li>Connect</li> <li>Manage</li> <li>Monitor</li> <li>Alerts</li> <li>Logs</li> <li>Query Editor</li> <li>Service Details</li> </ul>"},{"location":"Portal%20features/#connect","title":"Connect","text":"<p>From the Dashboard, the details needed to connect to your SkySQL service can be seen by clicking on the \"CONNECT\" button for the desired service.</p> <p>See \"Client Connections\" for details on how to connect to a service.</p>"},{"location":"Portal%20features/#manage","title":"Manage","text":"<p>From the Dashboard, the \"MANAGE\" button for a service provides access to:</p> <ul> <li>Self-Service Operations\u00a0to stop/start, delete, or scale your service</li> <li>Security access\u00a0to manage the firewall</li> <li>Autonomous\u00a0settings for auto-scale of nodes and auto-scale of storage</li> <li>Apply custom configuration</li> </ul>"},{"location":"Portal%20features/#billing","title":"Billing","text":"<p>The Dashboard includes a Spending gauge to indicate current charges. More detailed billing information can be accessed by clicking on the Spending gauge.</p> <p>Alternatively, you can access detailed billing and invoice information by clicking on your name in the upper-right corner of the interface, then select \"Billing\" from the menu.</p> <p>See \"Billing\" for additional details.</p>"},{"location":"Portal%20features/#monitoring","title":"Monitoring","text":"<p>The Dashboard includes monitoring gauges for Current SQL Commands, CPU Load, and QPS (Queries Per Second). More detailed monitoring can be accessed by clicking on one of these gauges.</p> <p>Alternatively, you can access detailed server and service monitoring by clicking on the service name from the Dashboard, then accessing the Monitoring tab (the default view).</p> <p>See \"Monitoring\" for additional details.</p>"},{"location":"Portal%20features/#alerts","title":"Alerts","text":"<p>The Dashboard includes the count of active monitoring alerts for your service. More detailed alert information can be accessed by clicking on the Alerts gauge.</p> <p>Alternatively, you can access monitoring alerts by clicking the \"Alerts\" link in the main menu (left navigation in the Portal).</p> <p>See \"Alerts\" for additional details.</p>"},{"location":"Portal%20features/#logs","title":"Logs","text":"<p>Server log files can be accessed by clicking the \"Logs\" link in the main menu (left navigation in the Portal).</p> <p>See \"Logs\" for additional details.</p>"},{"location":"Portal%20features/#workspace","title":"Workspace","text":"<p>From the Portal, you can connect to and query your SkySQL databases.</p> <p>These features can be accessed by clicking the \"Workspace\" link in the main menu (left navigation in the Portal):</p> <ul> <li>Queries can be run directly from the browser using the\u00a0Query Editor.</li> <li>For interactive analytics with built-in visualization and forms,\u00a0Serverless Analytics\u00a0can be used with\u00a0Notebook.</li> </ul>"},{"location":"Portal%20features/#settings","title":"Settings","text":"<p>These settings can be accessed by clicking the \"Settings\" link in the main menu (left navigation in the Portal):</p> <ul> <li>User Management</li> <li>Configuration Manager</li> <li>Firewall</li> <li>Policies\u00a0for monitoring alerts</li> <li>Notification Channels\u00a0for delivery of monitoring alerts by email</li> </ul>"},{"location":"Portal%20features/#notifications","title":"Notifications","text":"<p>Actions performed through the Portal will generate a notification.</p> <p>To view current notifications, click the bell icon in the upper-right corner of the interface.</p> <p>See \"Notifications\" for additional details.</p>"},{"location":"Portal%20features/#user-preferences","title":"User Preferences","text":"<p>To customize your email notification preferences, click your name in the upper-right corner of the interface, then choose \"User preferences\".</p> <p>See \"Notifications\" for additional details.</p>"},{"location":"Portal%20features/#logout","title":"Logout","text":"<p>To log out from SkySQL, click your name in the upper-right corner of the interface, then choose \"Logout\" from the menu.</p>"},{"location":"Portal%20features/#key-features","title":"Key Features","text":"<p>Note</p> <p>\ud83d\udca1 TODO - most of these features are described elsewhere. To be removed later.</p> https://mariadb.com/docs/skysql-previous-release/service-management/options/aws-privatelink/ Connects your AWS VPC network to MariaDB SkySQL with connectivity over Amazon's network https://mariadb.com/docs/skysql-previous-release/service-management/options/cross-region-replicas/ For disaster recovery, data is replicated to a different supported region https://mariadb.com/docs/skysql-previous-release/service-management/options/custom-configuration/ Changes the default service design and configuration https://mariadb.com/docs/skysql-previous-release/service-management/options/custom-instance-sizes/ Changes the available instance sizes https://mariadb.com/docs/skysql-previous-release/service-management/options/database-account-2fa/ Enables two-factor authentication (2FA) for database user accounts https://mariadb.com/docs/skysql-previous-release/service-management/options/database-account-ldap/ Enables LDAP authentication for database user accounts https://mariadb.com/docs/skysql-previous-release/service-management/options/disable-ssltls/ Disables default data-in-transit encryption; typically paired with AWS PrivateLink or GCP VPC Peering https://mariadb.com/docs/skysql-previous-release/service-management/options/maxscale-redundancy/ Enables highly available (HA) active-active load balancers and ability to choose load balancer instance size https://mariadb.com/docs/skysql-previous-release/service-management/options/point-in-time-recovery/ Configures additional retention of binary logs to enable point-in-time recovery at a later date https://mariadb.com/docs/skysql-previous-release/service-management/options/replication/ Inbound (to MariaDB SkySQL) and outbound (from MariaDB SkySQL) replication https://mariadb.com/docs/skysql-previous-release/service-management/options/single-zone-deployment/ Reduced latency for Distributed Transactions https://mariadb.com/docs/skysql-previous-release/service-management/options/skysql-portal-sso/ Authenticate to SkySQL Portal using SAML 2.0 IDP https://mariadb.com/docs/skysql-previous-release/service-management/options/skysql-teams/ Multiple SkySQL user accounts jointly maintain services under a single billing profile https://mariadb.com/docs/skysql-previous-release/service-management/options/vpc-peering/ Connects your GCP VPC network to MariaDB SkySQL with connectivity over Google's network <p>Notifications</p> <p>Launch page</p> <p>Service Details page</p> <p>Manage your Service</p>"},{"location":"Portal%20features/Launch%20page/","title":"Launch page","text":"<p>Launch</p> <p>https://skysql.mariadb.com/launch-service</p> <p>While making launch-time selections, your selections and estimated costs are shown at right.</p> <p>If you require AWS PrivateLink or Google Private Service Connect, please\u00a0Contact Support.</p> <p>To launch a SkySQL service from the\u00a0Portal:</p> <ol> <li>From the Dashboard, click the \"+ Launch New Service\" button.</li> <li>Choose the desired\u00a0Workload Type.</li> <li>Choose the desired\u00a0Topology.</li> <li>Choose the desired\u00a0Cloud Provider.</li> <li>Choose the desired\u00a0Region.<ul> <li>Each region has a scheduled maintenance window.</li> </ul> </li> <li>Choose the desired\u00a0Hardware Architecture.<ul> <li>Hardware architecture choice is provided on select topologies.</li> </ul> </li> <li>Choose the desired\u00a0Instance Size.<ul> <li>If your workload requires a larger instance size, contact us regarding\u00a0Power Tier.</li> <li>When launching a service in the Serverless Analytics topology, dedicated capacity is not provisioned so there is no instance size selection.</li> </ul> </li> <li>If needed, enable\u00a0Auto-Scaling of Nodes.<ul> <li>This feature is provided on select topologies.</li> </ul> </li> <li>Choose the desired\u00a0Storage Configuration.<ul> <li>When launching a service in the Serverless Analytics topology, dedicated capacity is not provisioned so there is no storage configuration.</li> </ul> </li> <li>If needed, enable\u00a0Auto-Scaling of Storage.<ul> <li>This feature is provided on select topologies.</li> </ul> </li> <li>Choose number of nodes to deploy.<ul> <li>This selection is provided on select topologies.</li> <li>For Enterprise Server With Replica(s) topology, this is\u00a0Replica Count.</li> <li>For Xpand Distributed SQL topology, this is\u00a0Xpand Node Count.</li> </ul> </li> <li>Choose the desired\u00a0Software Version.<ul> <li>This selection is provided on select topologies.</li> </ul> </li> <li>Enter the desired Service Name. Service name must align to\u00a0Service Name\u00a0rules.</li> <li>Enable topology-specific features, if desired:<ul> <li>Disable SSL/TLS</li> <li>NoSQL Interface</li> </ul> </li> </ol> <p>After initiating service launch, the service will be shown on the\u00a0Portal\u00a0Dashboard.</p> <p>A\u00a0notification\u00a0will be sent at time of service launch initiation and when service launch completes.</p>"},{"location":"Portal%20features/Manage%20your%20Service/","title":"Manage your Service","text":"<p>SkySQL's self-service management features enable authorized accounts to launch cloud databases, start and stop cloud databases, delete cloud databases, apply database configuration changes, and configure the cloud database's IP firewall.</p> <p>Self-service\u00a0user management\u00a0features enable you to define role-based access for your team to jointly manage SkySQL resources.</p>"},{"location":"Portal%20features/Manage%20your%20Service/#stop-a-service","title":"Stop a Service","text":"<p>Service - Stop</p> <p>https://app.skysql.com/dashboard</p> <p>To stop a service:</p> <ol> <li>Log in to the\u00a0Portal.</li> <li>Click the \"MANAGE\" button (at right) for the desired service.</li> <li>Choose the \"Stop Service\" menu item.</li> <li>Click the \"Yes, Stop this service\" button to confirm this operation.</li> </ol> <p>The service will be stopped. You will only be charged for storage on a stopped service.</p> <p>Notifications\u00a0will be generated when this operation is initiated and when the operation is performed.</p>"},{"location":"Portal%20features/Manage%20your%20Service/#start-a-service","title":"Start a Service","text":"<p>Service - Start</p> <p>https://skysql.mariadb.com/dashboard</p> <p>To start a service:</p> <ol> <li>Log in to the\u00a0Portal.</li> <li>Click the \"MANAGE\" button (at right) for the desired service.</li> <li>Choose the \"Start Service\" menu item.</li> <li>Click the \"Yes, Start this service\" button to confirm this operation.</li> </ol> <p>The service will be started. Service start may take up to 15 minutes. The normal billing cycle for the service will resume.</p> <p>Notifications\u00a0will be generated when this operation is initiated and when the operation is performed.</p>"},{"location":"Portal%20features/Manage%20your%20Service/#scale-nodes-inout","title":"Scale Nodes In/Out","text":"<p>Service - Horizontal Scaling</p> <p>https://skysql.mariadb.com/dashboard</p> <p>Horizontal scaling is performed by scaling nodes In (reducing node count) or Out (increasing node count).</p> <p>To scale nodes horizontally:</p> <ol> <li>Log in to the\u00a0Portal.</li> <li>Identify the service you want to scale. Services must be in a \"Healthy\" state to scale.</li> <li>Click the \"MANAGE\" button (at right) for the desired service.</li> <li>Choose the \"Scale nodes in/out\" menu item.</li> <li>Change the node count to the desired value.</li> <li>Optionally, you can check the \"Auto-scale nodes horizontally\" checkbox to enable\u00a0Autonomous\u00a0features for this service.</li> <li>Click the \"Apply Changes\" button.</li> </ol> <p>The service immediately goes into scaling status.</p> <p>Notifications\u00a0will be generated when this operation is initiated and when the operation is performed.</p>"},{"location":"Portal%20features/Manage%20your%20Service/#scale-nodes-updown","title":"Scale Nodes Up/Down","text":"<p>Service - Vertical Scaling</p> <p>https://skysql.mariadb.com/dashboard</p> <p>Vertical scaling is performed by scaling nodes Up (increasing node size) or Down (decreasing node size).</p> <p>To scale nodes vertically:</p> <ol> <li>Log in to the\u00a0Portal.</li> <li>Identify the service you want to scale. Services must be in a \"Healthy\" state to scale.</li> <li>Click the \"MANAGE\" button (at right) for the desired service.</li> <li>Choose the \"Scale nodes up/down\" menu item.</li> <li>Change the node count to the desired value.</li> <li>Optionally, you can check the \"Auto-scale nodes vertically\" checkbox to enable\u00a0Autonomous\u00a0features for this service.</li> <li>Click the \"Apply Changes\" button.</li> </ol> <p>The service immediately goes into scaling status.</p> <p>Notifications\u00a0will be generated when this operation is initiated and when the operation is performed.</p>"},{"location":"Portal%20features/Manage%20your%20Service/#scale-storage","title":"Scale Storage","text":"<p>Service - Scale Storage</p> <p>https://skysql.mariadb.com/dashboard</p> <p>To expand block storage capacity:</p> <ol> <li>Log in to the\u00a0Portal.</li> <li>Identify the service you want to scale. Services must be in a \"Healthy\" state to scale.</li> <li>Click the \"MANAGE\" button (at right) for the desired service.</li> <li>Choose the \"Scale storage\" menu item.</li> <li>Use the slider to select the desired amount of storage.</li> <li>Click the \"Apply Changes\" button.</li> </ol> <p>Storage scaling is subject to a 6 hour cooldown period.</p> <p>Storage upgrades are not reversible.</p>"},{"location":"Portal%20features/Manage%20your%20Service/#delete-a-service","title":"Delete a Service","text":"<p>Service - Delete</p> <p>https://skysql.mariadb.com/dashboard</p> <p>To delete a service:</p> <ol> <li>Log in to the\u00a0Portal.</li> <li>Identify the service you want to delete.</li> <li>Click the \"MANAGE\" button (at right) for that service.</li> <li>Choose the \"Delete Service\" menu item.</li> <li>Read the warning and follow the provided instructions to confirm your delete operation.</li> <li>Click \"Yes, delete\".</li> </ol> <p>Your service and all its data will be deleted. This operation is non-reversible.</p> <p>Notifications\u00a0will be generated when this operation is initiated and when the operation is performed.</p>"},{"location":"Portal%20features/Manage%20your%20Service/#other-self-service-operations","title":"Other Self-Service Operations","text":"<ul> <li>Service Launch</li> <li>Firewall Management</li> <li>Configuration Management</li> <li>Private Connections:<ul> <li>AWS PrivateLink</li> <li>GCP Private Service Connect</li> </ul> </li> <li>User Management</li> </ul>"},{"location":"Portal%20features/Notifications/","title":"Notifications","text":"<p>Actions performed through the Portal will generate a notification.</p> <p>One notification is generated when an action is initiated.</p> <p>Additional notifications are generated to convey status as the action is carried out by the system.</p>"},{"location":"Portal%20features/Notifications/#access-to-notifications","title":"Access to Notifications","text":"<p>To access current notifications:</p> <ol> <li>Log in to the\u00a0Portal.</li> <li>Click the bell icon in the upper-right corner of the interface.</li> </ol> <p>A menu of recent notifications will be displayed.</p> <p>The bell icon will include a red dot indicator when a new notification is present. This indicator can be cleared by clicking the \"Clear all\" link.</p> <p></p> <p>Notifications</p> <p>https://skysql.mariadb.com/dashboard</p> <p>To view historical notifications, click the \"View more\" link at the bottom of the menu. When viewing historical notifications, notifications can be filtered by category and time frame.</p> <p></p> <p>Notifications - current and historical</p> <p>https://skysql.mariadb.com/notifications</p>"},{"location":"Portal%20features/Notifications/#notification-categories","title":"Notification Categories","text":"<ul> <li>Service Alerts, which are based on\u00a0Alerts</li> <li>Billing</li> <li>Service, which are based on\u00a0Portal\u00a0actions</li> <li>Organization</li> </ul>"},{"location":"Portal%20features/Notifications/#user-preferences","title":"User Preferences","text":"<p>You can configure the notifications delivered to your email address from User Preferences.</p> <p>To access User Preferences:</p> <ol> <li>Log in to the\u00a0Portal.</li> <li>Click your name in the upper-right corner of the interface.</li> <li>Choose \"User preferences\".</li> </ol> <p>From User Preferences you can specify your notification preferences:</p> <ul> <li>Whether to send notifications to you by email</li> <li>Which Notification Categories you want to be sent</li> </ul> <p></p> <p>User Preferences</p> <p>https://skysql.mariadb.com/user-preferences</p>"},{"location":"Portal%20features/Notifications/#notification-channels","title":"Notification Channels","text":"<p>In addition to display in the Portal, notifications can also be delivered by email.</p> <p>Notification Channels define who receives what type of notifications.</p> <p>To access Notification Channel settings:</p> <ol> <li>Log in to the\u00a0Portal.</li> <li>Click the \"Settings\" link in the main menu (left navigation in the Portal).</li> <li>Click the \"Notification Channel\" button.</li> </ol> <p></p> <p>Notification Channels</p> <p>https://skysql.mariadb.com/settings/channel</p>"},{"location":"Portal%20features/Notifications/#add-a-notification-channel","title":"Add a Notification Channel","text":"<p>To add a Notification Channel, from the Notification Channel settings interface:</p> <ol> <li>Click the \"Add\" button in the upper-right corner.</li> <li>Enter a channel name.</li> <li>Enter the email address that will receive notifications.</li> <li>Choose the notification categories that should be sent to that address.</li> </ol> <p></p> <p>Notification Channels - Adding a Channel</p> <p>https://skysql.mariadb.com/settings/channel</p>"},{"location":"Portal%20features/Notifications/#remove-a-notification-channel","title":"Remove a Notification Channel","text":"<p>To remove a Notification Channel, from the Notification Channel settings interface:</p> <ol> <li>Check the checkbox to the left of the notification channel to be removed.</li> <li>Click the \"Delete\" button (which appears when a notification channel is selected by checkbox).</li> <li>Confirm removal of the notification channel by clicking the \"Yes, delete\" button.</li> </ol>"},{"location":"Portal%20features/Notifications/#edit-a-notification-channel","title":"Edit a Notification Channel","text":"<p>To modify a Notification Channel, from the Notification Channel settings interface:</p> <ol> <li>Click the name of the channel to modify.</li> <li>Make the desired changes to the channel name, email address recipient list, and notification categories.</li> <li>Click the \"Save\" button.</li> </ol>"},{"location":"Portal%20features/Service%20Details%20page/","title":"Service Details page","text":"<p>After\u00a0service launch, a detailed summary of the service can be accessed in the Service Details interface.</p>"},{"location":"Portal%20features/Service%20Details%20page/#access-to-service-details","title":"Access to Service Details","text":"<ol> <li>Log in to the\u00a0Portal.</li> <li>From the Dashboard, click the name of the desired service.</li> <li>Click the \"Details\" tab.</li> </ol> <p>Service Details</p> <p>https://skysql.mariadb.com/service/DBID/details</p>"},{"location":"Portal%20features/Service%20Details%20page/#available-information","title":"Available Information","text":"<p>Service details vary based on topology.</p> <p>Service details may include:</p> <ul> <li>Hardware architecture</li> <li>Instance size</li> <li>Software version</li> <li>Timestamp of service launch</li> <li>Storage capacity</li> <li>Count of replicas</li> <li>Read-only TCP port</li> <li>Read-write TCP port</li> <li>NoSQL interface TCP port</li> <li>IP address used for outbound traffic</li> <li>Auto-scaling settings for nodes</li> <li>Auto-scaling settings for storage</li> <li>Fully Qualified Domain Name (hostname)</li> <li>Configuration settings applied to the service</li> <li>Current charges and hourly costs</li> <li>Scheduled maintenance window</li> </ul>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/","title":"Service Monitoring Panels","text":"<p>The available panels are :</p> <p>Should be evaluated as \"Panel name(context, UI tab)\"</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#current-sql-commands-service","title":"Current SQL Commands (service)","text":"<p>This panel shows the ratio between the types of SQL statements executed by the service during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#current-sql-commands-server","title":"Current SQL Commands (server)","text":"<p>This panel shows the ratio between the types of SQL statements executed by the ES node during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#cpu-load-servicestatus","title":"CPU Load (service,status)","text":"<p>This panel shows the CPU usage for each ES node during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#cpu-usage-load","title":"CPU Usage / Load","text":"<p>This panel shows the CPU usage for the ES node during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#qps-servicestatus","title":"QPS (service,status)","text":"<p>This panel shows the queries per second (QPS) executed by the ES node during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#connections-service","title":"Connections (service)","text":"<p>This panel shows the number of used and aborted connections for each ES node along with the max_connections value.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#connections-servercluster","title":"Connections (server,cluster)","text":"<p>This panel shows the number of clients connected to the MaxScale node.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#replicas-status","title":"Replicas status","text":"<p>This panel shows summarized values for certain replication-related metadata to help determine if any replica ES nodes encountered replication issues during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#replicas-lags","title":"Replicas lags","text":"<p>This panel shows average values for certain replication-related metadata to help determine if the replica ES nodes are currently lagging behind the primary ES node.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#disk-size-by-partition-servicestatus","title":"Disk Size by Partition (service,status)","text":"<p>This panel shows the amount of storage space used (as the usage percentage, actual size, and total size) by each ES node.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#disk-size-by-partition-server","title":"Disk Size by Partition (server)","text":"<p>This panel shows the amount of storage space used by the ES node during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#disk-size-by-partition-servicesystem","title":"Disk Size by Partition (service,system)","text":"<p>This panel shows the amount of storage space used by all ES nodes during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#gtid-replication-position-servicereplicas","title":"GTID Replication Position (service,replicas)","text":"<p>This panel shows the Global Transaction ID (GTID) for each ES node during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#seconds-behind-primary","title":"Seconds Behind Primary","text":"<p>This panel shows the average number of seconds that the replica ES nodes lagged behind the primary ES node during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#exec-primary-log-position","title":"Exec Primary Log Position","text":"<p>This panel shows the current binary log position of the replica SQL thread for each ES node during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#read-primary-log-position","title":"Read Primary Log Position","text":"<p>This panel shows the current binary log position of the replica I/O thread for each ES node during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#top-command-counters-servicequeries","title":"Top Command Counters (service,queries)","text":"<p>This panel shows the top 30 statement types that were most frequently executed by all ES nodes during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#top-command-counters-server","title":"Top Command Counters (server)","text":"<p>This panel shows the top 30 statement types that were most frequently executed by the ES node during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#top-command-counters-hourly-service","title":"Top Command Counters Hourly (service)","text":"<p>This panel shows the top 30 statement types that were most frequently executed by all ES and Xpand nodes in 1 hour intervals over the past 24 hours.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#top-command-counters-hourly-server","title":"Top Command Counters Hourly (server)","text":"<p>This panel shows the top 30 statement types that were most frequently executed by the ES node in 1 hour intervals over the past 24 hours.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#mariadb-qps","title":"MariaDB QPS","text":"<p>This panel shows the number of queries per second (QPS) executed by all ES nodes during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#mariadb-slow-queries-servicequeries","title":"MariaDB Slow Queries (service,queries)","text":"<p>This panel shows the number of slow queries executed by all ES nodes during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#mariadb-slow-queries-server","title":"MariaDB Slow Queries (server)","text":"<p>This panel shows the number of slow queries executed by the ES node during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#mariadb-qps-and-questions","title":"MariaDB QPS and Questions","text":"<p>This panel shows the number of queries and questions per second executed by the ES node during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#mariadb-client-thread-activity-service","title":"MariaDB Client Thread Activity (service)","text":"<p>This panel shows the number of client threads running on all ES nodes during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#mariadb-client-thread-activity-server","title":"MariaDB Client Thread Activity (server)","text":"<p>This panel shows the number of client threads connected and running on the ES node during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#maxscale-service-connections","title":"MaxScale Service Connections","text":"<p>This panel shows the number of clients connected to all MaxScale nodes during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#maxscale-server-connections","title":"MaxScale Server Connections","text":"<p>This panel shows the number of client connections open between the MaxScale node and each ES node during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#mariadb-service-connections","title":"MariaDB Service Connections","text":"<p>This panel shows the number of clients connected to the ES node during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#mariadb-aborted-connections","title":"MariaDB Aborted Connections","text":"<p>This panel shows the number of connections aborted by the ES node during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#mariadb-table-locks-service","title":"MariaDB Table Locks (service)","text":"<p>This panel shows the number of table locks requested by all ES nodes during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#mariadb-table-locks-server","title":"MariaDB Table Locks (server)","text":"<p>This panel shows the number of table locks requested by the ES node during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#mariadb-open-tables-service","title":"MariaDB Open Tables (service)","text":"<p>This panel shows the number of tables opened by the database servers on all ES nodes during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#mariadb-open-tables-server","title":"MariaDB Open Tables (server)","text":"<p>This panel shows the number of tables opened by the database server on the ES node during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#mariadb-table-opened","title":"MariaDB Table Opened","text":"<p>This panel shows the number of tables that have been opened by all ES nodes during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#mariadb-select-types","title":"MariaDB Select Types","text":"<p>This panel shows the number of times the ES node has used certain execution strategies to execute SELECT statements during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#mariadb-sorts","title":"MariaDB Sorts","text":"<p>This panel shows the number of times the ES node has used certain algorithms to sort data during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#memory-usage","title":"Memory Usage","text":"<p>This panel shows memory usage details for all ES nodes during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#io-activity-page-in","title":"I/O Activity - Page In","text":"<p>This panel shows the total number of bytes read from the ES node's file system during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#io-activity-page-out","title":"I/O Activity - Page Out","text":"<p>This panel shows the total number of bytes written to the ES node's file system during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#io-activity-serversystem","title":"I/O Activity (server,system)","text":"<p>This panel shows the total number of bytes written to or read from the ES node's file system during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#iops","title":"IOPS","text":"<p>This panel shows the number of input/output operations per second performed by the ES node during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#iops-page-in","title":"IOPS - Page In","text":"<p>This panel shows the total number of reads performed from the ES node's file system during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#iops-page-out","title":"IOPS - Page Out","text":"<p>This panel shows the total number of writes performed from the ES node's file system during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#network-traffic-inbound","title":"Network Traffic - Inbound","text":"<p>This panel shows the amount of data received over the network by the operating systems on all ES nodes during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#network-traffic-outbound","title":"Network Traffic - Outbound","text":"<p>This panel shows the amount of data sent over the network by the operating systems on all ES nodes during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#mariadb-network-traffic-service","title":"MariaDB Network Traffic (service)","text":"<p>This panel shows the amount of data sent and received over the network by the database servers on all ES nodes during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#mariadb-network-traffic-server","title":"MariaDB Network Traffic (server)","text":"<p>This panel shows the amount of data sent and received over the network by the database server on the ES node during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#network-traffic-serverstatus","title":"Network Traffic (server,status)","text":"<p>This panel shows the amount of data sent and received over the network by the operating system on the ES node during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#mariadb-network-usage-hourly-service","title":"MariaDB Network Usage Hourly (service)","text":"<p>This panel shows the amount of data sent and received over the network per hour by the database servers on all ES nodes over the past 24 hours.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#mariadb-network-usage-hourly-server","title":"MariaDB Network Usage Hourly (server)","text":"<p>This panel shows the amount of data sent and received over the network per hour by the database server on the ES node over the past 24 hours.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#network-errors-service","title":"Network Errors (service)","text":"<p>This panel shows the number of network errors encountered by all ES nodes during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#network-errors-server","title":"Network Errors (server)","text":"<p>This panel shows the number of network errors encountered by the ES node during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#network-packets-dropped-service","title":"Network Packets Dropped (service)","text":"<p>This panel shows the number of network packets dropped by all ES nodes during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#network-packets-dropped-server","title":"Network Packets Dropped (server)","text":"<p>This panel shows the number of network packets dropped by the ES node during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#cpu-serverstatusgauge","title":"CPU (server,status,gauge)","text":"<p>This panel shows the current CPU usage for the ES or Xpand node.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#ram-serverstatus","title":"RAM (server,status)","text":"<p>This panel shows the current memory usage details for the ES or Xpand node.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#ram-serverstatusgraph","title":"RAM (server,status,graph)","text":"<p>This panel shows memory usage details for the ES or Xpand node during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#buffer-pool-size-of-total-ram","title":"Buffer Pool Size of Total RAM","text":"<p>This panel shows the current size of the InnoDB buffer pool for the ES node in two units: the absolute size and the percentage of the server's usable memory.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#used-connections","title":"Used Connections","text":"<p>This panel shows the current number of client connections as a percentage of the ES node's max_connections value.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#innodb-data-sec-serverstatus","title":"InnoDB Data / sec (server,status)","text":"<p>This panel shows the number of bytes per second read and written by InnoDB during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#rows-sec","title":"Rows / sec","text":"<p>This panel shows the total number of rows written and read per second by the ES node during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#mariadb-connections","title":"MariaDB Connections","text":"<p>This panel shows the number of client connections to the ES node during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#mariadb-opened-files-sec","title":"MariaDB Opened Files / sec","text":"<p>This panel shows the number of files opened per second by the database server on the ES node during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#mariadb-open-files","title":"MariaDB Open Files","text":"<p>This panel shows the number of files opened by the database server on the ES node during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#mariadb-transaction-handlers-sec","title":"MariaDB Transaction Handlers / sec","text":"<p>This panel shows the number of transaction-related handlers created by the ES node during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#temporary-objects-created","title":"Temporary Objects Created","text":"<p>This panel shows the number of temporary tables created by the ES node during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#mariadb-thread-cache","title":"MariaDB Thread Cache","text":"<p>This panel shows the number of threads created and cached for re-use on the ES node during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#mariadb-table-open-cache-status","title":"MariaDB Table Open Cache Status","text":"<p>This panel shows the activity of the table open cache on the ES node during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#mariadb-table-definition-cache","title":"MariaDB Table Definition Cache","text":"<p>This panel shows how many table definitions were cached by the ES node during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#memory-distribution","title":"Memory Distribution","text":"<p>This panel shows memory usage details for the ES node during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#mariadb-memory-overview","title":"MariaDB Memory Overview","text":"<p>This panel shows how much memory the ES node used for the InnoDB buffer pool, InnoDB log buffer, MyISAM key buffer, and query cache during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#memory-serverperformance","title":"Memory (server,performance)","text":"<p>This panel shows memory usage details for the MaxScale node during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#rwsec-servercluster","title":"RW/sec (server,cluster)","text":"<p>This panel shows the number of read and write operations per second that were handled by the threads on the MaxScale node during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#threads","title":"Threads","text":"<p>This panel shows the number of threads currently used by the MaxScale node.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#maxscale-modules","title":"MaxScale Modules","text":"<p>This panel lists the modules installed on the MaxScale node.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#maxscale-hangups-serverperformance","title":"MaxScale Hangups (server,performance)","text":"<p>This panel shows the number of client connections closed by the MaxScale node during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#errors-serverperformance","title":"Errors (server,performance)","text":"<p>This panel shows the number of errors encountered by threads on the MaxScale node during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#event-queue-length-serverperformance","title":"Event Queue Length (server,performance)","text":"<p>This panel shows the total event queue length for all threads on the MaxScale node during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#maxscale-descriptors-servercluster","title":"MaxScale Descriptors (server,cluster)","text":"<p>This panel shows the number of descriptors used by the MaxScale node during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#max-time-in-queue-servercluster","title":"Max Time in Queue (server,cluster)","text":"<p>This panel shows the longest time the MaxScale node waited for an I/O event during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#maxscale-connections","title":"MaxScale Connections","text":"<p>This panel shows the number of clients connected to the MaxScale node during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#database-server-connections","title":"Database Server Connections","text":"<p>This panel shows the number of database server connections open between the MaxScale node and each ES or Xpand node during the selected time interval.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#resident-servercluster","title":"Resident (server,cluster)","text":"<p>This panel shows the current resident set size (RSS) of the MaxScale process.</p>"},{"location":"Portal%20features/Service%20Monitoring%20Panels/#stack-size-servercluster","title":"Stack size (server,cluster)","text":"<p>This panel shows the current stack size of the MaxScale node.</p>"},{"location":"Quickstart/","title":"Quickstart","text":"<p>It only takes a few minutes to launch a standalone or clustered database on SkySQL. You can pick from about 30 global regions and launch on AWS or GCP. </p> <p>You have three choices to provision a DB on SkySQL :</p> <p>This Quickstart explains how to launch database services and manage the lifecycle of database services using the\u00a0Portal\u00a0in a web browser.</p> <p>For users who prefer other interfaces, SkySQL offers the following alternatives:</p> <ul> <li>Use the SkySQL web Portal. Make your choices with a few clicks and hit Launch.</li> <li>Use the\u00a0DBaaS API\u00a0with a REST client</li> <li>Use the\u00a0Terraform provider</li> </ul>"},{"location":"Quickstart/#step-1-register-for-skysql","title":"Step 1: Register for SkySQL","text":"<p>Goto app.skysql.com to sign up. You can sign up using your Google, Github or LinkedIn credentials. Or, just use your Email address to sign up. </p> <p></p>"},{"location":"Quickstart/#step-2-launch-a-service","title":"Step 2: Launch a Service","text":"<ol> <li>Log in to the SkySQL Portal\u00a0and from the Dashboard, click the \"+ Launch a Service\" button.</li> </ol> <p>Log in to the SkySQL Portal with your MariaDB ID and launch a service.</p> <p></p> <ol> <li> <p>From the launch interface, select the type of service you want to launch.</p> <p>Click the configuration choices detailed below.</p> <p>https://app.skysql.com/launch-service</p> <p>Select:</p> <ul> <li>Transactions and then \u2018Enterprise Service with Replicas\u2019</li> <li>AWS and\u00a0<code>us-east-2</code>, or Google Cloud and\u00a0<code>us-east1</code>, or a region of your choice</li> <li>Since this Quickstart is a simple test, select:<ul> <li>The smallest instance size</li> <li>100GB of SSD storage</li> </ul> </li> <li>Name the service \"<code>quickstart-1</code></li> <li> <p>Then, click the \"LAUNCH SERVICE\" button.</p> <p></p> <p>For additional information on available selections, see \"Service Launch\".</p> </li> </ul> </li> <li> <p>You will be returned to the Dashboard where your service will be in a \"Creating\" state. </p> </li> </ol> <p>When the service reaches \"Healthy\" state, go to the next step. It typically takes about 5 mins or less to launch a new DB. </p>"},{"location":"Quickstart/#step-3-try-sql-using-the-built-in-sql-editor","title":"Step 3: Try SQL using the built-in SQL Editor","text":"\ud83d\udca1 SQL Editor is only available when using the Replicated topology. The editor is served from the MariaDB smart proxy - Maxscale, which is only available when running with Replicas.    \ud83d\udca1 If you launched a Standalone DB, you can simply click Connect and try out connecting and running SQL from the command line. Follow instructions to whitelist your IP to connect from our desktop/laptop."},{"location":"Quickstart/#query-editor","title":"Query Editor","text":"<p>SkySQL services support most MariaDB-compatible database clients and most popular programming languages (such as Python, Node.js, Java, and PHP).</p> <p>However, with SkySQL's Query Editor, we can query databases directly from the web browser. This can be handy for development and day-to-day operations.</p> <p>To access the Query Editor:</p> <ol> <li>From the Dashboard, click the \"Workspace\" link in the main menu (left navigation).</li> <li>Click the \"Explore\" link on the \"Query Editor\" card.</li> <li> <p>You may be prompted to add your IP address to the Firewall allowlist. Your service will enter a \"Modifying\" state while that change is performed.</p> <p></p> <p>Query Editor - Allowlist</p> </li> <li> <p>Once the Firewall update is completed, you can select your database in Query Editor.</p> <p></p> <p>Query Editor</p> </li> </ol> <p>For additional information on this feature, see \"Query Editor\".</p>"},{"location":"Quickstart/#step-4-observe-scale","title":"Step 4: Observe, Scale","text":""},{"location":"Quickstart/#monitoring","title":"Monitoring","text":"<p>You can monitor all the important database and OS metrics from the dashboard. The monitoring UI also allows you to view,download any/all logs - error, info or Audit logs. </p> <p>Basic status is shown on the Dashboard.</p> <p>To see expanded status and metrics information:</p> <ol> <li>From the Dashboard, click on the service name. (This is \"quickstart-1\" if you used the suggested name.)</li> <li>From the Monitoring Dashboard, you can choose to view service (\"SERVICE OVERVIEW\") or server (\"SERVERS\") details from the left tabs.</li> <li> <p>Specific views are provided for different sets of metrics. These views can be accessed using the buttons in the upper-right corner. From the service overview, views include \"Status\", \"Queries\", and \"Connections\".</p> <p></p> <p>Monitoring Dashboard</p> </li> </ol> <p>Policies (alerting rules) identify \"warning\" and \"critical\" events within status and metrics data. Alerts are customer configurable, but pre-configured with sensible defaults in alignment to typical customer requirements. For additional information, see \"Alerts\".</p>"},{"location":"Quickstart/#scaling","title":"Scaling","text":"<p>SkySQL features automatic rule-based scaling (Autonomous) and manual on-demand scaling.</p> <p>With automatic scaling, node count (horizontal) and node count (vertical) changes can be triggered based on load. Additionally, storage capacity expansion can be triggered based on usage. These Autonomous features are opt-in. For additional information, see \"Autonomous\".</p> <p></p> <p>Autonomous</p> <p>https://app.skysql.com/</p> <p>With manual scaling, you can perform horizontal scaling (In/Out), vertical scaling (Up/Down), and storage expansion on-demand using Self-Service Operations. For additional information, see \"Self-Service Operations\".</p> <p></p> <p>Self-Service Scaling of Nodes</p>"},{"location":"Quickstart/#step-5-tear-down","title":"Step 5: Tear-down","text":"<p>When you are done with your testing session, you can stop the service. When a service is stopped, storage charges continue to accrue, but compute charges pause until the service is started again.</p> <p>When you are done with testing, you can delete the service.</p> <p>Stopping, starting, and deleting a service are examples of Self-Service Operations that you can perform through the Portal.</p> <p>For additional information, see \"Self-Service Operations\".</p> <p>Launch DB using the REST API</p> <p>Launch DB using the Terraform Provider</p>"},{"location":"Quickstart/Launch%20DB%20using%20the%20REST%20API/","title":"Launch DB using the REST API","text":"<p>This walkthrough explains how to launch database services and manage the lifecycle of database services using the SkySQL DBaaS REST API.</p>"},{"location":"Quickstart/Launch%20DB%20using%20the%20REST%20API/#launch-a-service","title":"Launch a Service","text":""},{"location":"Quickstart/Launch%20DB%20using%20the%20REST%20API/#step-1-generate-api-key","title":"Step 1: Generate API Key","text":"<ol> <li>Go to the\u00a0Generate API Key\u00a0page.</li> <li>Fill out the API key details:<ul> <li>In the \"Description\" field, describe the purpose of the API key.</li> <li>In the \"Expiration\" field, specify how long this key will be valid. If you need to revoke the key before it expires, you can revoke it from the\u00a0API Keys\u00a0page.</li> <li>In the \"Scopes\" field, select the \"read\" and \"write\" scopes under\u00a0<code>SkySQL\u00a0API:\u00a0Databases</code>.</li> </ul> </li> <li>Click the \"Generate API Key\" button.</li> <li>After the page refreshes, click the \"Copy to clipboard\" button to copy the API key.</li> <li>Paste the API key somewhere safe and do not lose it.</li> <li> <p>Set the\u00a0<code>SKYSQL_API_KEY</code>\u00a0environment variable to the new API key value:</p> <pre><code>$ export SKYSQL_API_KEY='... key data ...'\n</code></pre> <p>The\u00a0<code>SKYSQL_API_KEY</code>\u00a0environment variable will be used in the subsequent steps.</p> </li> </ol> <p>Note</p> <p>You can use the Swagger docs site we host we try out the API OR  Follow the instructions below to try the API using your command Shell    </p>"},{"location":"Quickstart/Launch%20DB%20using%20the%20REST%20API/#step-2-use-swagger-docs-to-try-out-the-apis","title":"Step 2: Use Swagger docs to try out the APIs","text":"<p>You can use the API Documentation here and directly try out the APIs in your browser. </p> <p>All you need is to click \u2018Authorize\u2019 and type in <code>Bearer &lt;supply your API key here&gt;</code></p> <p>Note</p> <p>** Pre-requisites for code below **</p> <p>The examples below use\u00a0curl\u00a0as the REST client.\u00a0curl\u00a0is available for Linux, macOS, and MS Windows. Of course, you can use any language client that supports invoking REST over HTTP. Examples below also use jq, a JSON parsing utility.\u00a0jq\u00a0is available for Linux, macOS, and MS Windows. Install jq then proceed.</p> <p>The examples also make use of\u00a0tee\u00a0to save the response JSON data to a file while also allowing it to be piped to\u00a0jq\u00a0for output. Both Linux and macOS support\u00a0tee\u00a0as described in the examples. On MS Windows, Powershell has a\u00a0tee\u00a0command that requires the\u00a0-filepath\u00a0option to be inserted prior to the filename.</p> <p>The\u00a0chmod\u00a0command is used to make a file private to the current user. If your environment doesn't support\u00a0chmod, you can set the file's permissions using other means.</p> <p>The examples also make use of exported variables and\u00a0${VARIABLE_NAME}\u00a0variable references that are compatible with Bourne-like shells (such as\u00a0sh,\u00a0bash, and\u00a0zsh). On MS Windows, you will need to adapt these instructions if you are not using a Bourne-like shell. For example, you can copy just the\u00a0jq\u00a0part of an export command (from inside the backticks), run that on its own, and then copy/paste the resulting string into a variable assignment for your shell.</p> <p>Finally, the examples use a backslash at the end of some of the lines to indicate to the shell that a command spans multiple lines. If your shell doesn't allow this, remove each trailing backslash character and join the following line to the end of the current line.</p>"},{"location":"Quickstart/Launch%20DB%20using%20the%20REST%20API/#step-2-determine-the-client-ip-address","title":"Step 2: Determine the Client IP Address","text":"<p>When your new service is created, your client can only connect through the service's firewall if the client IP address is in the service's IP allowlist.</p> <p>Before creating the new service, determine the public IP address of your client host and save it to the\u00a0<code>SKYSQL_CLIENT_IP</code>\u00a0environment variable.</p> <p>If you are not sure of your public IP address, you can use a lookup service, such as\u00a0<code>checkip.amazonaws.com</code>:</p> <pre><code>$ export SKYSQL_CLIENT_IP=`curl -sS checkip.amazonaws.com`\n</code></pre>"},{"location":"Quickstart/Launch%20DB%20using%20the%20REST%20API/#step-3-launch-a-service","title":"Step 3: Launch a Service","text":"<p>To launch a service:</p> <ol> <li>Prepare a request body containing the desired service options in a file called\u00a0<code>request-service.json</code>:</li> </ol> <pre><code>cat &gt; request-service.json &lt;&lt;EOF\n{\n  \"service_type\": \"transactional\",\n  \"topology\": \"es-single\",\n  \"provider\": \"gcp\",\n  \"region\": \"us-central1\",\n  \"architecture\": \"amd64\",\n  \"size\": \"sky-2x8\",\n  \"storage\": 100,\n  \"nodes\": 1,\n  \"name\": \"skysql-quickstart\",\n  \"ssl_enabled\": true,\n  \"allow_list\": [\n     {\n        \"comment\": \"Describe the IP address\",\n        \"ip\": \"${SKYSQL_CLIENT_IP}/32\"\n     }\n  ]\n}\nEOF\n</code></pre> <p>This configuration is suitable for a quick test, but a more customized configuration should be selected for performance testing or for alignment to the needs of production workloads:</p> <ul> <li>For\u00a0<code>service_type</code>, choose a\u00a0Service Type Selection</li> <li>For\u00a0<code>topology</code>, choose a\u00a0Topology Selection</li> <li>For\u00a0<code>provider</code>, choose a\u00a0Cloud Provider Selection\u00a0(<code>aws</code>\u00a0or\u00a0<code>gcp</code>)</li> <li>For\u00a0<code>region</code>, choose a\u00a0Region Selection</li> <li>For\u00a0<code>architecture</code>, choose a\u00a0Hardware Architecture Selection</li> <li>For\u00a0<code>size</code>, choose an\u00a0Instance Size Selection</li> <li>For\u00a0<code>storage</code>, choose a\u00a0Transactional Storage Size Selection</li> <li>For\u00a0<code>nodes</code>, choose a\u00a0Node Count Selection</li> <li>For\u00a0<code>version</code>, choose the\u00a0Software Version Selection</li> <li>For\u00a0<code>name</code>, choose a\u00a0Service Name\u00a0for the new service</li> <li> <p>For\u00a0<code>allow_list</code>, set the client IP address using CIDR notation, so that the client can connect through the\u00a0Firewall</p> </li> <li> <p>Provide the request to the\u00a0<code>[/provisioning/v1/services</code>\u00a0API endpoint](https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services,POST/)\u00a0to create (launch) a new database service and save the response to the\u00a0<code>response-service.json</code>\u00a0file:</p> </li> </ul> <pre><code>curl -sS --location --request POST \\\n   --header \"Authorization: Bearer ${SKYSQL_API_KEY}\" \\\n   --header \"Accept: application/json\" \\\n   --header \"Content-type: application/json\" \\\n   --data '@request-service.json' \\\n   https://api.skysql.com/provisioning/v1/services \\\n   | tee response-service.json | jq .\n</code></pre> <p>Upon success, the command will return JSON with details about the new service.</p> <ol> <li> <p>Read the service ID for the new service and save the value in the\u00a0<code>SKYSQL_SERVICE</code>\u00a0environment variable:</p> <pre><code>$ export SKYSQL_SERVICE=`jq -r .id response-service.json`\n</code></pre> </li> </ol>"},{"location":"Quickstart/Launch%20DB%20using%20the%20REST%20API/#step-4-check-service-state","title":"Step 4: Check Service State","text":"<p>Before advancing, check the service state using the\u00a0<code>[/provisioning/v1/services/${SKYSQL_SERVICE}</code>\u00a0API endpoint](https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services_slash_ocb_service_id_ccb_,GET/):</p> <pre><code>curl -sS --location --request GET \\\n   --header \"Authorization: Bearer ${SKYSQL_API_KEY}\" \\\n   --header \"Accept: application/json\" \\\n   https://api.skysql.com/provisioning/v1/services/${SKYSQL_SERVICE} \\\n   | tee response-state.json | jq .status\n</code></pre> <p>When the service is still being launched, the JSON payload will contain\u00a0<code>\"pending_create\"</code>\u00a0or\u00a0<code>\"pending_modifying\"</code>\u00a0as the service status.</p> <p>When the service has been launched, the JSON payload contains\u00a0<code>\"ready\"</code>, and you can continue with the next steps. Keep in mind that some of the following values will not be populated in the JSON data until this ready status has been achieved.</p>"},{"location":"Quickstart/Launch%20DB%20using%20the%20REST%20API/#step-5-obtain-connection-details","title":"Step 5: Obtain Connection Details","text":"<p>Obtain the connection credentials for the new SkySQL service by executing the following commands:</p> <ol> <li> <p>If\u00a0<code>ssl_enabled</code>\u00a0is\u00a0<code>true</code>\u00a0on your service (the default), download\u00a0<code>[skysql_chain_2022.pem](https://supplychain.mariadb.com/skysql/skysql_chain_2022.pem)</code>, which contains the Certificate Authority chain that is used to verify the server's certificate for TLS:</p> <pre><code>$ curl https://supplychain.mariadb.com/skysql/skysql_chain_2022.pem --output ~/Downloads/skysql_chain_2022.pem\n</code></pre> </li> <li> <p>Obtain the hostname and port of the service and save them to the\u00a0<code>SKYSQL_FQDN</code>\u00a0and\u00a0<code>SKYSQL_PORT</code>\u00a0environment variables:</p> <ul> <li> <p>The hostname is specified with the\u00a0<code>\"fqdn\"</code>\u00a0key.</p> <pre><code>$ export SKYSQL_FQDN=`jq -r .fqdn response-state.json`\n</code></pre> </li> <li> <p>Available TCP ports are specified in the\u00a0<code>\"endpoints\"</code>\u00a0array. For this test, connect to the\u00a0<code>\"port\"</code>\u00a0where\u00a0<code>\"name\"</code>\u00a0is\u00a0<code>\"readwrite\"</code>.</p> <pre><code>$ export SKYSQL_PORT=`jq '.endpoints[0].ports[] | select(.name==\"readwrite\") | .port' response-state.json`\n</code></pre> </li> </ul> </li> <li> <p>Obtain the default username and password for the service using the\u00a0<code>[/provisioning/v1/services/${SKYSQL_SERVICE}/security/credentials</code>\u00a0API endpoint](https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services_slash_ocb_service_id_ccb_slash_security_slash_credentials/)\u00a0and save the response to the\u00a0<code>response-credentials.json</code>\u00a0file:</p> </li> </ol> <pre><code>curl -sS --location --request GET \\\n   --header \"Authorization: Bearer ${SKYSQL_API_KEY}\" \\\n   --header \"Accept: application/json\" \\\n   --header \"Content-type: application/json\" \\\n   https://api.skysql.com/provisioning/v1/services/${SKYSQL_SERVICE}/security/credentials \\\n   | tee response-credentials.json | jq .\n</code></pre> <p>The default username and password will not be available until the service state is\u00a0<code>\"ready\"</code>.</p> <ol> <li> <p>Set the file's mode to only allow the current user to read its contents:</p> <pre><code>$ chmod 600 response-credentials.json\n</code></pre> </li> <li> <p>Read the username and password from\u00a0<code>response-credentials.json</code>\u00a0and save them to the\u00a0<code>SKYSQL_USERNAME</code>\u00a0and\u00a0<code>SKYSQL_PASSWORD</code>\u00a0environment variables:</p> <pre><code>$ export SKYSQL_USERNAME=`jq -r .username response-credentials.json`\n$ export SKYSQL_PASSWORD=`jq -r .password response-credentials.json`\n</code></pre> </li> </ol>"},{"location":"Quickstart/Launch%20DB%20using%20the%20REST%20API/#step-6-connect","title":"Step 6: Connect","text":"<p>Connect to the database using the host, port, and default credentials using the\u00a0<code>[mariadb</code>\u00a0client](https://mariadb.com/docs/skysql-dbaas/ref/mdb/cli/mariadb/):</p> <pre><code>mariadb --host ${SKYSQL_FQDN} --port ${SKYSQL_PORT} \\\n   --user ${SKYSQL_USERNAME} --password=\"${SKYSQL_PASSWORD}\" \\\n   --ssl-ca ~/Downloads/skysql_chain_2022.pem\n</code></pre> <p>If you don't want the password to appear on the command-line, specify the\u00a0<code>[--password</code>\u00a0command-line option](https://mariadb.com/docs/skysql-dbaas/ref/mdb/cli/mariadb/password/)\u00a0without an argument to be prompted for a password.</p>"},{"location":"Quickstart/Launch%20DB%20using%20the%20REST%20API/#step-7-save-connection-information-optional","title":"Step 7: Save Connection Information (Optional)","text":"<p>To connect to your SkySQL service easily, it is possible to create a\u00a0<code>.my.cnf</code>\u00a0file in your home directory that contains all the details of your connection.</p> <ol> <li>Use the following command to create a new\u00a0<code>.my.cnf</code>\u00a0file or overwrite an existing one and populates it with the connection information that was collected in the previous steps:</li> </ol> <pre><code>cat &gt; ~/.my.cnf &lt;&lt;EOF\n[client]\nhost=${SKYSQL_FQDN}\nport=${SKYSQL_PORT}\nuser=${SKYSQL_USERNAME}\npassword=\"${SKYSQL_PASSWORD}\"\nssl-ca=${HOME}/Downloads/skysql_chain_2022.pem\nEOF\n</code></pre> <ol> <li> <p>Set the file system permissions for the\u00a0<code>.my.cnf</code>\u00a0file to ensure that other users can't read it:</p> <pre><code>$ chmod 600 ~/.my.cnf\n</code></pre> </li> <li> <p>When all the connection parameters are in your\u00a0<code>~/.my.cnf</code>\u00a0file, the\u00a0<code>[mariadb</code>\u00a0client](https://mariadb.com/docs/skysql-dbaas/ref/mdb/cli/mariadb/)\u00a0can connect without specifying any command-line options:</p> <pre><code>$ mariadb\n</code></pre> </li> </ol>"},{"location":"Quickstart/Launch%20DB%20using%20the%20REST%20API/#resources","title":"Resources","text":"<ul> <li>API Documentation</li> <li>API Reference Documentation</li> </ul>"},{"location":"Quickstart/Launch%20DB%20using%20the%20Terraform%20Provider/","title":"Launch DB using the Terraform Provider","text":"<p>This walkthrough explains how to launch database services and manage the lifecycle of database services using the Terraform provider.</p> <p>For users who prefer other interfaces, SkySQL offers the following alternatives:</p> <ul> <li>Use the\u00a0Portal\u00a0in a web browser</li> <li>Use the\u00a0DBaaS API\u00a0with a REST client</li> </ul> <p>This walkthrough demonstrates a service configuration that is suitable for a quick test. A more customized configuration should be selected for performance testing or for alignment to the needs of production workloads.</p> <p>Note</p> <p>This procedure uses Terraform. HashiCorp officially supports Terraform on several Linux distributions, but HashiCorp also provides binaries for Microsoft Windows, macOS, and other operating systems.</p> <p>For a list of operating systems that are officially supported for Terraform, see \"HashiCorp Terraform Documentation: Supported Operating Systems\".</p> <p>For a list of operating systems that have binaries available for Terraform, see \"HashiCorp Terraform Documentation: Install Terraform\".</p>"},{"location":"Quickstart/Launch%20DB%20using%20the%20Terraform%20Provider/#dependencies","title":"Dependencies","text":"<ul> <li>This procedure requires Terraform to be installed. For information about how to install Terraform, see \"HashiCorp Terraform Documentation: Install Terraform\".</li> <li>The examples in this procedure also use\u00a0<code>jq</code>, a JSON parsing utility.\u00a0jq\u00a0is available for Linux, macOS, and MS Windows. Install\u00a0<code>jq</code>\u00a0then proceed.</li> <li>The examples in this procedure also use\u00a0<code>curl</code>, a data transfer utility.\u00a0curl\u00a0is available for Linux, macOS, and MS Windows. Install\u00a0<code>curl</code>\u00a0then proceed.</li> <li>The examples in this procedure also use\u00a0<code>wget</code>, a file download utility.\u00a0GNU Wget\u00a0is available for Linux, macOS, and MS Windows. Install\u00a0<code>wget</code>\u00a0then proceed.</li> <li>The examples in this procedure also use exported environment variables that are compatible with Bourne-like shells (such as\u00a0<code>sh</code>,\u00a0<code>bash</code>, and\u00a0<code>zsh</code>).</li> </ul>"},{"location":"Quickstart/Launch%20DB%20using%20the%20Terraform%20Provider/#launch-a-service","title":"Launch a Service","text":""},{"location":"Quickstart/Launch%20DB%20using%20the%20Terraform%20Provider/#step-1-generate-api-key","title":"Step 1: Generate API Key","text":"<ol> <li>Go to the\u00a0Generate API Key\u00a0page.</li> <li>Fill out the API key details:<ul> <li>In the \"Description\" field, describe the purpose of the API key.</li> <li>In the \"Expiration\" field, specify how long this key will be valid. If you need to revoke the key before it expires, you can revoke it from the\u00a0API Keys\u00a0page.</li> <li>In the \"Scopes\" field, select the \"read\" and \"write\" scopes under\u00a0<code>SkySQL\u00a0API:\u00a0Databases</code>.</li> </ul> </li> <li>Click the \"Generate API Key\" button.</li> <li>After the page refreshes, click the \"Copy to clipboard\" button to copy the API key.</li> <li>Paste the API key somewhere safe and do not lose it.</li> </ol>"},{"location":"Quickstart/Launch%20DB%20using%20the%20Terraform%20Provider/#step-2-create-terraform-project-directory","title":"Step 2: Create Terraform Project Directory","text":"<p>Create a directory for your Terraform project and change to the directory:</p> <p><code>$ mkdir -p ~/skysql-nr-tf $ cd ~/skysql-nr-tf</code></p>"},{"location":"Quickstart/Launch%20DB%20using%20the%20Terraform%20Provider/#step-3-create-maintf","title":"Step 3: Create\u00a0<code>main.tf</code>","text":"<p>In the Terraform project directory, create a\u00a0<code>main.tf</code>\u00a0file that contains the following:</p> <ul> <li>Provider Requirements</li> <li>Provider Configuration</li> <li>Resources</li> <li>Data Sources</li> </ul> <pre><code># ---------------------\n# Provider Requirements\n# ---------------------\n# TF Documentation: https://developer.hashicorp.com/terraform/language/providers/requirements\n\nterraform {\n  required_providers {\n    skysql = {\n      source          = \"registry.terraform.io/mariadb-corporation/skysql\"\n    }\n  }\n}\n\n# ----------------------\n# Provider Configuration\n# ----------------------\n# TF Documentation: https://developer.hashicorp.com/terraform/language/providers/configuration\n\nprovider \"skysql\" {\n   access_token       = var.api_key\n}\n\n# ---------\n# Resources\n# ---------\n# TF Documentation: https://developer.hashicorp.com/terraform/language/resources/syntax\n\n# Create a service\nresource \"skysql_service\" \"default\" {\n  service_type        = var.service_type\n  topology            = var.topology\n  cloud_provider      = var.cloud_provider\n  region              = var.region\n  availability_zone   = coalesce(var.availability_zones, data.skysql_availability_zones.default.zones[0].name)\n  architecture        = var.architecture\n  size                = var.size\n  storage             = var.storage\n  nodes               = var.nodes\n  version             = coalesce(var.sw_version, data.skysql_versions.default.versions[0].name)\n  name                = var.name\n  ssl_enabled         = var.ssl_enabled\n  deletion_protection = var.deletion_protection\n  wait_for_creation   = true\n  wait_for_deletion   = true\n  wait_for_update     = true\n  is_active           = true\n  allow_list          = [\n     {\n        \"ip\"          : var.ip_address,\n        \"comment\"     : var.ip_address_comment\n     }\n  ]\n}\n\n# ------------\n# Data Sources\n# ------------\n# TF Documentation: https://developer.hashicorp.com/terraform/language/data-sources\n\n# Retrieve the list of projects. Projects are a way to group services.\ndata \"skysql_projects\" \"default\" {}\n\n# Retrieve the list of available versions for a specific topology\ndata \"skysql_versions\" \"default\" {\n  topology            = var.topology\n}\n\n# Retrieve the service details\ndata \"skysql_service\" \"default\" {\n  service_id          = skysql_service.default.id\n}\n\n# Retrieve the service default credentials.\n# When the service is created please change the default credentials\ndata \"skysql_credentials\" \"default\" {\n  service_id          = skysql_service.default.id\n}\n\ndata \"skysql_availability_zones\" \"default\" {\n  region              = var.region\n  filter_by_provider  = var.cloud_provider\n}\n</code></pre>"},{"location":"Quickstart/Launch%20DB%20using%20the%20Terraform%20Provider/#step-4-create-outputstf","title":"Step 4: Create\u00a0<code>outputs.tf</code>","text":"<p>In the Terraform project directory, create an\u00a0<code>outputs.tf</code>\u00a0file that contains the\u00a0output values\u00a0used to display metadata about the SkySQL service:</p> <pre><code># -------------\n# Output Values\n# -------------\n# TF Documentation: https://developer.hashicorp.com/terraform/language/values/outputs\n\noutput \"skysql_projects\" {\n  value = data.skysql_projects.default\n}\n\n# Show the service details\noutput \"skysql_service\" {\n  value = data.skysql_service.default\n}\n\n# Show the service credentials\noutput \"skysql_credentials\" {\n  value     = data.skysql_credentials.default\n  sensitive = true\n}\n\n# Example how you can generate a command line for the database connection\noutput \"skysql_cmd\" {\n  value = \"mariadb --host ${data.skysql_service.default.fqdn} --port 3306 --user ${data.skysql_service.default.service_id} -p --ssl-ca ~/Downloads/skysql_chain_2022.pem\"\n}\n\noutput \"availability_zones\" {\n  value = data.skysql_availability_zones.default\n}\n</code></pre>"},{"location":"Quickstart/Launch%20DB%20using%20the%20Terraform%20Provider/#step-5-create-variablestf","title":"Step 5: Create\u00a0<code>variables.tf</code>","text":"<p>In the Terraform project directory, create a\u00a0<code>variables.tf</code>\u00a0file that contains the\u00a0input variables\u00a0used to configure the SkySQL service:</p> <pre><code># ---------------\n# Input Variables\n# ---------------\n# TF Documentation: https://developer.hashicorp.com/terraform/language/values/variables\n\nvariable \"api_key\" {\n   type                 = string\n   sensitive            = true\n   description          = \"The SkySQL API Key generated at: https://id.mariadb.com/account/api/generate-key\"\n}\n\nvariable \"service_type\" {\n   type                 = string\n   default              = \"transactional\"\n   description          = \"Specify \\\"transactional\\\" or \\\"analytical\\\". For additional information, see: https://mariadb.com/docs/skysql/ref/skynr/selections/service-types/\"\n}\n\nvariable \"topology\" {\n   type                 = string\n   default              = \"es-single\"\n   description          = \"Specify a topology. For additional information, see: https://mariadb.com/docs/skysql/ref/skynr/selections/topologies/\"\n}\n\nvariable \"cloud_provider\" {\n    type                 = string\n    default              = \"gcp\"\n    description          = \"Specify the cloud provider. For additional information, see: https://mariadb.com/docs/skysql/ref/skynr/selections/providers/\"\n}\n\nvariable \"region\" {\n   type                 = string\n   default              = \"us-central1\"\n   description          = \"Specify the region. For additional information, see: https://mariadb.com/docs/skysql/ref/skynr/selections/regions/\"\n}\n\nvariable \"availability_zone\" {\n   type                 = string\n   default              = null\n   description          = \"Specify the availability zone for the cloud provider and region. For additional information, see: https://mariadb.com/docs/skysql/ref/skynr/selections/availability-zones/\"\n}\n\nvariable \"architecture\" {\n   type                 = string\n   default              = \"amd64\"\n   description          = \"Specify a hardware architecture. For additional information, see: https://mariadb.com/docs/skysql/ref/skynr/selections/architectures/\"\n}\n\nvariable \"size\" {\n   type                 = string\n   default              = \"sky-2x8\"\n   description          = \"Specify the database node instance size. For additional information, see: https://mariadb.com/docs/skysql/ref/skynr/selections/instance-sizes/\"\n}\n\nvariable \"storage\" {\n   type                 = number\n   default              = 100\n   description          = \"Specify a transactional storage size. For additional information, see: https://mariadb.com/docs/skysql/ref/skynr/selections/storage-sizes/\"\n}\n\nvariable \"nodes\" {\n   type                 = number\n   default              = 1\n   description          = \"Specify a node count. For additional information, see: https://mariadb.com/docs/skysql/ref/skynr/selections/node-count/\"\n}\n\nvariable \"sw_version\" {\n   type                 = string\n   default              = null\n   description          = \"Specify a software version. For additional information, see: https://mariadb.com/docs/skysql/ref/skynr/selections/versions/\"\n}\n\nvariable \"name\" {\n   type                 = string\n   default              = \"skysql-nr-quickstart\"\n   description          = \"Specify a name for the service. For additional information, see: https://mariadb.com/docs/skysql/selections/nr-launch-time-service-name/\"\n}\n\nvariable \"ssl_enabled\" {\n   type                 = bool\n   default              = true\n   description          = \"Specify whether TLS should be enabled for the service. For additional information, see: https://mariadb.com/docs/skysql/selections/nr-launch-time-disable-ssltls/\"\n}\n\nvariable \"deletion_protection\" {\n   type                 = bool\n   default              = true\n   description          = \"Specify whether the service can be deleted via Terraform (false) or whether trying to do so raises an error (true)\"\n}\n\nvariable \"ip_address\" {\n   type                 = string\n   description          = \"Specify an IP address in CIDR format to add to the service's IP allowlist. For additional information, see: https://mariadb.com/docs/skysql/security/nr-firewall/\"\n}\n\nvariable \"ip_address_comment\" {\n   type                 = string\n   description          = \"Specify a comment describing the IP address. For additional information, see: https://mariadb.com/docs/skysql/security/nr-firewall/\"\n}\n</code></pre> <p>The variables are configured in the next step.</p>"},{"location":"Quickstart/Launch%20DB%20using%20the%20Terraform%20Provider/#step-6-configure-service-in-a-tfvars-file","title":"Step 6: Configure Service in a\u00a0<code>.tfvars</code>\u00a0File","text":"<p>A\u00a0<code>[.tfvars</code>\u00a0file](https://developer.hashicorp.com/terraform/tutorials/configuration-language/variables#assign-values-with-a-file)\u00a0can be used to configure the service using the input variables.</p> <p>For example:</p> <pre><code>api_key             = \"... key data ...\"\nservice_type        = \"transactional\"\ntopology            = \"es-single\"\ncloud_provider      = \"gcp\"\nregion              = \"us-central1\"\navailability_zone   = null\narchitecture        = \"amd64\"\nsize                = \"sky-2x8\"\nstorage             = 100\nnodes               = 1\nsw_version          = null\nname                = \"skysql-nr-quickstart\"\nssl_enabled         = true\ndeletion_protection = true\nip_address          = \"192.0.2.10/32\"\nip_address_comment  = \"Describe the IP address\"\n</code></pre> <p>The input variables should be customized for your own needs:</p> <ul> <li>For\u00a0<code>api_key</code>, set it to the API key previously created in \"Step 1: Generate API Key\".</li> <li>For\u00a0<code>service_type</code>, choose a\u00a0Service Type Selection</li> <li>For\u00a0<code>topology</code>, choose a\u00a0Topology Selection</li> <li>For\u00a0<code>cloud_provider</code>, choose a\u00a0Cloud Provider Selection</li> <li>For\u00a0<code>region</code>, choose a\u00a0Region Selection</li> <li>For\u00a0<code>availability_zone</code>, choose a\u00a0Availability Zone Selection\u00a0or leave it\u00a0<code>null</code>\u00a0to use the default availability zone for the cloud provider and region</li> <li>For\u00a0<code>architecture</code>, choose a\u00a0Hardware Architecture Selection</li> <li>For\u00a0<code>size</code>, choose an\u00a0Instance Size Selection</li> <li>For\u00a0<code>storage</code>, choose a\u00a0Transactional Storage Size Selection</li> <li>For\u00a0<code>nodes</code>, choose a\u00a0Node Count Selection</li> <li>For\u00a0<code>sw_version</code>, choose the\u00a0Software Version Selection\u00a0or leave it\u00a0<code>null</code>\u00a0to use the default version for the topology</li> <li>For\u00a0<code>name</code>, choose a\u00a0Service Name\u00a0for the new service</li> <li>For\u00a0<code>deletion_protection</code>, choose whether the service can be deleted via Terraform (<code>false</code>) or whether trying to do so raises an error (<code>true</code>)</li> <li>For\u00a0<code>ip_address</code>, choose an IP address to allow through the\u00a0Firewall</li> <li>For\u00a0<code>ip_address_comment</code>, provide a description for the IP address</li> </ul> <p>The following steps assume that the file is called\u00a0<code>skysql-nr-quickstart.tfvars</code>.</p>"},{"location":"Quickstart/Launch%20DB%20using%20the%20Terraform%20Provider/#step-7-run-terraform-init","title":"Step 7: Run\u00a0<code>terraform\u00a0init</code>","text":"<p>Initialize the Terraform project directory and download the Terraform provider from the\u00a0Terraform Registry\u00a0by executing the\u00a0<code>[terraform\u00a0init</code>\u00a0command](https://developer.hashicorp.com/terraform/cli/commands/init):</p> <p><code>$ terraform init</code></p> <p>If you need to download the provider manually, see \"Manually Install Provider from Binary Distribution\".</p>"},{"location":"Quickstart/Launch%20DB%20using%20the%20Terraform%20Provider/#step-8-run-terraform-plan","title":"Step 8: Run\u00a0<code>terraform\u00a0plan</code>","text":"<p>Create a Terraform execution plan by executing the\u00a0<code>[terraform\u00a0plan</code>\u00a0command](https://developer.hashicorp.com/terraform/cli/commands/plan)\u00a0and specifying the path to the\u00a0<code>.tfvars</code>\u00a0file:</p> <p><code>$ terraform plan -var-file=\"skysql-nr-quickstart.tfvars\"</code></p>"},{"location":"Quickstart/Launch%20DB%20using%20the%20Terraform%20Provider/#step-9-run-terraform-apply","title":"Step 9: Run\u00a0<code>terraform\u00a0apply</code>","text":"<p>Execute the Terraform execution plan and create the SkySQL service by executing the\u00a0<code>[terraform\u00a0apply</code>\u00a0command](https://developer.hashicorp.com/terraform/cli/commands/apply)\u00a0and specifying the path to the\u00a0<code>.tfvars</code>\u00a0file:</p> <p><code>$ terraform apply -var-file=\"skysql-nr-quickstart.tfvars\"</code></p> <p>Terraform prints the plan from the previous step again and prompts the user to confirm that the plan should be applied:</p> <pre><code>Do you want to perform these actions?\n  Terraform will perform the actions described above.\n  Only 'yes' will be accepted to approve.\n\n  Enter a value: yes\n</code></pre> <p>Then Terraform creates the objects and prints status messages:</p> <pre><code>skysql_service.default: Creating...\nskysql_service.default: Still creating... [10s elapsed]\nskysql_service.default: Still creating... [20s elapsed]\nskysql_service.default: Still creating... [30s elapsed]\nskysql_service.default: Still creating... [40s elapsed]\nskysql_service.default: Still creating... [50s elapsed]\nskysql_service.default: Still creating... [1m0s elapsed]\nskysql_service.default: Still creating... [1m10s elapsed]\nskysql_service.default: Still creating... [1m20s elapsed]\nskysql_service.default: Still creating... [1m30s elapsed]\nskysql_service.default: Still creating... [1m40s elapsed]\nskysql_service.default: Still creating... [1m50s elapsed]\nskysql_service.default: Still creating... [2m0s elapsed]\nskysql_service.default: Still creating... [2m10s elapsed]\nskysql_service.default: Still creating... [2m20s elapsed]\nskysql_service.default: Still creating... [2m30s elapsed]\nskysql_service.default: Still creating... [2m40s elapsed]\nskysql_service.default: Still creating... [2m50s elapsed]\nskysql_service.default: Still creating... [3m0s elapsed]\nskysql_service.default: Still creating... [3m10s elapsed]\nskysql_service.default: Still creating... [3m20s elapsed]\nskysql_service.default: Still creating... [3m30s elapsed]\nskysql_service.default: Creation complete after 3m40s [id=dbpgf00000001]\ndata.skysql_credentials.default: Reading...\ndata.skysql_service.default: Reading...\ndata.skysql_service.default: Read complete after 0s [name=skysql-nr-quickstart]\ndata.skysql_credentials.default: Read complete after 0s\n\nApply complete! Resources: 1 added, 0 changed, 0 destroyed.\n</code></pre> <p>Then Terraform prints the outputs.</p>"},{"location":"Quickstart/Launch%20DB%20using%20the%20Terraform%20Provider/#step-10-obtain-connection-credentials","title":"Step 10: Obtain Connection Credentials","text":"<p>Obtain the connection credentials for the new SkySQL service by executing the following commands:</p> <ol> <li> <p>Download\u00a0<code>[skysql_chain_2022.pem](https://supplychain.mariadb.com/skysql/skysql_chain_2022.pem)</code>, which contains the Certificate Authority chain that is used to verify the server's certificate for TLS:</p> <p><code>$ curl https://supplychain.mariadb.com/skysql/skysql_chain_2022.pem --output ~/Downloads/skysql_chain_2022.pem</code></p> </li> <li> <p>Obtain the connection command from the\u00a0<code>terraform.tfstate</code>\u00a0file:</p> <p><code>$ jq \".outputs.skysql_cmd\" terraform.tfstate</code></p> <p><code>\"mariadb --host dbpgf00000001.sysp0000.db.skysql.net --port 3306 --user dbpgf00000001 -p --ssl-ca ~/Downloads/skysql_chain_2022.pem\"</code></p> </li> <li> <p>Obtain the user password from the\u00a0<code>terraform.tfstate</code>\u00a0file:</p> <p><code>$ jq \".outputs.skysql_credentials.value.password\" terraform.tfstate</code></p> <p><code>\"..password string..\"</code></p> </li> </ol>"},{"location":"Quickstart/Launch%20DB%20using%20the%20Terraform%20Provider/#step-11-connect","title":"Step 11: Connect","text":"<p>Connect to the SkySQL service by executing the connection command from the previous step:</p> <p><code>$ mariadb --host dbpgf00000001.sysp0000.db.skysql.net --port 3306 --user dbpgf00000001 -p --ssl-ca ~/Downloads/skysql_chain_2022.pem</code></p> <p>When prompted, type the password and press enter to connect:</p> <pre><code>Enter password:\nWelcome to the MariaDB monitor.  Commands end with ; or \\g.\nYour MariaDB connection id is 1059\nServer version: 10.6.11-6-MariaDB-enterprise-log MariaDB Enterprise Server\n\nCopyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.\n\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n\nMariaDB [(none)]&gt;\n</code></pre>"},{"location":"Quickstart/Launch%20DB%20using%20the%20Terraform%20Provider/#step-12-run-terraform-destroy","title":"Step 12: Run\u00a0<code>terraform\u00a0destroy</code>","text":"<p>Delete the service by executing the\u00a0<code>[terraform\u00a0destroy</code>\u00a0command](https://developer.hashicorp.com/terraform/cli/commands/destroy)\u00a0and specifying the path to the\u00a0<code>.tfvars</code>\u00a0file:</p> <p><code>$ terraform destroy -var-file=\"skysql-nr-quickstart.tfvars\"</code></p> <p>Terraform prints the plan to delete the service and prompts the user to confirm that the plan should be applied:</p> <p>`Do you really want to destroy all resources?   Terraform will destroy all your managed infrastructure, as shown above.   There is no undo. Only 'yes' will be accepted to confirm.</p> <p>Enter a value: yes`</p> <p>If deletion protection is enabled for the resources, the operation raises an error:</p> <p><code>\u2577 \u2502 Error: Can not delete service \u2502 \u2502 Deletion protection is enabled \u2575</code></p> <p>If deletion protection is not enabled for the resources, Terraform deletes the resources and prints status messages:</p> <pre><code>skysql_service.default: Destroying... [id=dbpgf00000001]\nskysql_service.default: Still destroying... [id=dbpgf00000001, 10s elapsed]\nskysql_service.default: Still destroying... [id=dbpgf00000001, 20s elapsed]\nskysql_service.default: Still destroying... [id=dbpgf00000001, 30s elapsed]\nskysql_service.default: Still destroying... [id=dbpgf00000001, 40s elapsed]\nskysql_service.default: Still destroying... [id=dbpgf00000001, 50s elapsed]\nskysql_service.default: Still destroying... [id=dbpgf00000001, 1m0s elapsed]\nskysql_service.default: Still destroying... [id=dbpgf00000001, 1m10s elapsed]\nskysql_service.default: Still destroying... [id=dbpgf00000001, 1m20s elapsed]\nskysql_service.default: Still destroying... [id=dbpgf00000001, 1m30s elapsed]\nskysql_service.default: Still destroying... [id=dbpgf00000001, 1m40s elapsed]\nskysql_service.default: Still destroying... [id=dbpgf00000001, 1m50s elapsed]\nskysql_service.default: Still destroying... [id=dbpgf00000001, 2m0s elapsed]\nskysql_service.default: Still destroying... [id=dbpgf00000001, 2m10s elapsed]\nskysql_service.default: Still destroying... [id=dbpgf00000001, 2m20s elapsed]\nskysql_service.default: Still destroying... [id=dbpgf00000001, 2m30s elapsed]\nskysql_service.default: Destruction complete after 2m38s\n\nDestroy complete! Resources: 1 destroyed.\n</code></pre>"},{"location":"Quickstart/Launch%20DB%20using%20the%20Terraform%20Provider/#manually-install-provider-from-binary-distribution","title":"Manually Install Provider from Binary Distribution","text":"<p>The SkySQL New Release Terraform provider can be downloaded from the\u00a0GitHub releases page\u00a0as a binary distribution and manually installed.</p>"},{"location":"Quickstart/Launch%20DB%20using%20the%20Terraform%20Provider/#manually-install-provider-on-linux","title":"Manually Install Provider on Linux","text":"<p>With\u00a0Linux, manually install the provider on the target system by performing the following steps in the same Bash terminal:</p> <ol> <li> <p>Set some environment variables to configure your provider version, OS, and architecture:</p> <p><code>$ export TF_PROVIDER_RELEASE=1.1.0 $ export TF_PROVIDER_OS=linux $ export TF_PROVIDER_ARCH=amd64</code></p> <p>For\u00a0<code>TF_PROVIDER_ARCH</code>, the following architectures are supported on Linux:</p> <ul> <li><code>386</code></li> <li><code>amd64</code></li> <li><code>arm</code></li> <li><code>arm64</code></li> <li>Download the provider from GitHub using\u00a0<code>wget</code>:</li> </ul> <p><code>$ wget -q https://github.com/mariadb-corporation/terraform-provider-skysql/releases/download/v1.1.0/terraform-provider-skysql_${TF_PROVIDER_RELEASE}_${TF_PROVIDER_OS}_${TF_PROVIDER_ARCH}.zip</code></p> </li> <li> <p>Create a Terraform plugin directory:</p> <p><code>$ mkdir -p ~/.terraform.d/plugins/registry.terraform.io/mariadb-corporation/skysql</code></p> </li> <li> <p>Move the provider's binary distribution to the Terraform plugin directory:</p> <p><code>$ mv terraform-provider-skysql_${TF_PROVIDER_RELEASE}_${TF_PROVIDER_OS}_${TF_PROVIDER_ARCH}.zip ~/.terraform.d/plugins/registry.terraform.io/mariadb-corporation/skysql/</code></p> </li> <li> <p>Verify that the provider's binary distribution is present in the Terraform plugin directory:</p> <p><code>$ ls -l ~/.terraform.d/plugins/registry.terraform.io/mariadb-corporation/skysql/</code></p> </li> </ol>"},{"location":"Quickstart/Launch%20DB%20using%20the%20Terraform%20Provider/#manually-install-provider-on-macos","title":"Manually Install Provider on macOS","text":"<p>With\u00a0macOS, manually install the provider on the target system by performing the following steps in the same macOS Terminal:</p> <ol> <li> <p>If\u00a0Homebrew\u00a0is not installed, install it:</p> <p><code>$ /bin/bash -c \"**$(**curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh**)**\"</code></p> </li> <li> <p>Install\u00a0<code>wget</code>\u00a0using Homebrew:</p> <p><code>$ brew install wget</code></p> </li> <li> <p>Set some environment variables to configure your provider version, OS, and architecture:</p> <p><code>$ export TF_PROVIDER_RELEASE=1.1.0 $ export TF_PROVIDER_OS=darwin $ export TF_PROVIDER_ARCH=arm64</code></p> <p>For\u00a0<code>TF_PROVIDER_ARCH</code>, the following architectures are supported on macOS:</p> <ul> <li><code>amd64</code></li> <li><code>arm64</code></li> <li>Download the provider from GitHub using\u00a0<code>wget</code>:</li> </ul> <p><code>$ wget -q https://github.com/mariadb-corporation/terraform-provider-skysql/releases/download/v1.1.0/terraform-provider-skysql_${TF_PROVIDER_RELEASE}_${TF_PROVIDER_OS}_${TF_PROVIDER_ARCH}.zip</code></p> </li> <li> <p>Create a Terraform plugin directory:</p> <p><code>$ mkdir -p ~/.terraform.d/plugins/registry.terraform.io/mariadb-corporation/skysql</code></p> </li> <li> <p>Move the provider's binary distribution to the Terraform plugin directory:</p> <p><code>$ mv terraform-provider-skysql_${TF_PROVIDER_RELEASE}_${TF_PROVIDER_OS}_${TF_PROVIDER_ARCH}.zip ~/.terraform.d/plugins/registry.terraform.io/mariadb-corporation/skysql/</code></p> </li> <li> <p>Verify that the provider's binary distribution is present in the Terraform plugin directory:</p> <p><code>$ ls -l ~/.terraform.d/plugins/registry.terraform.io/mariadb-corporation/skysql/</code></p> </li> </ol>"},{"location":"Quickstart/Launch%20DB%20using%20the%20Terraform%20Provider/#resources","title":"Resources","text":"<ul> <li>GitHub Project</li> <li>Example Terraform Configuration Files</li> <li>Terraform Registry</li> <li>API Documentation</li> <li>API Reference Documentation</li> </ul>"},{"location":"Reference%20Guide/","title":"Reference Guides","text":""},{"location":"Reference%20Guide/#skysql-rest-api-guide","title":"SkySQL REST API Guide","text":""},{"location":"Reference%20Guide/#list-of-all-mariadb-server-variables-that-can-be-configured","title":"List of all MariaDB Server variables that can be configured","text":""},{"location":"Reference%20Guide/#skysql-supported-instance-sizes","title":"SkySQL supported Instance sizes","text":""},{"location":"Reference%20Guide/#skysql-supported-cloud-regions","title":"SkySQL supported Cloud regions","text":""},{"location":"Reference%20Guide/#other-choices-like-az-storage-sizes-etc","title":"Other choices like Az, storage sizes, etc","text":""},{"location":"Reference%20Guide/#skysql-monitoring-metrics-reference","title":"SkySQL Monitoring Metrics Reference","text":""},{"location":"Reference%20Guide/#mariadb-enterprise-server-reference-guide","title":"MariaDB Enterprise Server Reference Guide","text":""},{"location":"Reference%20Guide/#maxscale-reference-guide","title":"MaxScale Reference Guide","text":""},{"location":"Reference%20Guide/#setting-up-mariadb-community-server-colstore-maxscale-in-your-env","title":"Setting up MariaDB Community Server, ColStore, MaxScale in your Env","text":""},{"location":"Reference%20Guide/#setting-up-mariadb-enterprise-server-colstore-maxscale-in-your-env","title":"Setting up MariaDB Enterprise Server, ColStore, MaxScale in your Env","text":""},{"location":"Reference%20Guide/Instance%20Size%20Choices/","title":"Instance Size Choices","text":"<p>Instance size choices are specific to the\u00a0cloud provider,\u00a0topology,\u00a0region, and\u00a0hardware architecture.</p>  \ud83d\udca1 the list below provides available sizes as of Jan 2024. Likely to evolve over time. The [SkySQL portal](http://app.skysql.com) is the best place for accurate information."},{"location":"Reference%20Guide/Instance%20Size%20Choices/#mariadb-server","title":"MariaDB Server","text":"<p>For Foundation tier:</p> Instance Size Cloud Provider CPU Memory sky-2x4 aws 2 vCPU 4 GB sky-2x8 aws 2 vCPU 8 GB sky-2x8 gcp 2 vCPU 8 GB sky-4x16 aws 4 vCPU 16 GB sky-4x16 gcp 4 vCPU 16 GB sky-4x32 aws 4 vCPU 32 GB sky-4x32 gcp 4 vCPU 32 GB sky-8x32 aws 8 vCPU 32 GB sky-8x32 gcp 8 vCPU 32 GB sky-8x64 aws 8 vCPU 64 GB sky-8x64 gcp 8 vCPU 64 GB <p>For Power tier:</p> Instance Size Cloud Provider CPU Memory sky-2x4 aws 2 vCPU 4 GB sky-2x8 aws 2 vCPU 8 GB sky-2x8 gcp 2 vCPU 8 GB sky-4x16 aws 4 vCPU 16 GB sky-4x16 gcp 4 vCPU 16 GB sky-4x32 aws 4 vCPU 32 GB sky-4x32 gcp 4 vCPU 32 GB sky-8x32 aws 8 vCPU 32 GB sky-8x32 gcp 8 vCPU 32 GB sky-8x64 aws 8 vCPU 64 GB sky-16x64 aws 16 vCPU 64 GB sky-16x64 gcp 16 vCPU 64 GB sky-16x128 aws 16 vCPU 128 GB sky-16x128 gcp 16 vCPU 128 GB sky-32x128 aws 32 vCPU 128 GB sky-32x128 gcp 32 vCPU 128 GB sky-32x256 aws 32 vCPU 256 GB sky-32x256 gcp 32 vCPU 256 GB sky-64x256 aws 64 vCPU 256 GB sky-64x256 gcp 64 vCPU 256 GB sky-64x512 aws 64 vCPU 512 GB sky-64x512 gcp 64 vCPU 512 GB"},{"location":"Reference%20Guide/Instance%20Size%20Choices/#maxscale","title":"MaxScale","text":"<p>With Power tier, the following instance sizes can be selected for MaxScale nodes:</p> Instance Size Cloud Provider CPU Memory sky-2x4 aws 2 vCPU 4 GB sky-2x8 gcp 2 vCPU 8 GB sky-4x16 aws 4 vCPU 16 GB sky-4x16 gcp 4 vCPU 16 GB sky-8x32 aws 8 vCPU 32 GB sky-8x32 gcp 8 vCPU 32 GB sky-16x64 aws 16 vCPU 64 GB sky-16x64 gcp 16 vCPU 64 GB sky-32x128 aws 32 vCPU 128 GB sky-32x128 gcp 32 vCPU 128 GB sky-64x256 aws 64 vCPU 256 GB sky-64x256 gcp 64 vCPU 256 GB"},{"location":"Reference%20Guide/Instance%20Size%20Choices/#rest-client","title":"REST Client","text":"<p>A REST client can use the SkySQL DBaaS API to query instance size selections and choose an instance size for a new service.</p>"},{"location":"Reference%20Guide/Instance%20Size%20Choices/#query-database-node-options-with-rest-client","title":"Query Database Node Options with REST Client","text":"<p>A REST client can query the SkySQL DBaaS API for the database node instance size selections for a specific cloud provider, architecture, and topology.</p> <p>To see the available database node instance sizes for a topology, use\u00a0<code>curl</code>\u00a0to call the\u00a0<code>[/provisioning/v1/sizes</code>\u00a0API endpoint](https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_sizes/)\u00a0with\u00a0<code>type=server</code>\u00a0set:</p> <pre><code>curl -sS --location \\\n   --header \"Authorization: Bearer ${SKYSQL_API_KEY}\" \\\n   'https://api.mariadb.com/provisioning/v1/sizes?architecture=amd64&amp;service_type=transactional&amp;provider=gcp&amp;topology=es-replica&amp;type=server' \\\n   | jq .\n</code></pre> <pre><code>[\n  {\n    \"id\": \"37629543-65d2-11ed-8da6-2228d0ae81af\",\n    \"name\": \"sky-2x8\",\n    \"display_name\": \"Sky-2x8\",\n    \"service_type\": \"transactional\",\n    \"provider\": \"gcp\",\n    \"tier\": \"foundation\",\n    \"architecture\": \"amd64\",\n    \"cpu\": \"2 vCPU\",\n    \"ram\": \"8 GB\",\n    \"type\": \"server\",\n    \"default_maxscale_size_name\": \"sky-2x8\",\n    \"updated_on\": \"2022-11-16T17:15:06Z\",\n    \"created_on\": \"2022-11-16T17:15:06Z\",\n    \"is_active\": true,\n    \"topology\": \"es-replica\"\n  },\n  {\n    \"id\": \"37629489-65d2-11ed-8da6-2228d0ae81af\",\n    \"name\": \"sky-4x16\",\n    \"display_name\": \"Sky-4x16\",\n    \"service_type\": \"transactional\",\n    \"provider\": \"gcp\",\n    \"tier\": \"foundation\",\n    \"architecture\": \"amd64\",\n    \"cpu\": \"4 vCPU\",\n    \"ram\": \"16 GB\",\n    \"type\": \"server\",\n    \"default_maxscale_size_name\": \"sky-2x8\",\n    \"updated_on\": \"2022-11-16T17:15:06Z\",\n    \"created_on\": \"2022-11-16T17:15:06Z\",\n    \"is_active\": true,\n    \"topology\": \"es-replica\"\n  },\n....\n\n]\n</code></pre>"},{"location":"Reference%20Guide/Instance%20Size%20Choices/#query-maxscale-node-options-with-rest-client","title":"Query MaxScale Node Options with REST Client","text":"<p>A REST client can query the SkySQL DBaaS API for the MaxScale node instance size selections for a specific cloud provider, architecture, and topology.</p> <p>To see the default MaxScale instance size for a topology, cloud, and architecture, use\u00a0<code>curl</code>\u00a0to call the\u00a0<code>[/provisioning/v1/sizes</code>\u00a0API endpoint](https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_sizes/):</p> <pre><code>curl -sS --location \\\n   --header \"Authorization: Bearer ${SKYSQL_API_KEY}\" \\\n   'https://api.mariadb.com/provisioning/v1/sizes?provider=gcp&amp;architecture=amd64&amp;topology=es-replica' \\\n   | jq .\n</code></pre> <pre><code>[\n   {\n     \"id\": \"c0666ab8-4a3b-11ed-8853-b278760e6ab5\",\n     \"name\": \"sky-2x8\",\n     \"display_name\": \"Sky-2x8\",\n     \"service_type\": \"transactional\",\n     \"provider\": \"gcp\",\n     \"tier\": \"foundation\",\n     \"architecture\": \"amd64\",\n     \"cpu\": \"2 vCPU\",\n     \"ram\": \"8 GB\",\n     \"type\": \"server\",\n     \"default_maxscale_size_name\": \"sky-2x8\",\n     \"updated_on\": \"2022-10-12T14:40:00Z\",\n     \"created_on\": \"2022-10-12T14:40:00Z\",\n     \"is_active\": true,\n     \"topology\": \"es-replica\"\n   }\n]\n</code></pre> <p>The\u00a0<code>default_maxscale_size_name</code>\u00a0attribute shows the default MaxScale instance size.</p> <p>To see the available MaxScale node instance sizes for a topology, use\u00a0<code>curl</code>\u00a0to call the\u00a0<code>[/provisioning/v1/sizes</code>\u00a0API endpoint](https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_sizes/)\u00a0with\u00a0<code>type=proxy</code>\u00a0set:</p> <pre><code>curl -sS --location \\\n   --header \"Authorization: Bearer ${SKYSQL_API_KEY}\" \\\n   'https://api.mariadb.com/provisioning/v1/sizes?architecture=amd64&amp;service_type=transactional&amp;provider=gcp&amp;topology=es-replica&amp;type=proxy' \\\n   | jq .\n</code></pre> <p>The output can show different instance sizes, depending on whether your SkySQL account is Foundation tier or Power tier.</p>"},{"location":"Reference%20Guide/MaxScale%20Reference/","title":"MaxScale Reference","text":""},{"location":"Reference%20Guide/MaxScale%20Reference/#mariadb-maxscale-2208-authenticators","title":"MariaDB MaxScale 22.08 Authenticators","text":"<p>The following Authenticators are supported by MariaDB MaxScale 22.08:</p> Method Authenticator Enterprise Server Plugin Xpand Plugin Description https://mariadb.com/docs/skysql-dbaas/ref/mxs/authenticator/GSSAPI/ GSSAPIAuth https://mariadb.com/docs/server/ref/mdb/plugins/gssapi/ Authenticates client connections using a GSSAPI authentication service https://mariadb.com/docs/skysql-dbaas/ref/mxs/authenticator/Native/ MariaDBAuth https://mariadb.com/docs/skysql-dbaas/ref/mdb/plugins/mysql_native_password/ https://mariadb.com/docs/xpand/security/authentication/xpand/mysql_native_password/ Authenticates client connections using the native password authentication method https://mariadb.com/docs/skysql-dbaas/ref/mxs/authenticator/PAM/ PAMAuth https://mariadb.com/docs/server/ref/mdb/plugins/pam,auth_pam.so/ Authenticates client connections using a Pluggable Authentication Modules (PAM) service <p>To see Authenticators supported in other versions, see\u00a0\"Authenticators by MariaDB MaxScale Version\".</p>"},{"location":"Reference%20Guide/MaxScale%20Reference/#mariadb-maxscale-2208-filters","title":"MariaDB MaxScale 22.08 Filters","text":"<p>The following Filters are supported by MariaDB MaxScale 22.08:</p> Filter Type Description https://mariadb.com/docs/skysql-dbaas/ref/mxs/filter/binlogfilter/ Special Routing Binary Log Filter can be used with the\u00a0binlogrouter\u00a0to selectively replicate Binary Log events to Replica Servers https://mariadb.com/docs/skysql-dbaas/ref/mxs/filter/cache/ Performance Caches the result-sets of\u00a0https://mariadb.com/docs/skysql-dbaas/ref/mdb/sql-statements/SELECT/\u00a0statements to improve query performance https://mariadb.com/docs/skysql-dbaas/ref/mxs/filter/ccrfilter/ Server Selection Consistent Critical Read (CCR) Filter detects when a statement modifies the database, and it attaches routing hints to any subsequent statements, so they get routed to the master https://mariadb.com/docs/skysql-dbaas/ref/mxs/filter/hintfilter/ Server Selection Hint Filter allows services to interpret routing hints, which can be specified in a comment when a query is executed https://mariadb.com/docs/skysql-dbaas/ref/mxs/filter/insertstream/ Performance Insert Stream Filter translates bulk\u00a0https://mariadb.com/docs/skysql-dbaas/ref/mdb/sql-statements/INSERT/\u00a0statements into CSV data that is streamed to the backend server and loaded using the\u00a0https://mariadb.com/docs/skysql-dbaas/ref/mdb/sql-statements/LOAD_DATA_INFILE/\u00a0statement https://mariadb.com/docs/skysql-dbaas/ref/mxs/filter/luafilter/ Programmatic Lua Filter processes queries with the specified Lua scripts (experimental) https://mariadb.com/docs/skysql-dbaas/ref/mxs/filter/masking/ Security Masking Filter obfuscates the return values of specified columns https://mariadb.com/docs/skysql-dbaas/ref/mxs/filter/maxrows/ Performance Max Rows Filter limits the number of rows that\u00a0https://mariadb.com/docs/skysql-dbaas/ref/mdb/sql-statements/SELECT/\u00a0statements, prepared statements, and stored procedures can return https://mariadb.com/docs/skysql-dbaas/ref/mxs/filter/namedserverfilter/ Server Selection Named Server Filter compares queries to specified Regular Expressions, and when the query matches, the filter applies the specified routing hint to the query https://mariadb.com/docs/skysql-dbaas/ref/mxs/filter/qlafilter/ Security Query Log All (QLA) Filter logs matching queries to a CSV file https://mariadb.com/docs/skysql-dbaas/ref/mxs/filter/regexfilter/ Programmatic Regex Filter rewrites matching queries using Regular Expressions https://mariadb.com/docs/skysql-dbaas/ref/mxs/filter/rewritefilter/ Rewrites queries based on a query template https://mariadb.com/docs/skysql-dbaas/ref/mxs/filter/tee/ Special Routing Tee Filter copies client requests to other services https://mariadb.com/docs/skysql-dbaas/ref/mxs/filter/throttlefilter/ Performance Throttle Filter limits the maximum frequency of queries per second allowed for a database session https://mariadb.com/docs/skysql-dbaas/ref/mxs/filter/topfilter/ Performance Top Filter logs the top queries by execution time https://mariadb.com/docs/skysql-dbaas/ref/mxs/filter/tpmfilter/ Performance Transaction Performance Monitoring (TPM) Filter logs information on committed transactions for performance analysis (experimental) <p>To see Filters supported in other versions, see\u00a0\"Filters by MariaDB MaxScale Version\".</p>"},{"location":"Reference%20Guide/MaxScale%20Reference/#mariadb-maxscale-2208-global-parameters","title":"MariaDB MaxScale 22.08 Global Parameters","text":"<p>The following Global Parameters are supported by MariaDB MaxScale 22.08:</p> Global Parameter Description https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_auth/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_auth/ Enables HTTP Basic Access authentication for REST API https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_enabled/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_enabled/ Enables the administrative interface for REST API https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_gui/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_gui/ Enable admin GUI https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_host/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_host/ Network interface the REST API listens on https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_jwt_algorithm/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_jwt_algorithm/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_jwt_algorithm/ JWT signature algorithm https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_jwt_key/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_jwt_key/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_jwt_key/ Encryption key ID for symmetric signature algorithms. If left empty, MaxScale will generate a random key that is used to sign the JWT. https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_log_auth_failures/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_log_auth_failures/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_log_auth_failures/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_log_auth_failures/ Enables logging authentication failures to the administrative interface https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_oidc_url/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_oidc_url/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_oidc_url/ Extra public certificates used to validate externally signed JWTs https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_pam_readonly_service/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_pam_readonly_service/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_pam_readonly_service/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_pam_readonly_service/ Enables PAM-based authentication served for REST API for read-only users https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_pam_readwrite_service/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_pam_readwrite_service/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_pam_readwrite_service/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_pam_readwrite_service/ Enables PAM-based authentication service for REST API for users who can perform any REST API operation https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_port/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_port/ Port on network interface the REST API listenes on https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_secure_gui/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_secure_gui/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_secure_gui/ Only serve GUI over HTTPS https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_ssl_ca/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_ssl_ca/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_ssl_ca/ Path to PEM file containing TLS Certificate Authority (CA) to use in HTTPS for REST API. Formerly admin_ssl_ca_cert. https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_ssl_ca_cert/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_ssl_ca_cert/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_ssl_ca_cert/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_ssl_ca_cert/ Alias for 'admin_ssl_ca' https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_ssl_cert/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_ssl_cert/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_ssl_cert/ Path to PEM file containing TLS certificate to use in HTTPS for REST API https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_ssl_key/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_ssl_key/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_ssl_key/ Path to PEM file containing TLS key to use in HTTPS for REST API https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_ssl_version/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_ssl_version/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_ssl_version/ Minimum required TLS protocol version for the REST API https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_verify_url/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_verify_url/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/admin_verify_url/ URL for third-party verification of client tokens https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/auth_connect_timeout/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/auth_connect_timeout/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/auth_connect_timeout/ Amount of time to wait in seconds for authentication to the Server https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/auth_read_timeout/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/auth_read_timeout/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/auth_read_timeout/ Amount of time to wait in seconds when retrieving user authentication data from the Server https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/auth_write_timeout/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/auth_write_timeout/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/auth_write_timeout/ Amount of time to wait in seconds when retrieving user authentication data from the Server. MaxScale does not write authentication data to the Server. https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/auto_tune/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/auto_tune/ Specifies whether a MaxScale parameter whose value depends on a specific global server variable, should automatically be updated to match the variable's current value https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/cachedir/ Path to the directory containing cached data https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/config_sync_cluster/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/config_sync_cluster/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/config_sync_cluster/ Cluster used for configuration synchronization. If left empty (i.e., value is \"\"), synchronization is not done. https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/config_sync_db/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/config_sync_db/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/config_sync_db/ Database where the 'maxscale_config' table is created https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/config_sync_interval/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/config_sync_interval/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/config_sync_interval/ How often to synchronize the configuration https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/config_sync_password/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/config_sync_password/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/config_sync_password/ Password for the user used for configuration synchronization https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/config_sync_timeout/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/config_sync_timeout/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/config_sync_timeout/ Timeout for the configuration synchronization operations https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/config_sync_user/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/config_sync_user/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/config_sync_user/ User account used for configuration synchronization https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/connector_plugindir/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/connector_plugindir/ Path to MariaDB Connector C plugin directory https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/datadir/ Path to the data directory https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/debug/ Debug options https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/dump_last_statements/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/dump_last_statements/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/dump_last_statements/ Sets condition on which MariaDB MaxScale dumps the last statement sent by the client https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/execdir/ Path to directory containing executable files https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/key_manager/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/key_manager/ Key manager type https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/language/ Path to directory containing the\u00a0errmsg.sys\u00a0file https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/libdir/ Path to the directory searched for modules https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/load_persisted_configs/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/load_persisted_configs/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/load_persisted_configs/ Enables loading persistent runtime configuration changes on startup. Persistent runtime changes are saved to the\u00a0/var/lib/maxscale/maxscale.cnf.d/\u00a0directory. https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/local_address/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/local_address/ Sets local address or network interface to use when connecting to Servers https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/log_augmentation/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/log_augmentation/ Appends logging messages with the name of the function where the message was logged (used primarily for development purposes) https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/log_debug/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/log_debug/ Enables logging messages at the\u00a0debug\u00a0syslog priority https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/log_info/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/log_info/ Enables logging messages at the\u00a0info\u00a0syslog priority https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/log_notice/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/log_notice/ Enables logging messages at the\u00a0notice\u00a0syslog priority https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/log_throttling/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/log_throttling/ Limit the amount of identical log messages than can be logged during a certain time period https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/log_warn_super_user/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/log_warn_super_user/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/log_warn_super_user/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/log_warn_super_user/ Log a warning when a user with super privilege logs in https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/log_warning/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/log_warning/ Enables logging messages at the\u00a0warning\u00a0syslog priority https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/logdir/ Path to directory used to store log files https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/max_auth_errors_until_block/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/max_auth_errors_until_block/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/max_auth_errors_until_block/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/max_auth_errors_until_block/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/max_auth_errors_until_block/ Maximum number of authentication failures allowed before temporarily blocking a host https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/max_read_amount/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/max_read_amount/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/max_read_amount/ Maximum amount of data read before return to epoll_wait https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/maxlog/ Logs messages to the log file https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/module_configdir/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/module_configdir/ Path to directory containing module configurations https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/ms_timestamp/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/ms_timestamp/ Enables millisecond precision in log timestamps https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/passive/ Puts the MaxScale Instance on stand-by, Passive Instances monitor Servers and accept client connections, but take no action https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/persist_runtime_changes/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/persist_runtime_changes/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/persist_runtime_changes/ Persist configurations changes done at runtime https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/persistdir/ Path to directory containing persistent configurations https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/piddir/ Path to the directory containing the PID file https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/query_classifier/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/query_classifier/ Sets the Query Classifier module https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/query_classifier_args/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/query_classifier_args/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/query_classifier_args/ Specifies arguments passed to the Query Classifier https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/query_classifier_cache_size/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/query_classifier_cache_size/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/query_classifier_cache_size/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/query_classifier_cache_size/ Maximum size for Query Classifier Cache https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/query_retries/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/query_retries/ Number of times to retry an internal query interruped by network errors https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/query_retry_timeout/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/query_retry_timeout/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/query_retry_timeout/ Amount of time in seconds to wait on retried queries https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/rebalance_period/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/rebalance_period/ How often should the load of the worker threads be checked and rebalancing be made https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/rebalance_threshold/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/rebalance_threshold/ If the difference in load between the thread with the maximum load and the thread with the minimum load is larger than the value of this parameter, then work will be moved from the former to the latter https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/rebalance_window/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/rebalance_window/ The load of how many seconds should be taken into account when rebalancing https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/retain_last_statements/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/retain_last_statements/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/retain_last_statements/ Number of statements stored for each session. Used in debugging. https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/session_trace/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/session_trace/ Number of log entries stored in the session trace log. Used in debugging. https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/session_trace_match/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/session_trace_match/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/session_trace_match/ Regular expression that is matched against the contents of the session trace log and if it matches the contents are logged when the session stops https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/sharedir/ https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/skip_name_resolve/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/skip_name_resolve/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/skip_name_resolve/ Do not resolve client IP addresses to hostnames during authentication https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/skip_permission_checks/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/skip_permission_checks/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/skip_permission_checks/ Disables user permission checks for services and monitors during startup https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/sql_mode/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/sql_mode/ Specifies SQL Mode for Query Classifier https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/substitute_variables/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/substitute_variables/ Sets environmental variables for cofniguration files https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/syslog/ Logs messages to the syslog https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/threads/ This parameter specifies how many threads will be used for handling the routing https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/users_refresh_interval/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/users_refresh_interval/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/users_refresh_interval/ How often the users will be refreshed https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/users_refresh_time/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/users_refresh_time/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/users_refresh_time/ How often the users can be refreshed https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/writeq_high_water/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/writeq_high_water/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/writeq_high_water/ Maximum size of client-side write queue to a given Server before MaxScale blocks traffic going to the Server to allow it to catch up https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/writeq_low_water/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/writeq_low_water/https://mariadb.com/docs/skysql-dbaas/ref/mxs/global-parameters/writeq_low_water/ Size the client-side write queue must drop to before MaxScale unblocks a throttled Server <p>To see Global Parameters supported in other versions, see\u00a0\"Global Parameters by MariaDB MaxScale Version\".</p>"},{"location":"Reference%20Guide/MaxScale%20Reference/#mariadb-maxscale-2208-module-parameters","title":"MariaDB MaxScale 22.08 Module Parameters","text":"<p>The Module Parameters supported by MariaDB MaxScale 22.08 are listed below.</p> <p>To see Module Parameters supported in other versions, see\u00a0\"Module Parameters by MariaDB MaxScale Version\".</p>"},{"location":"Reference%20Guide/MaxScale%20Reference/#mariadb-monitor-mariadbmon","title":"MariaDB Monitor (mariadbmon)","text":"<p>The parameters for mariadbmon:</p> Parameter Description https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/assume_unique_hostnames/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/assume_unique_hostnames/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/assume_unique_hostnames/ Assume that hostnames are unique https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/auto_failover/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/auto_failover/ Enable automatic server failover https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/auto_rejoin/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/auto_rejoin/ Enable automatic server rejoin https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/backend_connect_attempts,Monitor.mariadbmon/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/backend_connect_attempts,Monitor.mariadbmon/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/backend_connect_attempts,Monitor.mariadbmon/ Number of connection attempts to make to a server https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/backend_connect_timeout,Monitor.mariadbmon/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/backend_connect_timeout,Monitor.mariadbmon/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/backend_connect_timeout,Monitor.mariadbmon/ Connection timeout for monitor connections https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/backend_read_timeout,Monitor.mariadbmon/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/backend_read_timeout,Monitor.mariadbmon/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/backend_read_timeout,Monitor.mariadbmon/ Read timeout for monitor connections https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/backend_write_timeout,Monitor.mariadbmon/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/backend_write_timeout,Monitor.mariadbmon/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/backend_write_timeout,Monitor.mariadbmon/ Write timeout for monitor connections https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/cooperative_monitoring_locks/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/cooperative_monitoring_locks/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/cooperative_monitoring_locks/ Cooperative monitoring type https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/cs_admin_api_key/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/cs_admin_api_key/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/cs_admin_api_key/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/cs_admin_api_key/ The API key used in communication with the ColumnStore admin daemon https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/cs_admin_base_path/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/cs_admin_base_path/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/cs_admin_base_path/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/cs_admin_base_path/ The base path to be used when accessing the ColumnStore administrative daemon. If, for instance, a daemon URL is https://localhost:8640/cmapi/0.4.0/node/start then the admin_base_path is \"/cmapi/0.4.0\". https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/cs_admin_port/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/cs_admin_port/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/cs_admin_port/ Port of the ColumnStore administrative daemon https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/demotion_sql_file/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/demotion_sql_file/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/demotion_sql_file/ Path to SQL file that is executed during node demotion https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/disk_space_check_interval,Monitor.mariadbmon/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/disk_space_check_interval,Monitor.mariadbmon/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/disk_space_check_interval,Monitor.mariadbmon/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/disk_space_check_interval,Monitor.mariadbmon/ How often the disk space is checked https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/disk_space_threshold,Monitor.mariadbmon/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/disk_space_threshold,Monitor.mariadbmon/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/disk_space_threshold,Monitor.mariadbmon/ Disk space threshold https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/enforce_read_only_slaves/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/enforce_read_only_slaves/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/enforce_read_only_slaves/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/enforce_read_only_slaves/ Enable read_only on all slave servers https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/enforce_simple_topology/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/enforce_simple_topology/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/enforce_simple_topology/ Enforce a simple topology https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/enforce_writable_master/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/enforce_writable_master/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/enforce_writable_master/ Disable read_only on the current master server https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/events,Monitor.mariadbmon/ Events that cause the script to be called https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/failcount/ Number of consecutive times MaxScale can fail to reach the Primary Server before it considers it down https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/failover_timeout/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/failover_timeout/ Timeout for failover https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/handle_events/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/handle_events/ Manage server-side events https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/journal_max_age,Monitor.mariadbmon/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/journal_max_age,Monitor.mariadbmon/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/journal_max_age,Monitor.mariadbmon/ The time the on-disk cached server states are valid for https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/maintenance_on_low_disk_space/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/maintenance_on_low_disk_space/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/maintenance_on_low_disk_space/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/maintenance_on_low_disk_space/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/maintenance_on_low_disk_space/ Put the server into maintenance mode when it runs out of disk space https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/master_conditions/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/master_conditions/ Conditions that the master servers must meet https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/master_failure_timeout/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/master_failure_timeout/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/master_failure_timeout/ Master failure timeout https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/monitor_interval,Monitor.mariadbmon/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/monitor_interval,Monitor.mariadbmon/ How often the servers are monitored https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/password,Monitor.mariadbmon/ Password for the user used to monitor the servers https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/promotion_sql_file/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/promotion_sql_file/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/promotion_sql_file/ Path to SQL file that is executed during node promotion https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/rebuild_port/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/rebuild_port/ Listen port used for transferring server backup https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/replication_master_ssl/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/replication_master_ssl/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/replication_master_ssl/ Enable SSL when configuring replication https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/replication_password/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/replication_password/ Password for the user that is used for replication https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/replication_user/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/replication_user/ User used for replication https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/script,Monitor.mariadbmon/ Script to run whenever an event occurs https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/script_max_replication_lag/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/script_max_replication_lag/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/script_max_replication_lag/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/script_max_replication_lag/ Replication lag limit at which the script is run https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/script_timeout,Monitor.mariadbmon/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/script_timeout,Monitor.mariadbmon/ Timeout for the script https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/servers,Monitor.mariadbmon/ List of servers to use https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/servers_no_promotion/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/servers_no_promotion/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/servers_no_promotion/ List of servers that are never promoted https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/slave_conditions/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/slave_conditions/ Conditions that the slave servers must meet https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssh_check_host_key/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssh_check_host_key/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssh_check_host_key/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssh_check_host_key/ Is SSH host key check enabled https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssh_keyfile/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssh_keyfile/ SSH keyfile. Used for running remote commands on servers. https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssh_port/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssh_port/ SSH port. Used for running remote commands on servers. https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssh_timeout/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssh_timeout/ SSH connection and command timeout https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssh_user/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssh_user/ SSH username. Used for running remote commands on servers. https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/switchover_on_low_disk_space/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/switchover_on_low_disk_space/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/switchover_on_low_disk_space/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/switchover_on_low_disk_space/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/switchover_on_low_disk_space/ Perform a switchover when a server runs out of disk space https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/switchover_timeout/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/switchover_timeout/ Timeout for switchover https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/user,Monitor.mariadbmon/ Username used to monitor the servers https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/verify_master_failure/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/verify_master_failure/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/verify_master_failure/ Verify master failure"},{"location":"Reference%20Guide/MaxScale%20Reference/#readwrite-split-router-readwritesplit","title":"Read/Write Split Router (readwritesplit)","text":"<p>The parameters for readwritesplit:</p> Parameter Description https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/auth_all_servers,Router.readwritesplit/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/auth_all_servers,Router.readwritesplit/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/auth_all_servers,Router.readwritesplit/ Retrieve users from all backend servers instead of only one https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/causal_reads/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/causal_reads/ Configures read causality, reads subsequent to writes issued in manner to reduce replication lag https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/causal_reads_timeout/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/causal_reads_timeout/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/causal_reads_timeout/ Timeout for synchronization of the Primary Server with a Replica Server during causal reads https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/connection_keepalive,Router.readwritesplit/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/connection_keepalive,Router.readwritesplit/ How ofted idle connections are pinged https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/connection_timeout,Router.readwritesplit/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/connection_timeout,Router.readwritesplit/ Connection idle timeout https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/delayed_retry/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/delayed_retry/ Retry queries that fail to route due to connection issues https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/delayed_retry_timeout/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/delayed_retry_timeout/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/delayed_retry_timeout/ Timeout for retrying queries that fail to route due to connection issues https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/disable_sescmd_history,Router.readwritesplit/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/disable_sescmd_history,Router.readwritesplit/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/disable_sescmd_history,Router.readwritesplit/ Disable session command history https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/enable_root_user,Router.readwritesplit/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/enable_root_user,Router.readwritesplit/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/enable_root_user,Router.readwritesplit/ Allow the root user to connect to this service https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/force_connection_keepalive,Router.readwritesplit/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/force_connection_keepalive,Router.readwritesplit/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/force_connection_keepalive,Router.readwritesplit/ Ping connections unconditionally https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/idle_session_pool_time,Router.readwritesplit/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/idle_session_pool_time,Router.readwritesplit/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/idle_session_pool_time,Router.readwritesplit/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/idle_session_pool_time,Router.readwritesplit/ Put connections into pool after session has been idle for this long https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/lazy_connect/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/lazy_connect/ Create connections only when needed https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/localhost_match_wildcard_host,Router.readwritesplit/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/localhost_match_wildcard_host,Router.readwritesplit/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/localhost_match_wildcard_host,Router.readwritesplit/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/localhost_match_wildcard_host,Router.readwritesplit/ Match localhost to wildcard host https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/log_auth_warnings,Router.readwritesplit/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/log_auth_warnings,Router.readwritesplit/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/log_auth_warnings,Router.readwritesplit/ Log a warning when client authentication fails https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/log_debug,Router.readwritesplit/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/log_debug,Router.readwritesplit/ Log debug messages for this service (debug builds only) https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/log_info,Router.readwritesplit/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/log_info,Router.readwritesplit/ Log info messages for this service https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/log_notice,Router.readwritesplit/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/log_notice,Router.readwritesplit/ Log notice messages for this service https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/log_warning,Router.readwritesplit/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/log_warning,Router.readwritesplit/ Log warning messages for this service https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/master_accept_reads,Router.readwritesplit/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/master_accept_reads,Router.readwritesplit/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/master_accept_reads,Router.readwritesplit/ Use master for reads https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/master_failure_mode/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/master_failure_mode/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/master_failure_mode/ Master failure mode behavior https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/master_reconnection/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/master_reconnection/ Reconnect to the Primary Server if it changes mid-session https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/max_connections,Router.readwritesplit/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/max_connections,Router.readwritesplit/ Maximum number of connections https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/max_sescmd_history,Router.readwritesplit/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/max_sescmd_history,Router.readwritesplit/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/max_sescmd_history,Router.readwritesplit/ Session command history size https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/max_slave_connections/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/max_slave_connections/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/max_slave_connections/ Maximum number of connections the router session can use to connect to Replica Servers https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/max_slave_replication_lag/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/max_slave_replication_lag/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/max_slave_replication_lag/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/max_slave_replication_lag/ Number of seconds a Replica Server is allowed to fall behind the Primary Server https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/multiplex_timeout,Router.readwritesplit/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/multiplex_timeout,Router.readwritesplit/ How long a session can wait for a connection to become available https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/net_write_timeout,Router.readwritesplit/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/net_write_timeout,Router.readwritesplit/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/net_write_timeout,Router.readwritesplit/ Network write timeout https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/optimistic_trx/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/optimistic_trx/ Optimistically offload transactions to slaves https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/password,Router.readwritesplit/ Password for the user used to retrieve database users https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/prune_sescmd_history,Router.readwritesplit/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/prune_sescmd_history,Router.readwritesplit/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/prune_sescmd_history,Router.readwritesplit/ Prune old session command history if the limit is exceeded https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/rank,Router.readwritesplit/ Service rank https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/retain_last_statements,Router.readwritesplit/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/retain_last_statements,Router.readwritesplit/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/retain_last_statements,Router.readwritesplit/ Number of statements kept in memory https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/retry_failed_reads/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/retry_failed_reads/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/retry_failed_reads/ Automatically retry failed reads outside of transactions https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/reuse_prepared_statements/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/reuse_prepared_statements/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/reuse_prepared_statements/ Reuse identical prepared statements inside the same connection https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/session_trace,Router.readwritesplit/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/session_trace,Router.readwritesplit/ Enable session tracing for this service https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/session_track_trx_state,Router.readwritesplit/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/session_track_trx_state,Router.readwritesplit/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/session_track_trx_state,Router.readwritesplit/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/session_track_trx_state,Router.readwritesplit/ Track session state using server responses https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/slave_connections/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/slave_connections/ Starting number of slave connections https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/slave_selection_criteria/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/slave_selection_criteria/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/slave_selection_criteria/ Criteria the router uses to select Replica Servers in load balancing read operations https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/strict_multi_stmt/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/strict_multi_stmt/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/strict_multi_stmt/ Routes multi-statement queries to the Primary Server https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/strict_sp_calls/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/strict_sp_calls/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/strict_sp_calls/ Routes\u00a0https://mariadb.com/docs/skysql-dbaas/ref/mdb/sql-statements/CALL/\u00a0statements to the Primary Server https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/strip_db_esc,Router.readwritesplit/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/strip_db_esc,Router.readwritesplit/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/strip_db_esc,Router.readwritesplit/ Strip escape characters from database names https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/transaction_replay/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/transaction_replay/ Replays in progress transactions that fail on a different Server https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/transaction_replay_attempts/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/transaction_replay_attempts/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/transaction_replay_attempts/ Maximum number of times to attempt to replay failed transactions https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/transaction_replay_checksum/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/transaction_replay_checksum/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/transaction_replay_checksum/ Type of checksum to calculate for results https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/transaction_replay_max_size/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/transaction_replay_max_size/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/transaction_replay_max_size/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/transaction_replay_max_size/ Maximum size in bytes permitted for transaction replays https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/transaction_replay_retry_on_deadlock/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/transaction_replay_retry_on_deadlock/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/transaction_replay_retry_on_deadlock/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/transaction_replay_retry_on_deadlock/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/transaction_replay_retry_on_deadlock/ Maximum number of times the router attempts to replay transactions in the event that the transaction fails due to deadlocks https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/transaction_replay_retry_on_mismatch/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/transaction_replay_retry_on_mismatch/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/transaction_replay_retry_on_mismatch/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/transaction_replay_retry_on_mismatch/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/transaction_replay_retry_on_mismatch/ Retry transaction on checksum mismatch https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/transaction_replay_timeout/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/transaction_replay_timeout/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/transaction_replay_timeout/ Timeout for transaction replay https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/use_sql_variables_in/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/use_sql_variables_in/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/use_sql_variables_in/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/use_sql_variables_in/ Where the router sends session variable queries https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/user,Router.readwritesplit/ Username used to retrieve database users https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/user_accounts_file,Router.readwritesplit/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/user_accounts_file,Router.readwritesplit/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/user_accounts_file,Router.readwritesplit/ Load additional users from a file https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/user_accounts_file_usage,Router.readwritesplit/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/user_accounts_file_usage,Router.readwritesplit/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/user_accounts_file_usage,Router.readwritesplit/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/user_accounts_file_usage,Router.readwritesplit/ When and how the user accounts file is used https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/version_string,Router.readwritesplit/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/version_string,Router.readwritesplit/ Custom version string to use"},{"location":"Reference%20Guide/MaxScale%20Reference/#mariadb-protocol","title":"MariaDB Protocol","text":"<p>The parameters for MariaDBProtocol:</p> Parameter Description https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/address,Protocol.MariaDBProtocol/ Listener address https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/authenticator,Protocol.MariaDBProtocol/ Listener authenticator https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/authenticator_options,Protocol.MariaDBProtocol/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/authenticator_options,Protocol.MariaDBProtocol/ Authenticator options https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/connection_init_sql_file,Protocol.MariaDBProtocol/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/connection_init_sql_file,Protocol.MariaDBProtocol/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/connection_init_sql_file,Protocol.MariaDBProtocol/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/connection_init_sql_file,Protocol.MariaDBProtocol/ Path to connection initialization SQL https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/port,Protocol.MariaDBProtocol/ Listener port https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/protocol,Protocol.MariaDBProtocol/ Listener protocol to use https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/service,Protocol.MariaDBProtocol/ Service to which the listener connects to https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/socket,Protocol.MariaDBProtocol/ Listener UNIX socket https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/sql_mode,Protocol.MariaDBProtocol/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/sql_mode,Protocol.MariaDBProtocol/ SQL parsing mode https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl,Protocol.MariaDBProtocol/ Enable TLS for server https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_ca,Protocol.MariaDBProtocol/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_ca,Protocol.MariaDBProtocol/ Path to the X.509 certificate authority chain file in PEM format. In MaxScale 6 and earlier, this parameter was named\u00a0https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_ca_cert,Protocol.MariaDBProtocol/. In MaxScale 22.08,\u00a0ssl_ca_cert\u00a0was renamed to\u00a0ssl_ca. For backward compatibility,\u00a0ssl_ca_cert\u00a0can be used as an alias, but MariaDB recommends using\u00a0ssl_ca\u00a0because\u00a0ssl_ca_cert\u00a0has been deprecated. https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_ca_cert,Protocol.MariaDBProtocol/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_ca_cert,Protocol.MariaDBProtocol/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_ca_cert,Protocol.MariaDBProtocol/ Alias for\u00a0https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_ca,Protocol.MariaDBProtocol/ https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_cert,Protocol.MariaDBProtocol/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_cert,Protocol.MariaDBProtocol/ TLS public certificate https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_cert_verify_depth,Protocol.MariaDBProtocol/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_cert_verify_depth,Protocol.MariaDBProtocol/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_cert_verify_depth,Protocol.MariaDBProtocol/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_cert_verify_depth,Protocol.MariaDBProtocol/ TLS certificate verification depth https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_cipher,Protocol.MariaDBProtocol/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_cipher,Protocol.MariaDBProtocol/ TLS cipher list https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_crl,Protocol.MariaDBProtocol/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_crl,Protocol.MariaDBProtocol/ TLS certificate revocation list https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_key,Protocol.MariaDBProtocol/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_key,Protocol.MariaDBProtocol/ TLS private key https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_verify_peer_certificate,Protocol.MariaDBProtocol/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_verify_peer_certificate,Protocol.MariaDBProtocol/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_verify_peer_certificate,Protocol.MariaDBProtocol/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_verify_peer_certificate,Protocol.MariaDBProtocol/ Verify TLS peer certificate https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_verify_peer_host,Protocol.MariaDBProtocol/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_verify_peer_host,Protocol.MariaDBProtocol/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_verify_peer_host,Protocol.MariaDBProtocol/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_verify_peer_host,Protocol.MariaDBProtocol/ Verify TLS peer host https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_version,Protocol.MariaDBProtocol/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_version,Protocol.MariaDBProtocol/ Minimum TLS protocol version https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/user_mapping_file/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/user_mapping_file/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/user_mapping_file/ Path to user and group mapping file"},{"location":"Reference%20Guide/MaxScale%20Reference/#read-connection-router-readconnroute","title":"Read Connection Router (readconnroute)","text":"<p>The parameters for readconnroute:</p> Parameter Description https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/auth_all_servers,Router.readconnroute/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/auth_all_servers,Router.readconnroute/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/auth_all_servers,Router.readconnroute/ Retrieve users from all backend servers instead of only one https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/connection_keepalive,Router.readconnroute/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/connection_keepalive,Router.readconnroute/ How ofted idle connections are pinged https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/connection_timeout,Router.readconnroute/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/connection_timeout,Router.readconnroute/ Connection idle timeout https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/disable_sescmd_history,Router.readconnroute/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/disable_sescmd_history,Router.readconnroute/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/disable_sescmd_history,Router.readconnroute/ Disable session command history https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/enable_root_user,Router.readconnroute/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/enable_root_user,Router.readconnroute/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/enable_root_user,Router.readconnroute/ Allow the root user to connect to this service https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/force_connection_keepalive,Router.readconnroute/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/force_connection_keepalive,Router.readconnroute/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/force_connection_keepalive,Router.readconnroute/ Ping connections unconditionally https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/idle_session_pool_time,Router.readconnroute/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/idle_session_pool_time,Router.readconnroute/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/idle_session_pool_time,Router.readconnroute/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/idle_session_pool_time,Router.readconnroute/ Put connections into pool after session has been idle for this long https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/localhost_match_wildcard_host,Router.readconnroute/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/localhost_match_wildcard_host,Router.readconnroute/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/localhost_match_wildcard_host,Router.readconnroute/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/localhost_match_wildcard_host,Router.readconnroute/ Match localhost to wildcard host https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/log_auth_warnings,Router.readconnroute/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/log_auth_warnings,Router.readconnroute/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/log_auth_warnings,Router.readconnroute/ Log a warning when client authentication fails https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/log_debug,Router.readconnroute/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/log_debug,Router.readconnroute/ Log debug messages for this service (debug builds only) https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/log_info,Router.readconnroute/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/log_info,Router.readconnroute/ Log info messages for this service https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/log_notice,Router.readconnroute/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/log_notice,Router.readconnroute/ Log notice messages for this service https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/log_warning,Router.readconnroute/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/log_warning,Router.readconnroute/ Log warning messages for this service https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/master_accept_reads,Router.readconnroute/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/master_accept_reads,Router.readconnroute/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/master_accept_reads,Router.readconnroute/ Route read operations to the Primary Server or whether it only accepts write operations https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/max_connections,Router.readconnroute/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/max_connections,Router.readconnroute/ Maximum number of connections https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/max_replication_lag,Router.readconnroute/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/max_replication_lag,Router.readconnroute/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/max_replication_lag,Router.readconnroute/ Maximum acceptable replication lag https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/max_sescmd_history,Router.readconnroute/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/max_sescmd_history,Router.readconnroute/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/max_sescmd_history,Router.readconnroute/ Session command history size https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/multiplex_timeout,Router.readconnroute/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/multiplex_timeout,Router.readconnroute/ How long a session can wait for a connection to become available https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/net_write_timeout,Router.readconnroute/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/net_write_timeout,Router.readconnroute/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/net_write_timeout,Router.readconnroute/ Network write timeout https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/password,Router.readconnroute/ Password for the user used to retrieve database users https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/prune_sescmd_history,Router.readconnroute/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/prune_sescmd_history,Router.readconnroute/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/prune_sescmd_history,Router.readconnroute/ Prune old session command history if the limit is exceeded https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/rank,Router.readconnroute/ Service rank https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/retain_last_statements,Router.readconnroute/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/retain_last_statements,Router.readconnroute/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/retain_last_statements,Router.readconnroute/ Number of statements kept in memory https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/router_options,Router.readconnroute/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/router_options,Router.readconnroute/ A comma separated list of server roles https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/session_trace,Router.readconnroute/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/session_trace,Router.readconnroute/ Enable session tracing for this service https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/session_track_trx_state,Router.readconnroute/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/session_track_trx_state,Router.readconnroute/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/session_track_trx_state,Router.readconnroute/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/session_track_trx_state,Router.readconnroute/ Track session state using server responses https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/strip_db_esc,Router.readconnroute/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/strip_db_esc,Router.readconnroute/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/strip_db_esc,Router.readconnroute/ Strip escape characters from database names https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/user,Router.readconnroute/ Username used to retrieve database users https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/user_accounts_file,Router.readconnroute/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/user_accounts_file,Router.readconnroute/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/user_accounts_file,Router.readconnroute/ Load additional users from a file https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/user_accounts_file_usage,Router.readconnroute/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/user_accounts_file_usage,Router.readconnroute/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/user_accounts_file_usage,Router.readconnroute/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/user_accounts_file_usage,Router.readconnroute/ When and how the user accounts file is used https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/version_string,Router.readconnroute/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/version_string,Router.readconnroute/ Custom version string to use"},{"location":"Reference%20Guide/MaxScale%20Reference/#maxscale","title":"MaxScale","text":"<p>The parameters for maxscale:</p> Parameter Description https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_auth/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_auth/ Admin interface authentication https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_enabled/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_enabled/ Admin interface is enabled https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_gui/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_gui/ Enable admin GUI https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_host/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_host/ Admin interface host https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_jwt_algorithm/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_jwt_algorithm/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_jwt_algorithm/ JWT signature algorithm https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_jwt_key/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_jwt_key/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_jwt_key/ Encryption key ID for symmetric signature algorithms. If left empty, MaxScale will generate a random key that is used to sign the JWT. https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_log_auth_failures/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_log_auth_failures/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_log_auth_failures/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_log_auth_failures/ Log admin interface authentication failures https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_oidc_url/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_oidc_url/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_oidc_url/ Extra public certificates used to validate externally signed JWTs https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_pam_readonly_service/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_pam_readonly_service/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_pam_readonly_service/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_pam_readonly_service/ PAM service for read-only users https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_pam_readwrite_service/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_pam_readwrite_service/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_pam_readwrite_service/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_pam_readwrite_service/ PAM service for read-write users https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_port,maxscale.maxscale/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_port,maxscale.maxscale/ Admin interface port https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_secure_gui/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_secure_gui/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_secure_gui/ Only serve GUI over HTTPS https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_ssl_ca/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_ssl_ca/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_ssl_ca/ Admin SSL CA cert https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_ssl_ca_cert/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_ssl_ca_cert/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_ssl_ca_cert/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_ssl_ca_cert/ Alias for 'admin_ssl_ca' https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_ssl_cert/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_ssl_cert/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_ssl_cert/ Admin SSL cert https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_ssl_key/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_ssl_key/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_ssl_key/ Admin SSL key https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_ssl_version/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_ssl_version/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_ssl_version/ Minimum required TLS protocol version for the REST API https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_verify_url/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_verify_url/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/admin_verify_url/ URL for third-party verification of client tokens https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/auth_connect_timeout/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/auth_connect_timeout/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/auth_connect_timeout/ Connection timeout for fetching user accounts https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/auth_read_timeout/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/auth_read_timeout/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/auth_read_timeout/ Read timeout for fetching user accounts (deprecated) https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/auth_write_timeout/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/auth_write_timeout/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/auth_write_timeout/ Write timeout for for fetching user accounts (deprecated) https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/auto_tune/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/auto_tune/ Specifies whether a MaxScale parameter whose value depends on a specific global server variable, should automatically be updated to match the variable's current value https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/config_sync_cluster/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/config_sync_cluster/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/config_sync_cluster/ Cluster used for configuration synchronization. If left empty (i.e., value is \"\"), synchronization is not done. https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/config_sync_db/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/config_sync_db/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/config_sync_db/ Database where the 'maxscale_config' table is created https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/config_sync_interval/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/config_sync_interval/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/config_sync_interval/ How often to synchronize the configuration https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/config_sync_password/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/config_sync_password/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/config_sync_password/ Password for the user used for configuration synchronization https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/config_sync_timeout/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/config_sync_timeout/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/config_sync_timeout/ Timeout for the configuration synchronization operations https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/config_sync_user/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/config_sync_user/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/config_sync_user/ User account used for configuration synchronization https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/debug,maxscale.maxscale/ Debug options https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/dump_last_statements/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/dump_last_statements/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/dump_last_statements/ In what circumstances should the last statements that a client sent be dumped https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/key_manager/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/key_manager/ Key manager type https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/load_persisted_configs/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/load_persisted_configs/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/load_persisted_configs/ Specifies whether persisted configuration files should be loaded on startup https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/local_address,maxscale.maxscale/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/local_address,maxscale.maxscale/ Local address to use when connecting https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/log_debug,maxscale.maxscale/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/log_debug,maxscale.maxscale/ Specifies whether debug messages should be logged (meaningful only with debug builds) https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/log_info,maxscale.maxscale/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/log_info,maxscale.maxscale/ Specifies whether info messages should be logged https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/log_notice,maxscale.maxscale/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/log_notice,maxscale.maxscale/ Specifies whether notice messages should be logged https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/log_throttling/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/log_throttling/ Limit the amount of identical log messages than can be logged during a certain time period https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/log_warn_super_user/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/log_warn_super_user/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/log_warn_super_user/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/log_warn_super_user/ Log a warning when a user with super privilege logs in https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/log_warning,maxscale.maxscale/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/log_warning,maxscale.maxscale/ Specifies whether warning messages should be logged https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/max_auth_errors_until_block/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/max_auth_errors_until_block/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/max_auth_errors_until_block/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/max_auth_errors_until_block/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/max_auth_errors_until_block/ The maximum number of authentication failures that are tolerated before a host is temporarily blocked https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/max_read_amount/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/max_read_amount/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/max_read_amount/ Maximum amount of data read before return to epoll_wait https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/maxlog/ Log to MaxScale's own log https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ms_timestamp/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ms_timestamp/ Enable or disable high precision timestamps https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/passive/ True if MaxScale is in passive mode https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/persist_runtime_changes/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/persist_runtime_changes/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/persist_runtime_changes/ Persist configurations changes done at runtime https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/query_classifier/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/query_classifier/ The name of the query classifier to load https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/query_classifier_args/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/query_classifier_args/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/query_classifier_args/ Arguments for the query classifier https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/query_classifier_cache_size/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/query_classifier_cache_size/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/query_classifier_cache_size/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/query_classifier_cache_size/ Type: size, default value is 15% of available memory https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/query_retries/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/query_retries/ Number of times an interrupted query is retried https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/query_retry_timeout/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/query_retry_timeout/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/query_retry_timeout/ The total timeout in seconds for any retried queries https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/rebalance_period/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/rebalance_period/ How often should the load of the worker threads be checked and rebalancing be made https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/rebalance_threshold/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/rebalance_threshold/ If the difference in load between the thread with the maximum load and the thread with the minimum load is larger than the value of this parameter, then work will be moved from the former to the latter https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/rebalance_window/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/rebalance_window/ The load of how many seconds should be taken into account when rebalancing https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/retain_last_statements,maxscale.maxscale/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/retain_last_statements,maxscale.maxscale/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/retain_last_statements,maxscale.maxscale/ How many statements should be retained for each session for debugging purposes https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/session_trace,maxscale.maxscale/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/session_trace,maxscale.maxscale/ How many log entries are stored in the session specific trace log https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/session_trace_match/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/session_trace_match/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/session_trace_match/ Regular expression that is matched against the contents of the session trace log and if it matches the contents are logged when the session stops https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/skip_name_resolve/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/skip_name_resolve/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/skip_name_resolve/ Do not resolve client IP addresses to hostnames during authentication https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/skip_permission_checks/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/skip_permission_checks/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/skip_permission_checks/ Skip service and monitor permission checks https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/sql_mode,maxscale.maxscale/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/sql_mode,maxscale.maxscale/ The query classifier sql mode https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/syslog/ Log to syslog https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/threads/ Type: count, default value is based on cpu count https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/users_refresh_interval/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/users_refresh_interval/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/users_refresh_interval/ How often the users will be refreshed https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/users_refresh_time/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/users_refresh_time/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/users_refresh_time/ How often the users can be refreshed https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/writeq_high_water/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/writeq_high_water/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/writeq_high_water/ High water mark of dcb write queue https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/writeq_low_water/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/writeq_low_water/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/writeq_low_water/ Low water mark of dcb write queue"},{"location":"Reference%20Guide/MaxScale%20Reference/#server-objects","title":"Server Objects","text":"<p>The parameters for server objects:</p> Parameter Description https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/address,servers.servers/ Server address https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/authenticator,servers.servers/ Server authenticator (deprecated) https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/disk_space_threshold,servers.servers/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/disk_space_threshold,servers.servers/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/disk_space_threshold,servers.servers/ Server disk space threshold https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/extra_port/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/extra_port/ Server extra port https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/max_routing_connections/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/max_routing_connections/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/max_routing_connections/ Maximum routing connections https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/monitorpw/ Monitor password https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/monitoruser/ Monitor user https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/persistmaxtime/ Maximum time that a connection can be in the pool https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/persistpoolmax/ Maximum size of the persistent connection pool https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/port,servers.servers/ Server port https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/priority/ Server priority https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/protocol,servers.servers/ Server protocol (deprecated) https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/proxy_protocol/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/proxy_protocol/ Enable proxy protocol https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/rank,servers.servers/ Server rank https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/socket,servers.servers/ Server UNIX socket https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl,servers.servers/ Enable TLS for server https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_ca,servers.servers/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_ca,servers.servers/ Path to the X.509 certificate authority chain file in PEM format. In MaxScale 6 and earlier, this parameter was named\u00a0https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_ca_cert,servers.servers/. In MaxScale 22.08,\u00a0ssl_ca_cert\u00a0was renamed to\u00a0ssl_ca. For backward compatibility,\u00a0ssl_ca_cert\u00a0can be used as an alias, but MariaDB recommends using\u00a0ssl_ca\u00a0because\u00a0ssl_ca_cert\u00a0has been deprecated. https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_ca_cert,servers.servers/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_ca_cert,servers.servers/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_ca_cert,servers.servers/ Alias for\u00a0https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_ca,servers.servers/ https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_cert,servers.servers/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_cert,servers.servers/ TLS public certificate https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_cert_verify_depth,servers.servers/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_cert_verify_depth,servers.servers/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_cert_verify_depth,servers.servers/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_cert_verify_depth,servers.servers/ TLS certificate verification depth https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_cipher,servers.servers/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_cipher,servers.servers/ TLS cipher list https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_key,servers.servers/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_key,servers.servers/ TLS private key https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_verify_peer_certificate,servers.servers/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_verify_peer_certificate,servers.servers/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_verify_peer_certificate,servers.servers/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_verify_peer_certificate,servers.servers/ Verify TLS peer certificate https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_verify_peer_host,servers.servers/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_verify_peer_host,servers.servers/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_verify_peer_host,servers.servers/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_verify_peer_host,servers.servers/ Verify TLS peer host https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_version,servers.servers/https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/ssl_version,servers.servers/ Minimum TLS protocol version https://mariadb.com/docs/skysql-dbaas/ref/mxs/module-parameters/type,servers.servers/ Object type"},{"location":"Reference%20Guide/MaxScale%20Reference/#mariadb-maxscale-2208-monitors","title":"MariaDB MaxScale 22.08 Monitors","text":"<p>The following Monitors are supported by MariaDB MaxScale 22.08:</p> Monitor Description https://mariadb.com/docs/skysql-dbaas/ref/mxs/monitor/auroramon/ Tracks Servers in an Amazon Aurora deployment https://mariadb.com/docs/skysql-dbaas/ref/mxs/monitor/csmon/ Tracks Servers in a MariaDB ColumnStore deployment https://mariadb.com/docs/skysql-dbaas/ref/mxs/monitor/galeramon/ Tracks Servers in a MariaDB Enterprise Cluster deployment https://mariadb.com/docs/skysql-dbaas/ref/mxs/monitor/grmon/ Tracks Servers in a MySQL Group Replication deployment https://mariadb.com/docs/skysql-dbaas/ref/mxs/monitor/mariadbmon/ Tracks Servers in a MariaDB Replication deployment https://mariadb.com/docs/skysql-dbaas/ref/mxs/monitor/xpandmon/ A Xpand cluster monitor <p>To see Monitors supported in other versions, see\u00a0\"Monitors by MariaDB MaxScale Version\".</p>"},{"location":"Reference%20Guide/MaxScale%20Reference/#mariadb-maxscale-2208-maxscale-protocols","title":"MariaDB MaxScale 22.08 MaxScale Protocols","text":"<p>MariaDB MaxScale uses protocols to specify how it communicates with a given client, server, or back-end.</p> <p>The following MaxScale Protocols are supported by MariaDB MaxScale 22.08:</p> Protocol Description CDC Used with connections to a CDC service MariaDBProtocol The client to MaxScale MySQL protocol implementation nosqlprotocol MaxScale NoSQL client protocol implementation <p>To see MaxScale Protocols supported in other versions, see\u00a0\"MaxScale Protocols by MariaDB MaxScale Version\".</p>"},{"location":"Reference%20Guide/MaxScale%20Reference/#mariadb-maxscale-2208-routers","title":"MariaDB MaxScale 22.08 Routers","text":"<p>The following Routers are supported by MariaDB MaxScale 22.08:</p> Router Type Description https://mariadb.com/docs/skysql-dbaas/ref/mxs/routing/avrorouter/ Replication Avro Router renders Binary Log events to JSON or Avro files and passed through the CDC Protocol to other services, like Kafka or Hadoop https://mariadb.com/docs/skysql-dbaas/ref/mxs/routing/binlogrouter/ Replication Binary Log Router serves binlog events to Replica Servers https://mariadb.com/docs/skysql-dbaas/ref/mxs/routing/cat/ Query Cat Router sends queries to all Servers https://mariadb.com/docs/skysql-dbaas/ref/mxs/routing/hintrouter/ Query Hint Router uses routing hints to specify where to send queries https://mariadb.com/docs/skysql-dbaas/ref/mxs/routing/kafkacdc/ Replicate data changes from MariaDB to Kafka https://mariadb.com/docs/skysql-dbaas/ref/mxs/routing/kafkaimporter/ Stream Kafka messages into MariaDB https://mariadb.com/docs/skysql-dbaas/ref/mxs/routing/mirror/ Mirrors SQL statements to multiple targets https://mariadb.com/docs/skysql-dbaas/ref/mxs/routing/readconnroute/ Query Read Connection Router balances the query load across the available Servers https://mariadb.com/docs/skysql-dbaas/ref/mxs/routing/readwritesplit/ Query Read/Write Splitter sends write operations to the Primary Server and balances the query load of read operations between the Replica Servers https://mariadb.com/docs/skysql-dbaas/ref/mxs/routing/replicator/ https://mariadb.com/docs/skysql-dbaas/ref/mxs/routing/schemarouter/ Query Schema Router provides simple sharding of data across multiple Servers https://mariadb.com/docs/skysql-dbaas/ref/mxs/routing/smartrouter/ Provides routing for the Smart Query feature <p>To see Routers supported in other versions, see\u00a0\"Routers by MariaDB MaxScale Version\".</p>"},{"location":"Reference%20Guide/Monitoring%20Metrics%20Reference/","title":"Monitoring Metrics Reference","text":"Panel Name UI Tab Scope Panel Type Description https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Aborted_Connections/ status server singlestat This panel shows the number of aborted connections for the ES node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Adaptive_Avg_Select_Time,server,cluster,graph/ cluster server graph This panel shows the average time taken by the MaxScale node to perform read operations during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Adaptive_Avg_Select_Time,server,cluster,stat/ cluster server stat This panel shows the average time taken by the MaxScale node to perform read operations https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Adaptive_Avg_Select_Time,server,performance,graph/ performance server graph This panel shows the average time taken by the MaxScale node to perform read operations during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Adaptive_Avg_Select_Time,server,performance,stat/ performance server stat This panel shows the average time taken by MaxScale to perform read operations https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Average_Network_Latency,server/ historical server graph This panel shows the average network latency over the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Average_Network_Latency,service/ historical service graph This panel shows the average network latency over the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Average_Network_Latency_in_the_last_24_hours_(5_minute_intervals)/ system service graph This panel shows the average network latency in 5 minute intervals over the past 24 hours https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Average_Network_Latency_over_the_last_24_hours_(5_minute_intervals)/ system server graph This panel shows the average network latency in 5 minute intervals over the past 24 hours https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Buffer_Pool_Size_of_Total_RAM/ status server mariadb-pie-chart This panel shows the current size of the InnoDB buffer pool for the ES node in two units: the absolute size and the percentage of the server's usable memory https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Cluster_Component/ cluster server singlestat This panel shows the status of Enterprise Cluster on the ES node https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Cluster_State_UUID_vs._Local_State_UUID/ cluster service table This panel compares the Enterprise Cluster's state UUID to each ES node's local state UUID https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Connected/ cluster server singlestat This panel shows whether the ES node is connected to other ES nodes in the cluster over the network https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Connection_Pool_Empty,server,cluster,graph/ cluster server graph This panel shows the number of times that the MaxScale node's connection pool has been empty when a connection has been requested during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Connection_Pool_Empty,server,cluster,stat/ cluster server stat This panel shows the number of times that the MaxScale node's connection pool has been empty when a connection has been requested https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Connection_Pool_Empty,server,performance/ performance server graph This panel shows the number of times that the MaxScale node's connection pool has been empty when a connection has been requested during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Connection_Pool_Empty,server,status,graph/ status server graph This panel shows the number of times that the MaxScale node's connection pool has been empty when a connection has been requested during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Connection_Pool_Empty,server,status,stat/ status server stat This panel shows the number of times that the MaxScale node's connection pool has been empty when a connection has been requested https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Connections,server,cluster/ cluster server singlestat This panel shows the number of clients connected to the MaxScale node https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Connections,server,cluster,stat/ cluster server stat This panel shows the number of clients connected to the MaxScale node https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Connections,server,status/ status server stat This panel shows the number of clients connected to the MaxScale node https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Connections,service/ status service table This panel shows the number of used and aborted connections for each ES node along with the\u00a0max_connections\u00a0value https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Connections_slash_minute/ historical service graph This panel shows the total number of connection attempts (successful and unsuccessful) to the service during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Connections_slash_minute_in_the_last_24_hours/ connections service graph This panel shows the total number of connection attempts (successful and unsuccessful) to the service over the past 24 hours https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Container_Memory_Distribution/ historical server graph This panel shows details about an Xpand node's RAM usage during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Container_Memory_Distribution_in_the_last_24_hours_(5_minute_intervals)/ system server graph This panel shows details about an Xpand node's RAM usage in 5 minute intervals over the past 24 hours https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Container_Memory_Hourly/ system service graph This panel shows details about each Xpand node's RAM usage in 1 hour intervals https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Container_Memory_Usage/ historical service graph This panel shows details about each Xpand node's RAM usage during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Container_Memory_Usage_in_the_last_24_hours_(5_minute_intervals)/ system service graph This panel shows details about each Xpand node's RAM usage in 5 minute intervals over the past 24 hours https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Container_Row_Operations/ historical server graph This panel shows the number of row operations executed by the Xpand node for each type of operation during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Core_0_Utilization/ historical server graph This panel shows the CPU usage of core 0 for the Xpand node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/CPU,server,historical/ historical server graph This panel shows the CPU usage for the Xpand node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/CPU,server,status,gauge/ status server gauge This panel shows the current CPU usage for the ES or Xpand node https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/CPU,server,status,graph/ status server graph This panel shows the CPU usage for the ES or Xpand node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/CPU,service/ system service graph This panel shows the CPU usage for each Xpand node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/CPU_Load,service,status/ status service graph This panel shows the CPU usage for each ES node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/CPU_Load,service,system/ system service graph This panel shows the CPU usage for each ES node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/CPU_Usage/ historical service graph This panel shows the CPU usage for each Xpand node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/CPU_Usage_slash_Load/ system server graph This panel shows the CPU usage for the ES node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/CPU_Usage_in_the_last_24_hours_(5_minute_intervals)/ system server graph This panel shows the CPU usage for the Xpand node in 5 minute intervals over the past 24 hours https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/CPU_Usage_over_the_last_24_hours_(5_minute_intervals)/ system service graph This panel shows the CPU usage for each Xpand node in 5 minute intervals over the past 24 hours https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Current_Average_Cluster_Latency_-_Read/ queries service singlestat This panel shows the average amount of time the cluster spent executing read queries before returning a result set during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Current_Average_Cluster_Latency_-_Write/ queries service singlestat This panel shows the average amount of time the cluster spent executing write queries before returning a result set during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Current_CPU_Usage/ system server gauge This panel shows the current CPU usage for the Xpand node https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Current_Execution_Times/ queries service mariadb-pie-chart This panel shows the time required to execute queries during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Current_Memory_Usage/ system server bargauge This panel shows the percentage of working memory currently used by the Xpand node https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Current_QPS/ status server singlestat This panel shows the number of queries per second (QPS) processed by the ES node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Current_Rebalancer_Actions/ status service table This panel shows the number of times the Xpand Rebalancer executed certain tasks during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Current_SQL_Commands,server/ status server mariadb-pie-chart This panel shows the ratio between the types of SQL statements executed by the ES node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Current_SQL_Commands,service/ status service mariadb-pie-chart This panel shows the ratio between the types of SQL statements executed by the service during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Current_Storage/ system server bargauge This panel shows the percentage of storage space that is currently used by the Xpand node https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Database_Server_Connections/ cluster server graph This panel shows the number of database server connections open between the MaxScale node and each ES or Xpand node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Disk_size,server/ status server table This panel shows the amount of storage space currently used by the ES or Xpand node https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Disk_size,service/ system service table This panel shows the amount of storage space currently used by the ES or Xpand node https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Disk_Size_by_Partition,service,status/ status service table This panel shows the amount of storage space used (as the usage percentage, actual size, and total size) by each ES node https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Disk_Size_by_Partition,server/ system server graph This panel shows the amount of storage space used by the ES node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Disk_Size_by_Partition,service,system/ system service graph This panel shows the amount of storage space used by all ES nodes during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Disk_space_usage/ historical service graph This panel shows the percentage of storage space used by each Xpand node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Disk_space_usage_in_the_last_24_hours_(5_minute_intervals)/ system service graph This panel shows the amount of storage space used by each Xpand node in 5 minute intervals over the past 24 hours https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Errors,server,cluster/ cluster server graph This panel shows the number of errors encountered by threads on the MaxScale node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Errors,server,performance/ performance server graph This panel shows the number of errors encountered by threads on the MaxScale node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Event_Queue_Length,server,cluster/ cluster server graph This panel shows the total event queue length for all threads on the MaxScale node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Event_Queue_Length,server,performance/ performance server graph This panel shows the total event queue length for all threads on the MaxScale node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Exec_Primary_Log_Position/ replicas service graph This panel shows the current binary log position of the replica SQL thread for each ES node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Flow_Control_Commits,server/ cluster server graph This panel shows the sequence number of the latest writeset applied by Enterprise Cluster on the ES node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Flow_Control_Commits,service/ cluster service graph This panel shows the sequence number of the latest writeset applied by Enterprise Cluster on all ES nodes during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Flow_Control_Pauses,server/ cluster server graph This panel shows the fraction of time that Enterprise Cluster was paused on the ES node due to flow control during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Flow_Control_Pauses,service/ cluster service graph This panel shows the fraction of time that Enterprise Cluster was paused on all ES nodes due to flow control during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/GTID_Replication_Position,service,lags/ lags service graph This panel shows the Global Transaction ID (GTID) for each ES node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/GTID_Replication_Position,service,replicas/ replicas service graph This panel shows the Global Transaction ID (GTID) for each ES node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/I_slash_O_Activity,server,status/ status server graph This panel shows the total number of bytes written to or read from the ES node's file system during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/I_slash_O_Activity,server,system/ system server graph This panel shows the total number of bytes written to or read from the ES node's file system during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/I_slash_O_Activity_-_Page_In/ system service graph This panel shows the total number of bytes read from the ES node's file system during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/I_slash_O_Activity_-_Page_Out/ system service graph This panel shows the total number of bytes written to the ES node's file system during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/I_slash_O_Latency,server/ historical server graph This panel shows the latency for I/O operations performed by the Xpand node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/I_slash_O_Latency,service/ historical service graph This panel shows the latency for I/O operations performed by all Xpand nodes during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/I_slash_O_Latency_in_the_last_24_hours_(5_minute_intervals)/ system service graph This panel shows the latency for I/O operations performed by all Xpand nodes in 5 minute intervals over the past 24 hours https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/I_slash_O_Latency_over_the_last_24_hours_(5_minute_intervals)/ system server graph This panel shows the latency for I/O operations performed by the Xpand node in 5 minute intervals over the past 24 hours https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/InnoDB_Data_slash_sec,server,status/ status server graph This panel shows the number of bytes per second read and written by InnoDB during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/InnoDB_Data_slash_sec,server,system/ system server graph This panel shows the number of bytes per second read and written by InnoDB during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Integrity_of_clusters_(Split_Brain)/ cluster service table This panel shows Enterprise Cluster metadata that can help determine the integrity of the cluster https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/IOPS/ system server graph This panel shows the number of input/output operations per second performed by the ES node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/IOPS_-_Page_In/ system service graph This panel shows the total number of reads performed from the ES node's file system during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/IOPS_-_Page_Out/ system service graph This panel shows the total number of writes performed from the ES node's file system during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Local_Received_Queue,server/ cluster server graph This panel shows details about the size of the Enterprise Cluster receive queue on the ES node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Local_Received_Queue,service/ cluster service graph This panel shows details about the size of the Enterprise Cluster receive queue on all ES nodes during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Local_Send_Queue,server/ cluster server graph This panel shows details about the size of the Enterprise Cluster send queue on the ES node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Local_Send_Queue,service/ cluster service graph This panel shows details about the size of the Enterprise Cluster send queue on all ES nodes during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/MariaDB_Aborted_Connections,server/ database server graph This panel shows the number of connections aborted by the ES node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/MariaDB_Aborted_Connections,service/ database service graph This panel shows the number of connections aborted by the ES node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/MariaDB_Client_Thread_Activity,server/ database server graph This panel shows the number of client threads connected and running on the ES node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/MariaDB_Client_Thread_Activity,service/ queries service graph This panel shows the number of client threads running on all ES nodes during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/MariaDB_Connections/ database server graph This panel shows the number of client connections to the ES node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/MariaDB_Handlers_slash_sec/ queries server graph This panel shows how many internal query handlers per second have been created by the ES node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/MariaDB_Memory_Overview/ system server graph This panel shows how much memory the ES node used for the InnoDB buffer pool, InnoDB log buffer, MyISAM key buffer, and query cache during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/MariaDB_Network_Traffic,server/ system server graph This panel shows the amount of data sent and received over the network by the database server on the ES node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/MariaDB_Network_Traffic,service/ system service graph This panel shows the amount of data sent and received over the network by the database servers on all ES nodes during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/MariaDB_Network_Usage_Hourly,server/ system server graph This panel shows the amount of data sent and received over the network per hour by the database server on the ES node over the past 24 hours https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/MariaDB_Network_Usage_Hourly,service/ system service graph This panel shows the amount of data sent and received over the network per hour by the database servers on all ES nodes over the past 24 hours https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/MariaDB_Open_Files/ database server graph This panel shows the number of files opened by the database server on the ES node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/MariaDB_Open_Tables,server/ database server graph This panel shows the number of tables opened by the database server on the ES node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/MariaDB_Open_Tables,service/ database service graph This panel shows the number of tables opened by the database servers on all ES nodes during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/MariaDB_Opened_Files_slash_sec/ database server graph This panel shows the number of files opened per second by the database server on the ES node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/MariaDB_QPS/ queries service graph This panel shows the number of queries per second (QPS) executed by all ES nodes during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/MariaDB_QPS_and_Questions/ queries server graph This panel shows the number of queries and questions per second executed by the ES node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/MariaDB_Questions_slash_sec/ queries service graph This panel shows the number of questions per second executed by all ES nodes during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/MariaDB_Select_Types/ queries server graph This panel shows the number of times the ES node has used certain execution strategies to execute\u00a0SELECT\u00a0statements during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/MariaDB_Service_Connections/ database service graph This panel shows the number of clients connected to the ES node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/MariaDB_Slow_Queries,server/ queries server graph This panel shows the number of slow queries executed by the ES node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/MariaDB_Slow_Queries,service,queries/ queries service graph This panel shows the number of slow queries executed by all ES nodes during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/MariaDB_Slow_Queries,service,status/ status service graph This panel shows the number of slow queries executed by all ES nodes during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/MariaDB_Sorts/ queries server graph This panel shows the number of times the ES node has used certain algorithms to sort data during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/MariaDB_Table_Definition_Cache/ caches server graph This panel shows how many table definitions were cached by the ES node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/MariaDB_Table_Locks,server/ database server graph This panel shows the number of table locks requested by the ES node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/MariaDB_Table_Locks,service/ database service graph This panel shows the number of table locks requested by all ES nodes during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/MariaDB_Table_Open_Cache_Status/ caches server graph This panel shows the activity of the table open cache on the ES node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/MariaDB_Table_Opened/ database service graph This panel shows the number of tables that have been opened by all ES nodes during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/MariaDB_Thread_Cache/ caches server graph This panel shows the number of threads created and cached for re-use on the ES node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/MariaDB_Transaction_Handlers_slash_sec/ queries server graph This panel shows the number of transaction-related handlers created by the ES node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Max_Connections,server,cluster,graph/ cluster server graph This panel shows the highest number of clients that were concurrently connected to the MaxScale node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Max_Connections,server,cluster,stat/ cluster server stat This panel shows the highest number of clients that have ever been concurrently connected to the MaxScale node https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Max_Connections,server,status,graph/ status server graph This panel shows the highest number of clients that were concurrently connected to the MaxScale node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Max_Connections,server,status,stat/ status server stat This panel shows the highest number of clients that have ever been concurrently connected to the MaxScale node https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Max_Pool_Size,server,cluster,graph/ cluster server graph This panel shows the highest number of connections that were in the MaxScale node's connection pool during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Max_Pool_Size,server,cluster,stat/ cluster server stat This panel shows the highest number of connections that have ever been in the MaxScale node's connection pool https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Max_Pool_Size,server,performance/ performance server graph This panel shows the highest number of connections that were in the MaxScale node's connection pool during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Max_Pool_Size,server,status/ status server stat This panel shows the highest number of connections that have ever been in the MaxScale node's connection pool https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Max_Time_in_Queue,server,cluster/ cluster server graph This panel shows the longest time the MaxScale node waited for an I/O event during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Max_Time_in_Queue,server,status/ status server graph This panel shows the longest time the MaxScale node waited for an I/O event during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/MaxScale_Connections/ cluster server graph This panel shows the number of clients connected to the MaxScale node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/MaxScale_Descriptors,server,cluster/ cluster server graph This panel shows the number of descriptors used by the MaxScale node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/MaxScale_Descriptors,server,performance/ performance server graph This panel shows the number of descriptors used by the MaxScale node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/MaxScale_Hangups,server,cluster/ cluster server graph This panel shows the number of client connections closed by the MaxScale node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/MaxScale_Hangups,server,performance/ performance server graph This panel shows the number of client connections closed by the MaxScale node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/MaxScale_Modules/ modules server table This panel lists the modules installed on the MaxScale node https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/MaxScale_Server_Connections/ database service graph This panel shows the number of client connections open between the MaxScale node and each ES node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/MaxScale_Service_Connections/ database service graph This panel shows the number of clients connected to all MaxScale nodes during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Memory,server,cluster/ cluster server graph This panel shows memory usage details for the MaxScale node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Memory,server,performance/ performance server graph This panel shows memory usage details for the MaxScale node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Memory_Distribution/ system server graph This panel shows memory usage details for the ES node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Memory_Usage/ system service graph This panel shows memory usage details for all ES nodes during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Memory_Utilization,server/ historical server graph This panel shows memory usage details for the Xpand node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Memory_Utilization,service/ historical service graph This panel shows memory usage details for all Xpand nodes during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Memory_Utilization_in_the_last_24_hours_(5_minute_intervals),server/ system server graph This panel shows memory usage details for the Xpand node in 5 minute intervals over the past 24 hours https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Memory_Utilization_in_the_last_24_hours_(5_minute_intervals),service/ system service graph This panel shows memory usage details for all Xpand nodes in 5 minute intervals over the past 24 hours https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Network_Data/ historical server graph This panel shows the amount of data sent and received over the network by the database server on the Xpand node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Network_Errors,server/ system server graph This panel shows the number of network errors encountered by the ES node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Network_Errors,service/ system service graph This panel shows the number of network errors encountered by all ES nodes during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Network_Packets_Dropped,server/ system server graph This panel shows the number of network packets dropped by the ES node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Network_Packets_Dropped,service/ system service graph This panel shows the number of network packets dropped by all ES nodes during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Network_Traffic,server,status/ status server graph This panel shows the amount of data sent and received over the network by the operating system on the ES node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Network_Traffic,server,system/ system server graph This panel shows the amount of data sent and received over the network by the operating system on the ES node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Network_Traffic_-_Inbound/ system service graph This panel shows the amount of data received over the network by the operating systems on all ES nodes during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Network_Traffic_-_Outbound/ system service graph This panel shows the amount of data sent over the network by the operating systems on all ES nodes during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Node_Queues/ cluster service table This panel shows details about the size of the Enterprise Cluster send and receive queues on all ES nodes https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Node_Status/ cluster service table This panel shows details about the size of the Enterprise Cluster send and receive queues on all ES nodes https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Nodes_in_Cluster/ status service stat This panel shows the number of Xpand nodes that are currently in the cluster https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Nodes_in_quorum/ status service stat This panel shows the number of Xpand nodes that are currently in quorum https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Persistent_Connections,server,cluster,graph/ cluster server graph This panel shows the number of connections in the MaxScale node's connection pool during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Persistent_Connections,server,cluster,stat/ cluster server stat This panel shows the number of connections currently in the MaxScale node's connection pool https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Persistent_Connections,server,status,graph/ status server graph This panel shows the number of connections in the MaxScale node's connection pool during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Persistent_Connections,server,status,stat/ status server stat This panel shows the number of connections currently in the MaxScale node's connection pool https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/QPS,service,historical/ historical service graph This panel shows the queries per second (QPS) executed by all Xpand nodes during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/QPS,service,queries/ queries service singlestat This panel shows the queries per second (QPS) executed by all Xpand nodes during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/QPS,service,status/ status service graph This panel shows the queries per second (QPS) executed by the ES node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/QPS_(at_5_minute_intervals)/ queries service graph This panel shows the average queries per second (QPS) executed by all Xpand nodes in 5 minute intervals over the past 24 hours https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/QPS_Hourly/ queries service graph This panel shows the average queries per second (QPS) executed by all Xpand nodes in 1 hour intervals over the past 24 hours https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Queries_per_second_by_Query_Type/ historical service graph This panel shows the queries per second (QPS) of certain query types executed by all Xpand nodes during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Query_Latency/ historical service graph This panel shows the average amount of time all Xpand nodes spent executing queries before returning a result set during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Query_Latency_over_the_last_24_hours_(5_minute_intervals)/ queries service graph This panel shows the average amount of time all Xpand nodes spent executing queries before returning a result set in 5 minute intervals over the past 24 hours https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Queue_Received/ lags service graph This panel shows details about the size of the Enterprise Cluster receive queue on all ES nodes during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Queue_Send/ lags service graph This panel shows details about the size of the Enterprise Cluster send queue on all ES nodes during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/RAM,server,status/ status server gauge This panel shows the current memory usage details for the ES or Xpand node https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/RAM,server,status,graph/ status server graph This panel shows memory usage details for the ES or Xpand node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/RAM,service/ system service graph This panel shows memory usage details for all Xpand nodes during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Read_Primary_Log_Position/ replicas service graph This panel shows the current binary log position of the replica I/O thread for each ES node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Ready/ cluster server singlestat This panel shows whether Enterprise Cluster is ready for queries on the ES node https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Rebalancer_-_Underprotected_Slices/ status service stat This panel shows the number of slices in the cluster that are currently unprotected https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Rebalancer_Activity/ historical service graph This panel shows the number of times the Xpand Rebalancer executed certain tasks during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Rebalancer_Activity_in_the_last_24_hours/ status service graph This panel shows the number of times the Xpand Rebalancer executed certain tasks over the past 24 hours https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Rebalancer_Jobs/ status service stat This panel shows the number of tasks currently scheduled in the Xpand Rebalancer's priority queue https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Replicas_lags/ status service table This panel shows average values for certain replication-related metadata to help determine if the replica ES nodes are currently lagging behind the primary ES node https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Replicas_status/ status service table This panel shows summarized values for certain replication-related metadata to help determine if any replica ES nodes encountered replication issues during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Replicated_Writeset_Bytes,server/ cluster server graph This panel shows how many bytes the ES node replicated to other ES nodes in the cluster in 5 minute intervals over the past 24 hours https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Replicated_Writeset_Bytes,service/ cluster service graph This panel shows how many bytes all ES nodes replicated to other ES nodes in the cluster in 5 minute intervals over the past 24 hours https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Replicated_Writesets,server/ cluster server graph This panel shows how many writesets the ES node replicated to other ES nodes in the cluster in 5 minute intervals over the past 24 hours https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Replicated_Writesets,service/ cluster service graph This panel shows how many writesets all ES nodes replicated to other ES nodes in the cluster in 5 minute intervals over the past 24 hours https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Replication_Latency/ cluster server graph This panel shows details about latency from Enterprise Cluster replication on the ES node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Resident,server,cluster/ cluster server gauge This panel shows the current resident set size (RSS) of the MaxScale process https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Resident,server,status/ status server gauge This panel shows the current resident set size (RSS) of the MaxScale process https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Reused_Connections,server,cluster,graph/ cluster server graph This panel shows the number of times a connection was successfully reused from the MaxScale node's connection pool during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Reused_Connections,server,cluster,stat/ cluster server stat This panel shows the number of times a connection was successfully reused from the MaxScale node's connection pool https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Reused_Connections,server,status,graph/ status server graph This panel shows the number of times a connection was successfully reused from the MaxScale node's connection pool during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Reused_Connections,server,status,stat/ status server stat This panel shows the number of times a connection was successfully reused from the MaxScale node's connection pool https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/RO_Service_Connections/ status server singlestat This panel shows the number of clients currently connected to the MaxScale node's read-only listener https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Routed_Packets,server,cluster/ cluster server graph This panel shows the number of MariaDB protocol packets routed by the MaxScale node https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Routed_Packets,server,performance/ performance server graph This panel shows the number of MariaDB protocol packets routed by the MaxScale node https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Rows_slash_sec/ status server graph This panel shows the total number of rows written and read per second by the ES node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/RW_Service_Connections/ status server singlestat This panel shows the number of clients currently connected to the MaxScale node's read-write listener https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/RW_slash_sec,server,cluster/ cluster server graph This panel shows the number of read and write operations per second that were handled by the threads on the MaxScale node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/RW_slash_sec,server,status/ status server graph This panel shows the number of read and write operations per second that were handled by the threads on the MaxScale node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Seconds_Behind_Primary/ replicas service graph This panel shows the average number of seconds that the replica ES nodes lagged behind the primary ES node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Sequentially_in_Parallel,server/ cluster server graph This panel shows the average distance between the highest and lowest sequence numbers for writesets applied in parallel by Enterprise Cluster on the ES node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Sequentially_in_Parallel,service/ cluster service graph This panel shows the average distance between the highest and lowest sequence numbers for writesets applied in parallel by Enterprise Cluster on all ES nodes during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Server_Connections/ status server graph This panel shows the number of client connections open between the MaxScale node and each ES node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Server_Routed_Packets,server,cluster/ cluster server graph This panel shows the number of MariaDB protocol packets routed by the MaxScale node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Server_Routed_Packets,server,performance/ performance server graph This panel shows the number of MariaDB protocol packets routed by the MaxScale node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Server_Routed_Packets,server,status/ status server bargauge This panel shows the number of MariaDB protocol packets routed by the MaxScale node over the past 5 minutes https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Service_Connections/ status server graph This panel shows the number of clients connected to the MaxScale node's listeners during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Session_time_in_state/ historical service graph This panel shows the total length of time for all Xpand nodes that client connections were in each connection state during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Session_time_in_state_in_the_last_24_hours_(5_minute_intervals)/ connections service graph This panel shows the total length of time for all Xpand nodes that client connections were in each connection state in 5 minute intervals over the past 24 hours https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Session_transaction_age/ historical service graph This panel shows the session transaction age for all Xpand nodes during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Session_transaction_age_in_the_last_24_hours_(5_minute_intervals)/ connections service graph This panel shows the session transaction age for all Xpand nodes in 5 minute intervals over the past 24 hours https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Sessions/ historical service graph This panel shows how many client connections on all Xpand nodes were in each connection state during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Sessions_in_the_last_24_hours_(5_minute_intervals)/ connections service graph This panel shows how many client connections on all Xpand nodes were in each connection state in 5 minute intervals over the past 24 hours https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Stack_size,server,cluster/ cluster server gauge This panel shows the current stack size of the MaxScale node https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Stack_size,server,status/ status server gauge This panel shows the current stack size of the MaxScale node https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Status/ cluster server singlestat This panel shows the current local state of the ES node according to Enterprise Cluster https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Storage/ historical server graph This panel shows the total amount of storage space used by each Xpand node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Storage_allocation/ historical service graph This panel shows the amount of storage space allocated to each Xpand node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Storage_allocation_in_the_last_24_hours_(5_minute_intervals)/ system service graph This panel shows the amount of storage space allocated to each Xpand node in 5 minute intervals over the past 24 hours https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Storage_in_the_last_24_hours_(5_minute_intervals)/ system server graph This panel shows the total amount of storage space used by each Xpand node in 5 minute intervals over the past 24 hours https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Temporary_Objects_Created/ database server graph This panel shows the number of temporary tables created by the ES node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Threads/ cluster server singlestat This panel shows the number of threads currently used by the MaxScale node https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Threads_Count/ status server singlestat This panel shows the number of threads currently used by the MaxScale node https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/TIL_Core_Utilization/ historical server graph This panel shows the CPU usage of each CPU core (excluding core-0) for the Xpand node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Top_Command_Counters,service,historical/ historical service graph This panel shows how often certain statement types were executed by the Xpand node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Top_Command_Counters,server/ queries server graph This panel shows the top 30 statement types that were most frequently executed by the ES node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Top_Command_Counters,service,queries/ queries service graph This panel shows the top 30 statement types that were most frequently executed by all ES nodes during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Top_Command_Counters_Hourly,server/ queries server graph This panel shows the top 30 statement types that were most frequently executed by the ES node in 1 hour intervals over the past 24 hours https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Top_Command_Counters_Hourly,service/ queries service graph This panel shows the top 30 statement types that were most frequently executed by all ES and Xpand nodes in 1 hour intervals over the past 24 hours https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Top_Command_Counters_in_the_last_24_hours_(5_minute_intervals)/ queries service graph This panel shows how often certain statement types were executed by all Xpand nodes in 5 minute intervals over the past 24 hours https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Total_Active_Operations,server,cluster,graph/ cluster server graph This panel shows the total number of queries that were actively being executed by the MaxScale node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Total_Active_Operations,server,cluster,stat/ cluster server stat This panel shows the total number of queries that are actively being executed by the MaxScale node https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Total_Active_Operations,server,status,graph/ status server graph This panel shows the total number of queries that were actively being executed by the MaxScale node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Total_Active_Operations,server,status,stat/ status server stat This panel shows the total number of queries that are actively being executed by the MaxScale node https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Total_Connections,server,cluster,graph/ cluster server graph This panel shows the total number of connections created by the MaxScale node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Total_Connections,server,cluster,stat/ cluster server stat This panel shows the total number of connections created by the MaxScale node since the MaxScale node was started https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Total_Connections,server,status,graph/ status server graph This panel shows the total number of connections created by the MaxScale node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Total_Connections,server,status,stat/ status server stat This panel shows the total number of connections created by the MaxScale node since the MaxScale node was started https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/TPS,service,historical/ historical service graph This panel shows the average transactions per second (TPS) executed by all Xpand nodes during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/TPS,service,queries/ queries service singlestat This panel shows the average transactions per second (TPS) executed by all Xpand nodes during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/TPS_(at_5_minute_intervals)/ queries service graph This panel shows the average transactions per second (TPS) executed by all Xpand nodes in 5 minute intervals over the past 24 hours https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/TPS_Hourly/ queries service graph This panel shows the average transactions per second (TPS) executed by all Xpand nodes in 1 hour intervals over the past 24 hours https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Uptime/ status service singlestat This panel shows how long all Xpand nodes have been online https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Used_Connections/ status server mariadb-pie-chart This panel shows the current number of client connections as a percentage of the ES node's\u00a0max_connections\u00a0value https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Utilization,server,cluster/ cluster server bargauge This panel shows details about the CPU and memory usage for the MaxScale node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Utilization,server,status/ status server bargauge This panel shows details about the CPU and memory usage for the MaxScale node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/WAL_sync_time/ historical service graph This panel shows the average time the Xpand nodes required to sync changes to the Write Ahead Log (WAL) during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/WAL_sync_time_in_the_last_24_hours_(5_minute_intervals)/ status service graph This panel shows the average time the Xpand nodes required to sync changes to the Write Ahead Log (WAL) in 5 minute intervals over the past 24 hours https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Xpand_Memory_Distribution/ historical server graph This panel shows details about memory usage for the Xpand node during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Xpand_Memory_Distribution_in_the_last_24_hours_(5_minute_intervals)/ system server graph This panel shows details about memory usage for the Xpand node in 5 minute intervals over the past 24 hours https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Xpand_Total_Memory/ historical service graph This panel shows the total memory usage for all Xpand nodes during the selected time interval https://mariadb.com/docs/skysql-dbaas/ref/skymon/panels/Xpand_Total_Memory_in_the_last_24_hours_(5_minute_intervals)/ system service graph This panel shows the total memory usage for all Xpand nodes in 5 minute intervals over the past 24 hours"},{"location":"Reference%20Guide/REST%20API%20Reference/","title":"REST API Reference","text":"<p>The MariaDB SkySQL DBaaS API is a REST API that can perform operations in MariaDB SkySQL using automation.</p> <p>Note</p> <p>The easiest way to get started with the API is to use this swagger Docs. Just generate your API key as described on this page, Click \u2018Authorize\u2019 and enter \u2018Bearer  and try out any of the APIs.**"},{"location":"Reference%20Guide/REST%20API%20Reference/#supported-endpoints","title":"Supported Endpoints","text":"<p>The supported endpoints are as follows:</p> API Path Method Summary https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_billing_slash_v1_slash_account/ GET Returns account record based on X-SkySQL-Org-Id header value https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_billing_slash_v1_slash_invoices/ GET Returns list of invoices https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_billing_slash_v1_slash_invoices_slash_ocb_invoice_uid_ccb/https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_billing_slash_v1_slash_invoices_slash_ocb_invoice_uid_ccb/ GET Returns invoice for specified Chargify invoice uid https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_billing_slash_v1_slash_usage_slash_preview/ GET Returns usage allocation summary https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_billing_slash_v1_slash_usage_slash_service/ GET Returns usage allocation summary https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_billing_slash_v1_slash_usage_slash_service_slash_ocb_service_id_ccb/https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_billing_slash_v1_slash_usage_slash_service_slash_ocb_service_id_ccb/ GET Returns usage allocation summary for specified service ID https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_architectures/ GET Read Architectures https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_configs,GET/ GET List Custom Configs https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_configs,POST/ POST Create Custom Config https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_configs_slash_ocb_config_id_ccb_,DELETE/https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_configs_slash_ocb_config_id_ccb_,DELETE/ DELETE Delete Custom Config https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_configs_slash_ocb_config_id_ccb_,GET/https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_configs_slash_ocb_config_id_ccb_,GET/ GET Read Custom Config https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_configs_slash_ocb_config_id_ccb_slash_values,GET/https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_configs_slash_ocb_config_id_ccb_slash_values,GET/ GET Get Config Values https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_configs_slash_ocb_config_id_ccb_slash_values,PUT/https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_configs_slash_ocb_config_id_ccb_slash_values,PUT/ PUT Batch Update Config Values https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_cpu-architectures/ GET Read Architectures https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_maintenance-windows/ GET Read Maintenance Windows https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_products/ GET List Products https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_providers/ GET Read Cloud Providers https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_providers_slash_ocb_provider_name_ccb_slash_iops/https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_providers_slash_ocb_provider_name_ccb_slash_iops/ GET Read Provider IOPS https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_providers_slash_ocb_provider_name_ccb_slash_volume-types/https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_providers_slash_ocb_provider_name_ccb_slash_volume-types/ GET Read Storage Volume Types https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_providers_slash_ocb_provider_name_ccb_slash_zones/https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_providers_slash_ocb_provider_name_ccb_slash_zones/ GET Read Availability Zones for a specific provider https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_regions/ GET Read Regions https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_regions_slash_ocb_region_name_ccb_slash_zones/https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_regions_slash_ocb_region_name_ccb_slash_zones/ GET Read Zones https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_service-types/ GET Read Service Types https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services,GET/ GET List Services https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services,POST/ POST Create a Service https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services_slash_ocb_service_id_ccb_,DELETE/https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services_slash_ocb_service_id_ccb_,DELETE/ DELETE Delete Service https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services_slash_ocb_service_id_ccb_,GET/https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services_slash_ocb_service_id_ccb_,GET/ GET Retrieve Service Info https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services_slash_ocb_service_id_ccb_slash_config,DELETE/https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services_slash_ocb_service_id_ccb_slash_config,DELETE/ DELETE Remove a Custom Config from a Service https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services_slash_ocb_service_id_ccb_slash_config,POST/https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services_slash_ocb_service_id_ccb_slash_config,POST/ POST Update Service Config https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services_slash_ocb_service_id_ccb_slash_endpoints/https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services_slash_ocb_service_id_ccb_slash_endpoints/ PATCH Modifies Service Endpoints https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services_slash_ocb_service_id_ccb_slash_maintenance-window/https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services_slash_ocb_service_id_ccb_slash_maintenance-window/ POST Set Service Maintenance Window https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services_slash_ocb_service_id_ccb_slash_nodes/https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services_slash_ocb_service_id_ccb_slash_nodes/ POST Update Service Nodes https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services_slash_ocb_service_id_ccb_slash_power/https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services_slash_ocb_service_id_ccb_slash_power/ POST Set Service Power State https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services_slash_ocb_service_id_ccb_slash_replicas/https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services_slash_ocb_service_id_ccb_slash_replicas/ GET List Replicas for a Service https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services_slash_ocb_service_id_ccb_slash_replication,DELETE/https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services_slash_ocb_service_id_ccb_slash_replication,DELETE/ DELETE Delete Replication on a Service https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services_slash_ocb_service_id_ccb_slash_replication,POST/https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services_slash_ocb_service_id_ccb_slash_replication,POST/ POST Update Replication on a Service https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services_slash_ocb_service_id_ccb_slash_security_slash_allowlist,DELETE/https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services_slash_ocb_service_id_ccb_slash_security_slash_allowlist,DELETE/ DELETE Remove Allowed Address https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services_slash_ocb_service_id_ccb_slash_security_slash_allowlist,GET/https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services_slash_ocb_service_id_ccb_slash_security_slash_allowlist,GET/ GET Read Allowed Addresses https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services_slash_ocb_service_id_ccb_slash_security_slash_allowlist,POST/https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services_slash_ocb_service_id_ccb_slash_security_slash_allowlist,POST/ POST Add Allowed Address https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services_slash_ocb_service_id_ccb_slash_security_slash_allowlist,PUT/https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services_slash_ocb_service_id_ccb_slash_security_slash_allowlist,PUT/ PUT Update Allowed Address https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services_slash_ocb_service_id_ccb_slash_security_slash_credentials/https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services_slash_ocb_service_id_ccb_slash_security_slash_credentials/ GET Retrieve Default Credentials https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services_slash_ocb_service_id_ccb_slash_security_slash_is-ip-allowed/https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services_slash_ocb_service_id_ccb_slash_security_slash_is-ip-allowed/ POST Check an IP's Access https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services_slash_ocb_service_id_ccb_slash_size/https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services_slash_ocb_service_id_ccb_slash_size/ POST Update Service Size https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services_slash_ocb_service_id_ccb_slash_start/https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services_slash_ocb_service_id_ccb_slash_start/ POST Starts a stopped service https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services_slash_ocb_service_id_ccb_slash_stop/https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services_slash_ocb_service_id_ccb_slash_stop/ POST Stops a running service https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services_slash_ocb_service_id_ccb_slash_storage/https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services_slash_ocb_service_id_ccb_slash_storage/ PATCH Set Service Storage https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services_slash_ocb_service_id_ccb_slash_storage_slash_iops/https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services_slash_ocb_service_id_ccb_slash_storage_slash_iops/ PATCH Set Service Storage https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services_slash_ocb_service_id_ccb_slash_storage_slash_size/https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_services_slash_ocb_service_id_ccb_slash_storage_slash_size/ PATCH Set Service Storage https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_sizes/ GET Read Node Sizes https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_tiers/ GET Read Tiers https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_topologies/ GET Read Topologies https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_topologies_slash_ocb_topology_name_ccb_slash_configs/https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_topologies_slash_ocb_topology_name_ccb_slash_configs/ GET Read Topology Configuration Manager Parameters https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_topologies_slash_ocb_topology_name_ccb_slash_nodes/https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_topologies_slash_ocb_topology_name_ccb_slash_nodes/ GET Read Topology Node Options https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_topologies_slash_ocb_topology_name_ccb_slash_options/https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_topologies_slash_ocb_topology_name_ccb_slash_options/ GET Read Topology Options https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_topologies_slash_ocb_topology_name_ccb_slash_storage-sizes/https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_topologies_slash_ocb_topology_name_ccb_slash_storage-sizes/ GET Read Topology Storage Sizes https://mariadb.com/docs/skysql-dbaas/ref/skynr/api/slash_provisioning_slash_v1_slash_versions/ GET Read Software Versions"},{"location":"Reference%20Guide/Region%20Choices/","title":"Region Choices","text":""},{"location":"Reference%20Guide/Region%20Choices/#aws-regions","title":"AWS Regions","text":"Region Location https://mariadb.com/docs/skysql-dbaas/ref/regions/aws-ap-northeast-1/ Tokyo, Japan https://mariadb.com/docs/skysql-dbaas/ref/regions/aws-ap-northeast-2/ Seoul, South Korea https://mariadb.com/docs/skysql-dbaas/ref/regions/aws-ap-southeast-1/ Jurong West, Singapore https://mariadb.com/docs/skysql-dbaas/ref/regions/aws-ap-southeast-2/ Sydney, Australia https://mariadb.com/docs/skysql-dbaas/ref/regions/aws-ca-central-1/ Montr\u00e9al, Qu\u00e9bec, Canada https://mariadb.com/docs/skysql-dbaas/ref/regions/aws-eu-central-1/ Frankfurt, Germany https://mariadb.com/docs/skysql-dbaas/ref/regions/aws-eu-north-1/ Stockholm, Sweden https://mariadb.com/docs/skysql-dbaas/ref/regions/aws-eu-west-1/ Dublin, Ireland https://mariadb.com/docs/skysql-dbaas/ref/regions/aws-eu-west-2/ London, England, UK https://mariadb.com/docs/skysql-dbaas/ref/regions/aws-eu-west-3/ Paris, France https://mariadb.com/docs/skysql-dbaas/ref/regions/aws-us-east-1/ Northern Virginia, USA https://mariadb.com/docs/skysql-dbaas/ref/regions/aws-us-east-2/ Ohio, USA https://mariadb.com/docs/skysql-dbaas/ref/regions/aws-us-west-2/ Oregon, USA <p>Please\u00a0contact us\u00a0if any aspect of service does not align to your intended use case.</p>"},{"location":"Reference%20Guide/Region%20Choices/#gcp-regions","title":"GCP Regions","text":"Region Location https://mariadb.com/docs/skysql-dbaas/ref/regions/gcp-asia-northeast1/ Tokyo, Japan https://mariadb.com/docs/skysql-dbaas/ref/regions/gcp-asia-south1/ Mumbai, India https://mariadb.com/docs/skysql-dbaas/ref/regions/gcp-asia-southeast1/ Jurong West, Singapore https://mariadb.com/docs/skysql-dbaas/ref/regions/gcp-asia-southeast2/ Jakarta, Indonesia https://mariadb.com/docs/skysql-dbaas/ref/regions/gcp-australia-southeast1/ Sydney, Australia https://mariadb.com/docs/skysql-dbaas/ref/regions/gcp-europe-north1/ Hamina, Finland https://mariadb.com/docs/skysql-dbaas/ref/regions/gcp-europe-west1/ St. Ghislain, Belgium https://mariadb.com/docs/skysql-dbaas/ref/regions/gcp-europe-west2/ London, England, UK https://mariadb.com/docs/skysql-dbaas/ref/regions/gcp-europe-west3/ Frankfurt, Germany https://mariadb.com/docs/skysql-dbaas/ref/regions/gcp-europe-west4/ Eemshaven, Netherlands https://mariadb.com/docs/skysql-dbaas/ref/regions/gcp-europe-west9/ Paris, France https://mariadb.com/docs/skysql-dbaas/ref/regions/gcp-northamerica-northeast1/ Montr\u00e9al, Qu\u00e9bec, Canada https://mariadb.com/docs/skysql-dbaas/ref/regions/gcp-us-central1/ Council Bluffs, Iowa, USA https://mariadb.com/docs/skysql-dbaas/ref/regions/gcp-us-east1/ Moncks Corner, South Carolina, USA https://mariadb.com/docs/skysql-dbaas/ref/regions/gcp-us-east4/ Ashburn (Loudoun County), Virginia, USA https://mariadb.com/docs/skysql-dbaas/ref/regions/gcp-us-west1/ The Dalles, Oregon, USA https://mariadb.com/docs/skysql-dbaas/ref/regions/gcp-us-west4/ Las Vegas, Nevada, USA <p>Please\u00a0contact us\u00a0if any aspect of service does not align to your intended use case.</p>"},{"location":"Reference%20Guide/Sky%20Stored%20Procedures/","title":"Sky Stored Procedures","text":""},{"location":"Reference%20Guide/Sky%20Stored%20Procedures/#change_external_primary","title":"change_external_primary","text":"<p>Executes the\u00a0CHANGE\u00a0MASTER\u00a0TO\u00a0statement to configures inbound replication from an external primary server based on binary log file and position.</p> <pre><code>CALL sky.change_external_primary(\n   host VARCHAR(255),\n   port INT,\n   logfile TEXT,\n   logpos LONG ,\n   use_ssl_encryption BOOLEAN\n);\n</code></pre> <pre><code>+------------------------------+\n| Run_this_grant_on_your_external_primary                                                                      |\n+------------------------------+\n| GRANT REPLICATION SLAVE ON *.* TO 'skysql_replication'@'%' IDENTIFIED BY '&lt;password_hash&gt;';                  |\n+------------------------------+\n</code></pre>"},{"location":"Reference%20Guide/Sky%20Stored%20Procedures/#change_external_primary_gtid","title":"change_external_primary_gtid","text":"<p>Executes the\u00a0CHANGE\u00a0MASTER\u00a0TO\u00a0statement to configures inbound replication from an external primary server based on the provided GTID.</p> <pre><code>CALL sky.change_external_primary_gtid(\n   host VARCHAR(255),\n   port INT,\n   gtid VARCHAR(60),\n   use_ssl_encryption BOOLEAN\n);\n</code></pre> <pre><code>+------------------------------+\n| Run_this_grant_on_your_external_primary                                                                      |\n+------------------------------+\n| GRANT REPLICATION SLAVE ON *.* TO 'skysql_replication'@'%' IDENTIFIED BY '&lt;password_hash&gt;';                  |\n+------------------------------+\n</code></pre>"},{"location":"Reference%20Guide/Sky%20Stored%20Procedures/#gtid_status","title":"gtid_status","text":"<p>Provides a list of GTID-related\u00a0system variables.</p> <pre><code>CALL sky.gtid_status();\n</code></pre> <pre><code>+-------------------+---------------------------+\n| Variable_name     | Value                     |\n+-------------------+---------------------------+\n| gtid_binlog_pos   | 435700-435700-122         |\n| gtid_binlog_state | 435700-435700-122         |\n| gtid_current_pos  | 0-100-1,435700-435700-122 |\n| gtid_slave_pos    | 0-100-1                   |\n+-------------------+---------------------------+\n</code></pre>"},{"location":"Reference%20Guide/Sky%20Stored%20Procedures/#kill_session","title":"kill_session","text":"<p>Kills any non-root or non-SkySQL threads, similar to the\u00a0KILL\u00a0statement.</p> <pre><code>CALL sky.kill_session(IN thread BIGINT);\n</code></pre>"},{"location":"Reference%20Guide/Sky%20Stored%20Procedures/#replication_grants","title":"replication_grants","text":"<p>Provides a\u00a0GRANT\u00a0statement to run on an external primary server when configuring inbound replication.</p> <pre><code>CALL sky.replication_grants();\n</code></pre> <pre><code>+------------------------------+\n| Run_this_grant_on_your_external_primary                                                                      |\n+------------------------------+\n| GRANT REPLICATION SLAVE ON *.* TO 'skysql_replication'@'%' IDENTIFIED BY '&lt;password_hash&gt;';                  |\n+------------------------------+\n</code></pre>"},{"location":"Reference%20Guide/Sky%20Stored%20Procedures/#replication_status","title":"replication_status","text":"<p>Executes the\u00a0SHOW\u00a0REPLICA\u00a0STATUS\u00a0statement to obtain the status of inbound replication.</p> <pre><code>CALL sky.replication_status()\\G\n</code></pre> <ul> <li> <pre><code>*************************** 1. row ***************************\n                Slave_IO_State: Waiting for master to send event\n                   Master_Host: mariadb1.example.com\n                   Master_User: skysql_replication\n                   Master_Port: 3306\n                 Connect_Retry: 60\n               Master_Log_File: mariadb-bin.000001\n           Read_Master_Log_Pos: 558\n                Relay_Log_File: mariadb-relay-bin.000002\n                 Relay_Log_Pos: 674\n         Relay_Master_Log_File: mariadb-bin.000001\n              Slave_IO_Running: Yes\n             Slave_SQL_Running: Yes\n               Replicate_Do_DB:\n           Replicate_Ignore_DB:\n            Replicate_Do_Table:\n        Replicate_Ignore_Table:\n       Replicate_Wild_Do_Table:\n   Replicate_Wild_Ignore_Table:\n                    Last_Errno: 0\n                    Last_Error:\n                  Skip_Counter: 0\n           Exec_Master_Log_Pos: 558\n               Relay_Log_Space: 985\n               Until_Condition: None\n                Until_Log_File:\n                 Until_Log_Pos: 0\n            Master_SSL_Allowed: No\n            Master_SSL_CA_File:\n            Master_SSL_CA_Path:\n               Master_SSL_Cert:\n             Master_SSL_Cipher:\n                Master_SSL_Key:\n         Seconds_Behind_Master: 0\n Master_SSL_Verify_Server_Cert: No\n                 Last_IO_Errno: 0\n                 Last_IO_Error:\n                Last_SQL_Errno: 0\n                Last_SQL_Error:\n   Replicate_Ignore_Server_Ids:\n              Master_Server_Id: 100\n                Master_SSL_Crl:\n            Master_SSL_Crlpath:\n                    Using_Gtid: Slave_Pos\n                   Gtid_IO_Pos: 0-100-1\n       Replicate_Do_Domain_Ids:\n   Replicate_Ignore_Domain_Ids:\n                 Parallel_Mode: conservative\n                     SQL_Delay: 0\n           SQL_Remaining_Delay: NULL\n       Slave_SQL_Running_State: Slave has read all relay log; waiting for more updates\n              Slave_DDL_Groups: 0\nSlave_Non_Transactional_Groups: 0\n    Slave_Transactional_Groups: 0\n</code></pre> </li> </ul>"},{"location":"Reference%20Guide/Sky%20Stored%20Procedures/#reset_replication","title":"reset_replication","text":"<p>Executes the\u00a0RESET\u00a0REPLICA\u00a0statement to clear inbound replication configuration.</p> <pre><code>CALL sky.reset_replication();\n</code></pre> <pre><code>+------------------------+\n| Message                |\n+------------------------+\n| Replica has been reset |\n+------------------------+\n</code></pre>"},{"location":"Reference%20Guide/Sky%20Stored%20Procedures/#set_master_ssl","title":"set_master_ssl","text":"<p>Toggles the\u00a0<code>MASTER_SSL</code>\u00a0replication option using the\u00a0CHANGE\u00a0MASTER\u00a0TO\u00a0statement.</p> <pre><code>CALL sky.set_master_ssl();\n</code></pre>"},{"location":"Reference%20Guide/Sky%20Stored%20Procedures/#skip_repl_error","title":"skip_repl_error","text":"<p>This stored procedure can be used to ignore a transaction that is causing a replication error.</p> <p>Executes the\u00a0STOP\u00a0REPLICA\u00a0statement, then sets the\u00a0sql_slave_skip_counter\u00a0system variable, and then executes the\u00a0START\u00a0REPLICA\u00a0statement to skip a single transaction. Does not currently work with GTID.</p> <pre><code>CALL sky.skip_repl_error();\n</code></pre>"},{"location":"Reference%20Guide/Sky%20Stored%20Procedures/#start_replication","title":"start_replication","text":"<p>Executes the\u00a0<code>[START\u00a0REPLICA](https://mariadb.com/docs/skysql-previous-release/ref/mdb/sql-statements/START_REPLICA/)</code>\u00a0statement to start inbound replication from an external primary.</p> <pre><code>CALL sky.start_replication();\n</code></pre> <pre><code>+----------------------------------------+\n| Message                                |\n+----------------------------------------+\n| External replication running normally. |\n+----------------------------------------+\n</code></pre>"},{"location":"Reference%20Guide/Sky%20Stored%20Procedures/#stop_replication","title":"stop_replication","text":"<p>Executes the\u00a0STOP\u00a0REPLICA\u00a0statement to stop inbound replication from an external primary.</p> <pre><code>CALL sky.stop_replication();\n</code></pre> <pre><code>+---------------------------------+\n| Message                         |\n+---------------------------------+\n| Replication is down or disabled |\n+---------------------------------+\n</code></pre>"},{"location":"Security/","title":"Security","text":"<p>Note</p> <p>TODO - describe security properly - things like how storage is encrypted, between zones, etc</p> <p>SkySQL takes security very seriously and provides security at all levels - encryption on-the-wire, encrypted storage, guarded compute, multiple levels of authentication and Authorization. </p> <p>It complies with several security standards like SOC2, GDPR, ISO \u2026. </p> <p>Managing Portal Users</p> <p>Configuring Firewall</p> <p>Managing API keys</p> <p>Private VPC connections</p> <p>Portal Single Sign-On </p>"},{"location":"Security/Configuring%20Firewall/","title":"Configuring Firewall","text":"<p>SkySQL services are firewall-protected.</p> <p>Access to MariaDB SkySQL services is managed on a per-service basis.</p> <p>IPv4 addresses and IPv4 netblocks can be added to the allowlist to enable service access. Access from other addresses will be blocked.</p>"},{"location":"Security/Configuring%20Firewall/#default","title":"Default","text":"<p>By default, when a service is launched its allowlist is empty. All external traffic to the service is blocked.</p>"},{"location":"Security/Configuring%20Firewall/#secure-access-configuration","title":"Secure Access Configuration","text":"<p>To modify Secure Access settings:</p> <ol> <li>Log in to the\u00a0Portal.</li> <li>Click the \"Settings\" link in the main menu (left navigation in the Portal).</li> <li>Click the \"Secure Access\" button.</li> </ol> <p></p> <p>Secure Access settings.</p> <p>https://skysql.mariadb.com/settings/secure-access</p> <p>Alternatively, you can access firewall settings for a specific service by clicking on the \"MANAGE\" button for the desired service, then choose \"Security access\" from the menu.</p> <p></p> <p>Whitelist dialog.</p> <p>https://skysql.mariadb.com/dashboard</p>"},{"location":"Security/Configuring%20Firewall/#add-to-the-allowlist","title":"Add to the Allowlist","text":"<p>IP addresses can be added to the allowlist from the Firewall settings interface or a service's Security Access interface:</p> <ol> <li>Enter an IPv4 address or IPv4 netblock.</li> <li>Optionally enter an alias for this address. An alias provides a way to remember why an address was added to the allowlist.</li> <li>Click the \"Save\" button.</li> </ol> <p>After saving the change, a\u00a0notification\u00a0will be provided when the change has been applied.</p>"},{"location":"Security/Configuring%20Firewall/#remove-from-the-allowlist","title":"Remove from the Allowlist","text":"<p>IP addresses can be removed from the allowlist from the Firewall settings interface or a service's Security Access interface:</p> <ol> <li>Click the \"X\" button to the right of the entry to remove.</li> <li>Click the \"Save\" button.</li> </ol> <p>After saving the change, a\u00a0notification\u00a0will be provided when the change has been applied.</p>"},{"location":"Security/Configuring%20Firewall/#edit-an-allowlist-entry","title":"Edit an Allowlist Entry","text":"<p>An allowlist entry can be edited from the Firewall settings interface or a service's Security Access interface:</p> <ol> <li>Modify the IP address or alias of the desired allowlist entry.</li> <li>Click the \"Save\" button.</li> </ol> <p>After saving the change, a\u00a0notification\u00a0will be provided when the change has been applied.</p>"},{"location":"Security/Managing%20API%20keys/","title":"Managing API keys","text":"<p>Users with MariaDB ID accounts are able to request SkySQL API Keys that are used to securely access automated interfaces in MariaDB SkySQL:</p> <ul> <li>The SkySQL DBaaS API requires a SkySQL API Key to create, delete, and modify database services</li> <li>The SkySQL Observability service requires a SkySQL API key to monitor on-premises database services</li> </ul>"},{"location":"Security/Managing%20API%20keys/#skysql-api-key-scopes","title":"SkySQL API Key Scopes","text":"<p>Each SkySQL API Key is associated with one or more key scopes that determines what the API key can be used for.</p> <p>Multiple scopes are currently available:</p> Scope Description Observability API: Read Allows\u00a0GET\u00a0requests to the\u00a0https://mariadb.com/docs/skysql-dbaas/service-management/nr-monitoring/observability/ Observability API: Write Allows write requests to the\u00a0https://mariadb.com/docs/skysql-dbaas/service-management/nr-monitoring/observability/ SkySQL API: Databases: Read Allows\u00a0GET\u00a0requests to the\u00a0https://mariadb.com/docs/skysql-dbaas/nr-quickstart/dbaas-api-launch-walkthrough/ SkySQL API: Databases: Write Allows write requests to the\u00a0https://mariadb.com/docs/skysql-dbaas/nr-quickstart/dbaas-api-launch-walkthrough/"},{"location":"Security/Managing%20API%20keys/#list-skysql-api-keys","title":"List SkySQL API Keys","text":"<p>To list your SkySQL API Keys, go to the\u00a0API Keys\u00a0page.</p>"},{"location":"Security/Managing%20API%20keys/#generate-a-skysql-api-key","title":"Generate a SkySQL API Key","text":"<p>To generate a SkySQL API Key:</p> <ol> <li>Go to the\u00a0Generate API Key\u00a0page.</li> <li>Fill out the API key details:<ul> <li>In the \"Description\" field, describe the purpose of the API key.</li> <li>In the \"Scopes\" field, select one or more\u00a0API key scopes.</li> </ul> </li> <li>Click the \"Generate API Key\" button.</li> <li>After the page refreshes, click the \"Copy to clipboard\" button to copy the API key.</li> <li>Paste the API key somewhere safe and do not lose it.</li> </ol>"},{"location":"Security/Managing%20API%20keys/#verify-a-skysql-api-key","title":"Verify a SkySQL API Key","text":"<p>To verify a SkySQL API Key, use the\u00a0<code>keyinfo</code>\u00a0endpoint:</p> <ul> <li>A\u00a0<code>GET</code>\u00a0request must be sent to the MariaDB ID URL: https://id.mariadb.com/api/v1/keyinfo/</li> <li>The\u00a0<code>Authorization</code>\u00a0header must be in the format\u00a0<code>Authorization:\u00a0Token\u00a0SKYSQL_API_KEY</code>, where\u00a0<code>SKYSQL_API_KEY</code>\u00a0refers to the API key.</li> <li>The\u00a0<code>Content-length</code>\u00a0header must set the content length to\u00a0<code>0</code>.</li> </ul> <p>For example, to verify a SkySQL API Key using cURL with the output piped to\u00a0<code>jq</code>\u00a0for readability:</p> <pre><code>curl --location \\\n   --header 'Authorization: Token SKYSQL_API_KEY' \\\n   --header 'Content-length: 0' \\\n   https://id.mariadb.com/api/v1/keyinfo/ \\\n   | jq .\n</code></pre> <pre><code>{\n  \"jti\": \"JTI\",\n  \"email\": \"example_user@example.com\",\n  \"full_name\": \"Example User\",\n  \"key_prefix\": \"YpnHA\",\n  \"description\": \"My new API key\",\n  \"exp\": null,\n  \"iat\": \"2021-11-10T17:45:00.823041Z\",\n  \"scopes\": [\n    \"skysql::database::write\"\n  ],\n  \"iss\": \"id.mariadb.com\",\n  \"entitlements\": [\n    \"enterprise\",\n    \"xpand\",\n    \"monitoring\",\n    \"skysql\"\n  ]\n}\n</code></pre> <p>The full set of fields in the output are:</p> Field Description entitlements A list of entitlements this user has access to exp Time when this API key will expire iat Time when this API key was issued iss The server that issued this API key sub The email address of the user who generated this API key jti A unique GUID for this API key kid The key ID used to sign this API key scopes The\u00a0https://mariadb.com/docs/skysql-dbaas/security/nr-api-key/#SkySQL_API_Key_Scopes\u00a0of the API key"},{"location":"Security/Managing%20API%20keys/#request-a-bearer-token","title":"Request a Bearer Token","text":"<p>Most automated interfaces in SkySQL do not directly use the SkySQL API Key directly. Instead, the SkySQL API Key is exchanged for a short-lived bearer token that expires after 1 hour.</p> <p>To request a short-lived bearer token using a SkySQL API Key, use the\u00a0<code>token</code>\u00a0endpoint:</p> <ul> <li>A\u00a0<code>POST</code>\u00a0request must be sent to the MariaDB ID URL: https://id.mariadb.com/api/v1/token/</li> <li>The\u00a0<code>Authorization</code>\u00a0header must be in the format\u00a0<code>Authorization:\u00a0Token\u00a0SKYSQL_API_KEY</code>, where\u00a0<code>SKYSQL_API_KEY</code>\u00a0refers to the API key.</li> <li>The\u00a0<code>Content-length</code>\u00a0header must set the content length to\u00a0<code>0</code>.</li> </ul> <p>For example, to request a bearer token using cURL with the output piped to\u00a0<code>jq</code>\u00a0for readability:</p> <pre><code>curl --location --request POST \\\n   --header 'Authorization: Token SKYSQL_API_KEY' \\\n   --header 'Content-length: 0' \\\n   https://id.mariadb.com/api/v1/token/ \\\n   | jq .\n</code></pre> <pre><code>{\n  \"jti\": \"JTI\",\n  \"email\": \"example_user@example.com\",\n  \"full_name\": \"Example User\",\n  \"exp\": \"2021-11-03T23:04:28.834462Z\",\n  \"iat\": \"2021-11-03T22:04:28.835032Z\",\n  \"scopes\": [\n    \"skysql::database::write\"\n  ],\n  \"iss\": \"id.mariadb.com\",\n  \"parent\": \"PARENT_ID\",\n  \"token\": \"SKYSQL_BEARER_TOKEN\",\n  \"entitlements\": [\n    \"enterprise\",\n    \"xpand\",\n    \"monitoring\",\n    \"skysql\"\n  ],\n  \"tenant_id\": \"TENANT_ID\"\n}\n</code></pre> <p>In the output, the bearer token is returned as the value of the\u00a0<code>\"token\"</code>\u00a0key. This value is used by most automated interfaces in MariaDB SkySQL.</p> <p>The full set of fields in the output are:</p> Field Description entitlements A list of entitlements this user has access to exp Time when this bearer token will expire iat Time when this bearer token was issued iss The server that issued this bearer token sub The email address of the user who generated this bearer token jti A unique GUID for this bearer token kid The key ID used to sign this bearer token parent The unique ID of the SkySQL API Key that issued this bearer token scopes The\u00a0https://mariadb.com/docs/skysql-dbaas/security/nr-api-key/#SkySQL_API_Key_Scopes\u00a0of the SkySQL API Key that issued this bearer token tenant_id The SkySQL Billing ID of the user who generated this bearer token"},{"location":"Security/Managing%20API%20keys/#expiration","title":"Expiration","text":"<p>SkySQL API Keys expire.</p> <p>The expiration interval is chosen when the API key is generated. SkySQL API Keys can expire at the following intervals:</p> <ul> <li>2 years</li> <li>1 year</li> <li>9 months</li> <li>6 months</li> <li>3 months</li> </ul>"},{"location":"Security/Managing%20API%20keys/#revocation","title":"Revocation","text":"<p>SkySQL API Keys can be revoked.</p> <p>To revoke a SkySQL API Key:</p> <ol> <li>Go to the\u00a0API Keys\u00a0page</li> <li>Click the \"Revoke\" button for the API key</li> </ol>"},{"location":"Security/Managing%20Portal%20Users/","title":"Managing Portal Users","text":"<p>By default, SkySQL services are launched and managed in the\u00a0Portal\u00a0from a single\u00a0MariaDB ID.</p> <p>For multiple MariaDB ID accounts to jointly manage a set of SkySQL services, these accounts can be added to a Team.</p> <p>The User Management interface in the\u00a0Portal\u00a0is a self-service tool to manage your Team.</p> <p>A Team can be managed by the initial user on the Team or by any Administrator added to the Team.</p> <p>An email address can belong to only one SkySQL Team. If an email address is already in a Team, it cannot be added to another Team.</p>"},{"location":"Security/Managing%20Portal%20Users/#access-to-user-management","title":"Access to User Management","text":"<p>To access the User Management interface:</p> <ol> <li>Log in to the\u00a0Portal.</li> <li>Click the \"Settings\" link in the main menu (left navigation in the Portal).</li> <li>Click the \"User Management\" button.</li> </ol> <p></p> <p>User Management</p> <p>https://skysql.mariadb.com/settings/user-management</p>"},{"location":"Security/Managing%20Portal%20Users/#roles","title":"Roles","text":"<p>Each Team member has one of the following roles:</p> <ul> <li>Administrator</li> <li>Member</li> <li>Viewer</li> <li>Billing</li> </ul>"},{"location":"Security/Managing%20Portal%20Users/#add-a-team-member","title":"Add a Team Member","text":"<p>User Management - Invite</p> <p>https://skysql.mariadb.com/settings/user-management</p> <p>From the User Management interface, an Administrator can invite someone to join a team:</p> <ol> <li>Click the \"Invite\" button in the upper right corner of the User Management interface.</li> <li>Enter the email address of the person to invite to the team.</li> <li>Choose the desired role for this user.</li> <li>Click the \"Add User\" button.</li> </ol> <p>Once a user has been invited, they will appear in the Team member list in an \"Invited\" status until the invitation is accepted.</p> <p>An invitation is delivered by email. The user will be prompted to complete account setup when accepting the invitation.</p> <p>You can withdraw the invitation before it is accepted by clicking on the \"Cancel Invitation\" link in the Team member list.</p>"},{"location":"Security/Managing%20Portal%20Users/#remove-a-team-member","title":"Remove a Team Member","text":"<p>From the User Management interface, an Administrator can remove a team member:</p> <ol> <li>Identify the team member to remove.</li> <li>Click the ellipsis icon (\"...\") on the right side of that user's row.</li> <li>Select the \"Deactivate\" menu item.</li> <li>Read the displayed warning.</li> <li>Click the \"Deactivate\" button to complete deactivation.</li> </ol>"},{"location":"Security/Managing%20Portal%20Users/#edit-a-role","title":"Edit a Role","text":"<p>From the User Management interface, an Administrator can change a team member's role:</p> <ol> <li>Identify the team member to modify.</li> <li>Click the ellipsis icon (\"...\") on the right side of that user's row.</li> <li>Select the \"Edit\" menu item.</li> <li>Choose the desired Role for the user.</li> <li>Click the \"Save\" button to complete the change.</li> </ol>"},{"location":"Security/Portal%20Single%20Sign-On/","title":"Portal Single Sign-On","text":"<p>By default, authentication to the SkySQL Portal is performed with MariaDB ID credentials.</p> <p>For Power Tier customers, the SkySQL Portal can be configured to accept authentication with your SAML 2.0 IDP (identity provider). Google G Suite, Auth0, and Azure AD have been tested.</p>"},{"location":"Security/Portal%20Single%20Sign-On/#alternatives","title":"Alternatives","text":"<p>Users with personal or business Google G Suite accounts can authenticate via social login. This ability does not depend on enterprise authentication configuration.</p>"},{"location":"Security/Portal%20Single%20Sign-On/#enable","title":"Enable","text":"<p>Contact\u00a0SkySQL Support\u00a0for more information on enabling enterprise authentication.</p>"},{"location":"Security/Private%20VPC%20connections/","title":"Private VPC connections","text":"<p>Some customers may have regulatory requirements or information security policies which prohibit the default database connections over the public internet.</p> <p>SkySQL services can optionally be configured for private connections using cloud provider-specific features - See here for details on how to set this up. </p> <p>By default, client traffic to SkySQL services may transit the public internet and is protected with TLS/SSL and a firewall configured by IP allowlist.</p>"},{"location":"Using%20AWS%20GCP%20private%20VPC%20connections/","title":"Using AWS/GCP private VPC connections","text":"<p>By default, connections to SkySQL cloud databases occur with TLS/SSL encryption and can be initiated only from allowlisted IP addresses.</p> <p>Some customers have regulatory requirements or information security policies that prohibit database connections over the public internet, and result in a requirement for private connections.</p> <p>SkySQL cloud databases can optionally be configured for private connections between your VPC (virtual private clouds) and SkySQL cloud databases:</p> <ul> <li>AWS PrivateLink is supported for SkySQL cloud databases on AWS</li> <li>Private Service Connect is supported for SkySQL cloud databases on GCP</li> </ul>"},{"location":"Using%20AWS%20GCP%20private%20VPC%20connections/Setting%20up%20AWS%20Private%20Link/","title":"Setting up AWS Private Link","text":"<p>Note</p> <p>AWS PrivateLink is used for private connections within the same AWS region. </p> <p>Prior to configuring AWS PrivateLink on a SkySQL service, you must have created a VPC with a private subnet that will be used to communicate with private IP addresses. </p> <p>For detailed information about AWS PrivateLink, see\u00a0\"AWS PrivateLink\" (Amazon documentation).</p> <p>The default endpoint mechanism is \"<code>nlb</code>\", which supports accessing the SkySQL service via the public internet. Use of AWS PrivateLink occurs when the endpoint mechanism is changed to \"<code>privateconnect</code>\".</p> <p>AWS PrivateLink can be enabled using the SkySQL Portal, SkySQL DBaaS API, or SkySQL Terraform Provider.</p>"},{"location":"Using%20AWS%20GCP%20private%20VPC%20connections/Setting%20up%20AWS%20Private%20Link/#note-the-following","title":"Note the following","text":"<ul> <li>When a SkySQL service has the\u00a0<code>privateconnect</code>\u00a0endpoint mechanism, all connections occur through private endpoints. SkySQL does offer users to setup a \u201csecondary\u201d public IP endpoint also (available in the Portal UI when you provision a new service).</li> <li>Client connections can originate from private IP addresses in the linked VPC.</li> <li> <p>AWS PrivateLink supports DNS propagation which can be configured to resolve the Database FQDN to the private IP for an internal DNS request. The private DNS names feature must be enabled on the customer's VPC.</p> </li> <li> <p>The SkySQL IP Allowlist is not used with the\u00a0<code>privateconnect</code>\u00a0endpoint mechanism.</p> </li> <li>With AWS PrivateLink, connections are restricted to the list of allowed accounts that were specified when configuring the SkySQL endpoint.</li> <li>Further restrictions are controlled through the customer's AWS account. VPC security group policies apply. For detailed information, see\u00a0\"Control traffic to resources using security groups\"\u00a0(Amazon documentation).</li> <li>Some customers using AWS PrivateLink may choose to disable TLS, but MariaDB recommends keeping TLS enabled for extra security.</li> <li>Endpoint changes can be destructive, resulting in downtime. When you change the connection type from private to public, or public to private, the endpoint must be destroyed and recreated. Changing the SkySQL endpoint between\u00a0<code>nlb</code>\u00a0and\u00a0<code>privateconnect</code>\u00a0will result in a service interruption.</li> <li>Connections to SkySQL services by features such as SkySQL backups, and monitoring do not depend on AWS PrivateLink.</li> <li>Query Editor is not supported when AWS PrivateLink is enabled.</li> </ul>"},{"location":"Using%20AWS%20GCP%20private%20VPC%20connections/Setting%20up%20AWS%20Private%20Link/#enable-aws-privatelink-on-service-launch","title":"Enable AWS PrivateLink on Service Launch","text":"<p>To enable AWS PrivateLink when launching a new service via the SkySQL Portal all you need to do is select the 'Enable Private link' option in the 'Security' section. </p> <p>For the next step, see the\u00a0AWS Endpoint Setup\u00a0section on this page.</p>"},{"location":"Using%20AWS%20GCP%20private%20VPC%20connections/Setting%20up%20AWS%20Private%20Link/#enable-aws-privatelink-on-existing-skysql-service","title":"Enable AWS PrivateLink on Existing SkySQL Service","text":"<p>To enable AWS PrivateLink for an existing service via the SkySQL Portal:</p> <ol> <li>Log in to the\u00a0SkySQL Portal</li> <li>Click the \"MANAGE\" button (at right) for the desired service.</li> <li>In the context menu, choose the \"Set up Private Link\" menu item.</li> <li>In the popup window, add one or more AWS account IDs.</li> <li>Click the \"OK\" button to confirm this operation.</li> </ol> <p>For the next step, see the\u00a0AWS Endpoint Setup section on this page.</p>"},{"location":"Using%20AWS%20GCP%20private%20VPC%20connections/Setting%20up%20AWS%20Private%20Link/#disabling-aws-privatelink","title":"Disabling AWS PrivateLink","text":"<p>To disable AWS PrivateLink via the SkySQL Portal:</p> <ol> <li>Visit the\u00a0SkySQL Portal</li> <li>Find the service that you would like to modify.</li> <li>Click \"MANAGE\" on the far right side of the service listing.</li> <li>In the context menu, select \"Manage PrivateLink\".</li> <li>In the popup window, click \"I want to disconnect my Private Link\".</li> <li>In the popup window, select \"Disconnect\".</li> <li>After the service restarts, PrivateLink is disabled.</li> <li>Since the service's allowlist was cleared when AWS PrivateLink was previously enabled, you will need to\u00a0update the allowlist to allow clients to connect after disabling PrivateLink.</li> </ol>"},{"location":"Using%20AWS%20GCP%20private%20VPC%20connections/Setting%20up%20AWS%20Private%20Link/#aws-endpoint-setup","title":"AWS Endpoint Setup","text":"<p>In addition to switching the SkySQL service to the\u00a0<code>privateconnect</code>\u00a0endpoint mechanism, an AWS Endpoint must be created using the customer's AWS account in order for the SkySQL service to become accessible.</p> <ol> <li>Log in to the AWS console.</li> <li>Confirm the correct region is selected.</li> <li>Navigate to the \"VPC\" page, then the \"Endpoint\" section.</li> <li>Click the \"Create Endpoint\" button.</li> <li>Fill in the name to help you to identify it. (This is optional.)</li> <li>Set the Service category to \"Other endpoint services\".</li> <li>The value for the \"Service name\" field must be set to the value of the\u00a0\"Fully Qualified Domain Name\" in the \"Connect\" window from SkySQL portal.</li> <li>Click \"Verify service\". AWS should find the service and auto-populate the rest of the form.</li> <li>In the VPC search field, find the VPC that you want to use for the interconnect between the clients and the SkySQL service.</li> <li>In the Subnets section, it is suggested that you select all the Availability Zones in the list, entering the proper subnet ID for each one. If you are unsure, view the details of your running instances to see the Subnet ID that they have configured.</li> <li>Select IPv4 for \"IP address type\".</li> <li>For the \"Security Groups\" section, we suggest that you create a new security group that will regulate which instances can make a connection to the database.<ul> <li>In a new browser tab, use the AWS console to visit the \"Security Groups\" settings (under Network &amp; Security).</li> <li>Click on the \"Create security group\" button.</li> <li>Fill in the group's name and (optionally) its description.</li> <li>Under \"Inbound rules\" click the \"Add rule\" button.</li> <li>Set the value for the \"Port range\" to be the port number of the \"Read-write port\" in the \"Connect\" window of the SkySQL portal.</li> <li>Set the Source to either a list of private (internal) IPv4 addresses that you want to authorize (adding a \"/32\" suffix to each one), or set it to an existing security group name that can be used to authorize all instances that have that security group in their configuration.</li> <li>Press the \"Create security group\" button.</li> </ul> </li> <li>Back on the endpoint tab, click the refresh button on the \"Security Groups\" section and choose the newly created security group.</li> <li>Optionally add a \"Name\" tag for easy identification.</li> <li>Press the \"Create endpoint\" button. Endpoint creation may take several minutes. When complete, status will change from \"Pending\" to \"Available\".</li> <li>In the details of the new endpoint will be a list of DNS names. Copy the first name in the list and use that as the hostname for your clients to use when they connect.</li> </ol> <p>The newly created endpoint now authorizes the internal IPs or security groups that you specified in the Source values to access the SkySQL service's connection port. When testing a client connection, ensure that the client host is authorized by the security group's Source settings and that you're using the \"<code>readwrite</code>\" port plus the appropriate username and password (either the default values or the value for any user you have created).</p>"},{"location":"Using%20AWS%20GCP%20private%20VPC%20connections/Setting%20up%20AWS%20Private%20Link/#setting-up-aws-private-link-using-skysql-rest-api","title":"Setting up AWS Private link using SkySQL REST API","text":""},{"location":"Using%20AWS%20GCP%20private%20VPC%20connections/Setting%20up%20AWS%20Private%20Link/#enable-aws-privatelink-on-service-launch_1","title":"Enable AWS PrivateLink on Service Launch","text":"<p>To enable AWS PrivateLink when launching a new service via the SkySQL DBaaS API:</p> <ol> <li>Initiate service launch using the procedure at \"DBaaS API Launch Walkthrough. </li> <li> <p>When you are creating the request, add the\u00a0<code>\"endpoint_mechanism\"</code>\u00a0and\u00a0<code>\"endpoint_allowed_accounts\"</code>\u00a0attributes to the JSON payload:</p> <ol> <li></li> </ol> <pre><code>\"endpoint_mechanism\": \"privateconnect\",\n\"endpoint_allowed_accounts\": [\n    \"AWS-ACCOUNT-ID-1\",\n    \"AWS-ACCOUNT-ID-2\"\n]\n</code></pre> <ul> <li>Set\u00a0<code>\"endpoint_mechanism\"</code>\u00a0to\u00a0<code>\"privateconnect\"</code></li> <li>Set\u00a0<code>\"endpoint_allowed_accounts\"</code>\u00a0to a JSON array of one or more customer account IDs in AWS that will be allowed to establish a private connection to the SkySQL service</li> </ul> </li> </ol> <p>For the next step, go through the AWS Endpoint setup section. </p>"},{"location":"Using%20AWS%20GCP%20private%20VPC%20connections/Setting%20up%20AWS%20Private%20Link/#enable-aws-privatelink-on-existing-skysql-service_1","title":"Enable AWS PrivateLink on Existing SkySQL Service","text":"<p>To enable AWS PrivateLink on an existing service via the SkySQL DBaaS API, create a JSON payload such as:</p> <pre><code>[\n  {\n    \"mechanism\": \"privateconnect\",\n    \"allowed_accounts\": [\n      \"AWS-ACCOUNT-ID-1\",\n      \"AWS-ACCOUNT-ID-2\"\n    ]\n  }\n]\n</code></pre> <ul> <li>Set\u00a0<code>\"mechanism\"</code>\u00a0to\u00a0<code>\"privateconnect\"</code></li> <li>Set\u00a0<code>\"allowed_accounts\"</code>\u00a0to a JSON array of one or more customer account IDs in AWS that will be allowed to establish a private connection to the SkySQL service.</li> </ul> <p>And then use the API to update the\u00a0<code>endpoints</code>\u00a0information of the service. The following example of using\u00a0<code>curl</code>\u00a0expects the above payload to be in a file named\u00a0<code>data.json</code>\u00a0and also expects the variables\u00a0<code>API_KEY</code>\u00a0and\u00a0<code>SERVICE_ID</code>\u00a0to be set:</p> <pre><code>curl -H \"Authorization: Bearer ${API_KEY}\" \\\n       -X PATCH -d @data.json \\\n       https://api.mariadb.com/provisioning/v1/services/${SERVICE_ID}/endpoints \\\n       | jq .\n</code></pre> <p>We will need the endpoint's service name later on in the setup, so use the API to query the endpoint once the service has finished its modifications and is back to \"ready\":</p> <pre><code>curl -H \"Authorization: Bearer ${API_KEY}\" -X GET \\\n       https://api.mariadb.com/provisioning/v1/services/${SERVICE_ID} \\\n       | jq '.status,.endpoints[0].ports,.endpoints[0].endpoint_service'\n</code></pre> <p>Note that the\u00a0<code>jq</code>\u00a0command is filtering the returned JSON data to extract three things (which are separated by commas in the command above):</p> <ul> <li>The status of the service, which must be \"ready\" for the other values to be available.<ul> <li>The \"<code>ready</code>\" status means that the PrivateLink endpoint setup is complete.</li> <li>A status of \"<code>pending_upgrade</code>\" is reflected while PrivateLink endpoint setup is in-progress.</li> </ul> </li> <li>The \"ports\" data for the first item in the\u00a0<code>endpoints</code>\u00a0array.<ul> <li>Some topologies include multiple port options, including ports for read/write and read-only connections, or for connections to the NoSQL listener.</li> <li>Choose the desired port, such as \"<code>readwrite</code>\".</li> </ul> </li> <li>The\u00a0<code>endpoint_service</code>\u00a0value for the first item in the\u00a0<code>endpoints</code>\u00a0array.</li> </ul> <p>The output will look something like this, though your values will vary:</p> <pre><code>\"ready\"\n[\n  {\n    \"name\": \"readwrite\",\n    \"port\": 3306,\n    \"purpose\": \"readwrite\"\n  }\n]\n\"com.amazonaws.vpce.AWS_REGION.vpce-svc-AWS_SERVICE_ID\"\n</code></pre> <p>If you are not using\u00a0<code>jq</code>, scan (or parse) the full returned JSON data to ensure the service status is \"ready\" and find the associated values described above.</p> <p>For the next step, go through the AWS Endpoint Setup section. </p>"},{"location":"Using%20AWS%20GCP%20private%20VPC%20connections/Setting%20up%20AWS%20Private%20Link/#disable-aws-privatelink","title":"Disable AWS PrivateLink","text":"<p>To disable AWS PrivateLink via the SkySQL DBaaS API, create a JSON payload such as:</p> <pre><code>[\n  {\n    \"mechanism\": \"nlb\"\n  }\n]\n</code></pre> <p>Set\u00a0<code>\"mechanism\"</code>\u00a0to\u00a0<code>\"nlb\"</code></p> <p>And then use the API to update the\u00a0<code>endpoints</code>\u00a0information of the service. The following example of using\u00a0<code>curl</code>\u00a0expects the above payload to be in a file named\u00a0<code>data.json</code>\u00a0and also expects the variables\u00a0<code>API_KEY</code>\u00a0and\u00a0<code>SERVICE_ID</code>\u00a0to be set:</p> <pre><code>curl -H \"Authorization: Bearer ${API_KEY}\" \\\n       -X PATCH -d @data.json \\\n       https://api.mariadb.com/provisioning/v1/services/${SERVICE_ID}/endpoints \\\n       | jq .\n</code></pre> <p>We will need the endpoint's service name later on in the setup, so use the API to query the endpoint once the service has finished its modifications and is back to \"ready\":</p> <pre><code>curl -H \"Authorization: Bearer ${API_KEY}\" -X GET \\\n       https://api.mariadb.com/provisioning/v1/services/${SERVICE_ID} \\\n       | jq '.status,.endpoints[0].ports,.endpoints[0].endpoint_service'\n</code></pre> <p>Note that the\u00a0<code>jq</code>\u00a0command is filtering the returned JSON data to extract three things (which are separated by commas in the command above):</p> <ul> <li>The status of the service, which must be \"ready\" for the other values to be available.<ul> <li>The \"<code>ready</code>\" status means that the endpoint modification is complete.</li> <li>A status of \"<code>pending_upgrade</code>\" is reflected while PrivateLink is being disabled.</li> </ul> </li> <li>The \"ports\" data for the first item in the\u00a0<code>endpoints</code>\u00a0array.<ul> <li>Some topologies include multiple port options, including ports for read/write and read-only connections, or for connections to the NoSQL listener.</li> <li>Choose the desired port, such as \"<code>readwrite</code>\".</li> </ul> </li> <li>The\u00a0<code>endpoint_service</code>\u00a0value for the first item in the\u00a0<code>endpoints</code>\u00a0array.</li> </ul> <p>The output will look something like this, though your values will vary:</p> <pre><code>\"ready\"\n[\n  {\n    \"name\": \"readwrite\",\n    \"port\": 3306,\n    \"purpose\": \"readwrite\"\n  }\n]\n\"com.amazonaws.vpce.AWS_REGION.vpce-svc-AWS_SERVICE_ID\"\n</code></pre> <p>If you are not using\u00a0<code>jq</code>, scan (or parse) the full returned JSON data to ensure the service status is \"ready\" and find the associated values described above.</p> <p>Since the service's allowlist was cleared when AWS PrivateLink was previously enabled, you will need to update the allowlist to allow clients to connect after disabling PrivateLink.</p> <p>To add an address to the allowlist via the SkySQL DBaaS API, create a JSON payload such as:</p> <pre><code>**{**  **\"ip_address\":** \"192.0.2.10/32\"**}**\n</code></pre> <p>And then use the API to update the\u00a0<code>allowlist</code>\u00a0information of the service. The following example of using\u00a0<code>curl</code>\u00a0expects the above payload to be in a file named\u00a0<code>data.json</code>\u00a0and also expects the variables\u00a0<code>API_KEY</code>\u00a0and\u00a0<code>SERVICE_ID</code>\u00a0to be set:</p> <pre><code>curl -H \"Authorization: Bearer ${API_KEY}\" \\\n       -X POST -d @data.json \\\n       https://api.mariadb.com/provisioning/v1/services/${SERVICE_ID}/security/allowlist \\\n       | jq .\n</code></pre>"},{"location":"Using%20AWS%20GCP%20private%20VPC%20connections/Setting%20up%20AWS%20Private%20Link/#setup-aws-private-link-using-terraform-provider","title":"Setup AWS Private link using Terraform Provider","text":"<p>For general instructions on using the SkySQL Terraform Provider, see \"Terraform Launch Walkthrough </p> <p>For an example Terraform configuration that enables AWS PrivateLink, see Resources section here. </p>"},{"location":"Using%20AWS%20GCP%20private%20VPC%20connections/Setting%20up%20AWS%20Private%20Link/#enable-aws-privatelink-on-service-launch_2","title":"Enable AWS PrivateLink on Service Launch","text":"<p>To enable AWS PrivateLink when launching a new service via the SkySQL Terraform provider:</p> <ol> <li>Initiate service launch using the procedure at \"Terraform Launch Walkthrough .</li> <li> <p>When you are configuring the\u00a0<code>skysql_service</code>\u00a0resource, add the\u00a0<code>endpoint_mechanism</code>\u00a0and\u00a0<code>endpoint_allowed_accounts</code>\u00a0attributes.</p> <p>For example, the attributes can be placed after\u00a0<code>ssl_enabled</code>:</p> <pre><code>ssl_enabled = var.ssl_enabled\nendpoint_mechanism = \"privateconnect\"\nendpoint_allowed_accounts = [\"AWS-ACCOUNT-ID-1\",\"AWS-ACCOUNT-ID-2\"]\n</code></pre> <ul> <li>Set\u00a0<code>endpoint_mechanism</code>\u00a0to\u00a0<code>\"privateconnect\"</code></li> <li>Set\u00a0<code>endpoint_allowed_accounts</code>\u00a0to a comma-separated list of one or more customer account IDs in AWS that will be allowed to establish a private connection to the SkySQL service</li> <li>Continue the rest of the procedure.</li> </ul> </li> </ol> <p>For the next step, see the\u00a0AWS Endpoint Setup\u00a0section on this page.</p>"},{"location":"Using%20AWS%20GCP%20private%20VPC%20connections/Setting%20up%20AWS%20Private%20Link/#enable-aws-privatelink-on-existing-skysql-service_2","title":"Enable AWS PrivateLink on Existing SkySQL Service","text":"<p>To enable AWS PrivateLink for an existing service via the SkySQL Terraform provider:</p> <ol> <li> <p>Alter the\u00a0<code>skysql_service</code>\u00a0resource configuration by adding the\u00a0<code>endpoint_mechanism</code>\u00a0and\u00a0<code>endpoint_allowed_accounts</code>\u00a0attributes.</p> <p>Follow the same instructions as above. </p> </li> <li> <p>Execute the\u00a0<code>[terraform\u00a0apply</code>\u00a0command](https://developer.hashicorp.com/terraform/cli/commands/apply):</p> <pre><code>$ terraform apply -var-file=\"skysql-nr-quickstart.tfvars\"\n</code></pre> </li> </ol> <p>For the next step, see the\u00a0AWS Endpoint Setup\u00a0section on this page.</p>"},{"location":"Using%20AWS%20GCP%20private%20VPC%20connections/Setting%20up%20AWS%20Private%20Link/#disable-aws-privatelink_1","title":"Disable AWS PrivateLink","text":"<p>To disable AWS PrivateLink via the SkySQL Terraform provider:</p> <ol> <li> <p>Alter the\u00a0<code>skysql_service</code>\u00a0resource configuration by doing the following:</p> <ul> <li>Changing the\u00a0<code>endpoint_mechanism</code>\u00a0attribute to\u00a0<code>\"nlb\"</code></li> <li>Removing the\u00a0<code>endpoint_allowed_accounts</code>\u00a0attribute</li> <li>Adding the\u00a0<code>allow_list</code>\u00a0attribute</li> </ul> <p>For example, if you started with the following attributes after\u00a0<code>ssl_enabled</code>:</p> <pre><code>ssl_enabled = var.ssl_enabled\nendpoint_mechanism = \"privateconnect\"\nendpoint_allowed_accounts = [\"AWS-ACCOUNT-ID-1\",\"AWS-ACCOUNT-ID-2\"]\n</code></pre> <p>You could disable AWS PrivateLink by changing the attributes to the following:</p> <pre><code>ssl_enabled = var.ssl_enabled\nendpoint_mechanism = \"nlb\"\nallow_list          = [\n  {\n     \"ip\"          : var.ip_address,\n     \"comment\"     : var.ip_address_comment\n  }\n]\n</code></pre> </li> <li> <p>Execute the\u00a0<code>[terraform\u00a0apply</code>\u00a0command](https://developer.hashicorp.com/terraform/cli/commands/apply):</p> </li> </ol>"},{"location":"Using%20AWS%20GCP%20private%20VPC%20connections/Setting%20up%20GCP%20Private%20Service%20Connect/","title":"Setting up GCP Private Service Connect","text":"<p>Note</p> <p>GCP Private Service Connect (PSC) is used for private connections within the same GCP region.</p> <p>Prior to configuring PSC on a SkySQL service, you must have created a VPC with a private subnet that will be used to communicate with private IP addresses. </p> <p>For detailed information about GCP PSC, see\u00a0\"Private Service Connect\" (Google documentation).</p> <p>The default endpoint mechanism is \"<code>nlb</code>\", which supports accessing the SkySQL service via the public internet. Use of GCP PSC occurs when the endpoint mechanism is changed to \"<code>privateconnect</code>\".</p> <p>GCP PSC can be enabled using the SkySQL Portal, SkySQL DBaaS API, or SkySQL Terraform Provider.</p>"},{"location":"Using%20AWS%20GCP%20private%20VPC%20connections/Setting%20up%20GCP%20Private%20Service%20Connect/#note-the-following","title":"Note the following","text":"<ul> <li>When a SkySQL service has the\u00a0<code>privateconnect</code>\u00a0endpoint mechanism, all connections occur through private endpoints. SkySQL does offer users to setup a \u201csecondary\u201d public IP endpoint also (available in the Portal UI when you provision a new service).</li> <li>With Private Service Connect, projects are allowlisted and auto-accept of connections from any account is disabled.</li> <li>Access restrictions are controlled through the customer's GCP account. VPC firewall rules apply. For detailed information, see\u00a0\"Cloud Firewall overview\" (Google documentation).</li> <li>Some customers using Private Service Connect may choose to disable TLS, but MariaDB recommends keeping TLS enabled for extra security.</li> <li>Database connection limits are independent from PSC connection limits. The limit for PSC connections is 10.</li> <li>Endpoint changes can be destructive, resulting in downtime. When you change the connection type from private to public, or public to private, the endpoint must be destroyed and recreated. Changing the SkySQL endpoint between\u00a0<code>nlb</code>\u00a0and\u00a0<code>privateconnect</code>\u00a0will result in a service interruption.</li> <li>Connections to SkySQL services by features such as SkySQL backups, and monitoring do not depend on Private Service Connect.</li> <li>Query Editor is not supported when Private Service Connect is enabled.</li> </ul>"},{"location":"Using%20AWS%20GCP%20private%20VPC%20connections/Setting%20up%20GCP%20Private%20Service%20Connect/#enable-gcp-private-service-connect-on-service-launch","title":"Enable GCP Private Service Connect on Service Launch","text":"<p>To enable GCP Private Service Connect when launching a new service via the SkySQL Portal:</p> <ul> <li>When you get to the final \"Security\" section, select \"Enable Private Service Connect\".</li> </ul> <p>For the next step, see the\u00a0GCP Endpoint Setup\u00a0sections on this page.</p>"},{"location":"Using%20AWS%20GCP%20private%20VPC%20connections/Setting%20up%20GCP%20Private%20Service%20Connect/#enable-gcp-private-service-connect-on-existing-skysql-service","title":"Enable GCP Private Service Connect on Existing SkySQL Service","text":"<p>To enable GCP Private Service Connect for an existing service via the SkySQL Portal:</p> <ol> <li>Log in to the\u00a0SkySQL Portal.</li> <li>Click the \"MANAGE\" button (at right) for the desired service.</li> <li>In the context menu, choose the \"Set up Private Service Connect\" menu item.</li> <li>In the popup window, add one or more GCP project IDs.</li> <li>Click the \"OK\" button to confirm this operation.</li> </ol> <p>For the next step, see the\u00a0GCP Endpoint Setup\u00a0sections on this page.</p>"},{"location":"Using%20AWS%20GCP%20private%20VPC%20connections/Setting%20up%20GCP%20Private%20Service%20Connect/#disable-gcp-private-service-connect","title":"Disable GCP Private Service Connect","text":"<p>To disable GCP Private Service Connect via the SkySQL Portal:</p> <ol> <li>Visit the\u00a0SkySQL Portal.</li> <li>Find the service that you would like to modify.</li> <li>Click \"MANAGE\" on the far right side of the service listing.</li> <li>In the context menu, select \"Manage Private Service Connect\".</li> <li>In the popup window, click \"I want to disconnect my Private Service Connect\".</li> <li>In the popup window, select \"Disconnect\".</li> <li>After the service restarts, Private Service Connect is disabled.</li> <li>Since the service's allowlist was cleared when GCP Private Service Connect was previously enabled, you will need to\u00a0update the allowlist\u00a0to allow clients to connect after disabling Private Service Connect.</li> </ol>"},{"location":"Using%20AWS%20GCP%20private%20VPC%20connections/Setting%20up%20GCP%20Private%20Service%20Connect/#gcp-endpoint-setup","title":"GCP Endpoint Setup","text":"<p>Endpoint setup is performed using the customer's GCP account.</p>"},{"location":"Using%20AWS%20GCP%20private%20VPC%20connections/Setting%20up%20GCP%20Private%20Service%20Connect/#create-a-subnet-optional","title":"Create a Subnet (optional)","text":"<p>We recommend use of a subnet dedicated to Private Service Connect endpoints in the same VPC where the application is running.</p> <ol> <li>In the GCP console, navigate VPC network \u2192 VPC networks \u2192  \u2192 SUBNETS \u2192 ADD SUBNET.<ul> <li>Replace  with the name of the VPC where the application is running. <li>Configure the subnet:<ul> <li>Name</li> <li>Region: select the same region as the one where the application runs</li> <li>Purpose: None</li> <li>IP address range: Set a CIDR block that doesn't overlap with the CIDR blocks of the existing subnets in the same VPC.</li> <li>Optionally configure Private Google Access</li> <li>Optionally configure Flow logs</li> <li>Click \"ADD\".</li> </ul> </li>"},{"location":"Using%20AWS%20GCP%20private%20VPC%20connections/Setting%20up%20GCP%20Private%20Service%20Connect/#create-a-static-internal-ip-address","title":"Create a Static Internal IP Address","text":"<ol> <li>In the GCP console, navigate VPC network \u2192 VPC networks \u2192  \u2192 STATIC INTERNAL IP ADDRESSES \u2192 RESERVE STATIC ADDRESS.<ul> <li>Replace  with the name of the VPC where the application is running. <li>Configure the static internal IP address:<ul> <li>Name: set to the Database ID (dbxxxxxxxx) from SkySQL.</li> <li>Subnet: select the subnet where to reserve the static IP address.</li> <li>Static IP address: optionally choose the address.</li> <li>Purpose: Non-shared</li> <li>Click \"RESERVE\".</li> </ul> </li>"},{"location":"Using%20AWS%20GCP%20private%20VPC%20connections/Setting%20up%20GCP%20Private%20Service%20Connect/#connect-to-the-published-service","title":"*Connect to the Published Service*","text":"<ol> <li> <p>In the GCP console, navigate Network services \u2192 Private Service Connect \u2192 CONNECTED ENDPOINTS \u2192 CONNECT ENDPOINT.</p> </li> <li> <p>Configure the endpoint connection:</p> <ul> <li>Target: Published service</li> <li>Target service: the value of the\u00a0\"Fully Qualified Domain Name\" in the \"Connect\" window from SkySQL portal.</li> <li>Endpoint name: set to the Database ID from SkySQL (dbxxxxxxxx)</li> <li>Network: select the VPC network where the application is running</li> <li>Subnetwork: select the subnet where the static internal IP address is reserved</li> <li>IP address: select the reserved internal IP address from the prior step</li> <li>Click \"ADD ENDPOINT\".</li> </ul> </li> </ol>"},{"location":"Using%20AWS%20GCP%20private%20VPC%20connections/Setting%20up%20GCP%20Private%20Service%20Connect/#setting-up-gcp-psc-using-skysql-rest-api","title":"Setting up GCP PSC using SkySQL REST API","text":""},{"location":"Using%20AWS%20GCP%20private%20VPC%20connections/Setting%20up%20GCP%20Private%20Service%20Connect/#enable-gcp-psc-on-service-launch","title":"Enable GCP PSC on Service Launch","text":"<p>To enable GCP Private Service Connect when launching a new service via the SkySQL DBaaS API:</p> <ol> <li>Initiate service launch using the procedure at \"DBaaS API Launch Walkthrough\".</li> <li> <p>When you are creating the request, add the\u00a0<code>\"endpoint_mechanism\"</code>\u00a0and\u00a0<code>\"endpoint_allowed_accounts\"</code>\u00a0attributes to the JSON payload:</p> <pre><code>\"endpoint_mechanism\": \"privateconnect\",\n\"endpoint_allowed_accounts\": [\n    \"GCP-PROJECT-ID-1\",\n    \"GCP-PROJECT-ID-2\"\n]\n</code></pre> <ul> <li>Set\u00a0<code>\"endpoint_mechanism\"</code>\u00a0to\u00a0<code>\"privateconnect\"</code></li> <li>Set\u00a0<code>\"endpoint_allowed_accounts\"</code>\u00a0to a JSON array of one or more customer project IDs in GCP that will be allowed to establish a private connection to the SkySQL service</li> </ul> </li> </ol> <p>For the next step, see the\u00a0GCP Endpoint Setup\u00a0sections on this page.</p>"},{"location":"Using%20AWS%20GCP%20private%20VPC%20connections/Setting%20up%20GCP%20Private%20Service%20Connect/#enable-gcp-private-service-connect-on-existing-skysql-service_1","title":"Enable GCP Private Service Connect on Existing SkySQL Service","text":"<p>To enable GCP Private Service Connect on an existing service via the SkySQL DBaaS API, create a JSON payload such as:</p> <pre><code>[\n  {\n    \"mechanism\": \"privateconnect\",\n    \"allowed_accounts\": [\n      \"GCP-PROJECT-ID-1\",\n      \"GCP-PROJECT-ID-2\"\n    ]\n  }\n]\n</code></pre> <ul> <li>Set\u00a0<code>\"mechanism\"</code>\u00a0to\u00a0<code>\"privateconnect\"</code></li> <li>Set\u00a0<code>\"allowed_accounts\"</code>\u00a0to a JSON array of one or more customer project IDs in GCP that will be allowed to establish a private connection to the SkySQL service</li> </ul> <p>And then use the API to update the\u00a0<code>endpoints</code>\u00a0information of the service. The following example of using\u00a0<code>curl</code>\u00a0expects the above payload to be in a file named\u00a0<code>data.json</code>\u00a0and also expects the variables\u00a0<code>API_KEY</code>\u00a0and\u00a0<code>SERVICE_ID</code>\u00a0to be set:</p> <pre><code>curl -H \"Authorization: Bearer ${API_KEY}\" \\\n       -X PATCH -d @data.json \\\n       https://api.mariadb.com/provisioning/v1/services/${SERVICE_ID}/endpoints \\\n       | jq .\n</code></pre> <p>We will need the endpoint's service name later on in the setup, so use the API to query the endpoint once the service has finished its modifications and is back to \"ready\":</p> <pre><code>curl -H \"Authorization: Bearer ${API_KEY}\" -X GET \\\n       https://api.mariadb.com/provisioning/v1/services/${SERVICE_ID} \\\n       | jq '.status,.endpoints[0].ports,.endpoints[0].endpoint_service'\n</code></pre> <p>Note that the\u00a0<code>jq</code>\u00a0command is filtering the returned JSON data to extract three things (which are separated by commas in the command above):</p> <ul> <li>The status of the service, which must be \"ready\" for the other values to be available.<ul> <li>The \"<code>ready</code>\" status means that the Private Service Connect endpoint setup is complete.</li> <li>A status of \"<code>pending_upgrade</code>\" is reflected while Private Service Connect endpoint setup is in-progress.</li> </ul> </li> <li>The \"ports\" data for the first item in the\u00a0<code>endpoints</code>\u00a0array.<ul> <li>Some topologies include multiple port options, including ports for read/write and read-only connections, or for connections to the NoSQL listener.</li> <li>Choose the desired port, such as \"<code>readwrite</code>\".</li> </ul> </li> <li>The\u00a0<code>endpoint_service</code>\u00a0value for the first item in the\u00a0<code>endpoints</code>\u00a0array.</li> </ul> <p>The output will look something like this, though your values will vary:</p> <pre><code>\"ready\"\n[\n  {\n    \"name\": \"readwrite\",\n    \"port\": 3306,\n    \"purpose\": \"readwrite\"\n  }\n]\n\"GCP_ENDPOINT_HOSTNAME\"\n</code></pre> <p>If you are not using\u00a0<code>jq</code>, scan (or parse) the full returned JSON data to ensure the service status is \"ready\" and find the associated values described above.</p> <p>For the next step, see the\u00a0GCP Endpoint Setup\u00a0sections on this page.</p>"},{"location":"Using%20AWS%20GCP%20private%20VPC%20connections/Setting%20up%20GCP%20Private%20Service%20Connect/#disable-gcp-psc","title":"Disable GCP PSC","text":"<p>To disable GCP Private Service Connect via the SkySQL DBaaS API, create a JSON payload such as:</p> <pre><code>[\n  {\n    \"mechanism\": \"nlb\"\n  }\n]\n</code></pre> <ul> <li>Set\u00a0<code>\"mechanism\"</code>\u00a0to\u00a0<code>\"nlb\"</code></li> </ul> <p>And then use the API to update the\u00a0<code>endpoints</code>\u00a0information of the service. The following example of using\u00a0<code>curl</code>\u00a0expects the above payload to be in a file named\u00a0<code>data.json</code>\u00a0and also expects the variables\u00a0<code>API_KEY</code>\u00a0and\u00a0<code>SERVICE_ID</code>\u00a0to be set:</p> <pre><code>curl -H \"Authorization: Bearer ${API_KEY}\" \\\n       -X PATCH -d @data.json \\\n       https://api.mariadb.com/provisioning/v1/services/${SERVICE_ID}/endpoints \\\n       | jq .\n</code></pre> <p>We will need the endpoint's service name later on in the setup, so use the API to query the endpoint once the service has finished its modifications and is back to \"ready\":</p> <pre><code>curl -H \"Authorization: Bearer ${API_KEY}\" -X GET \\\n       https://api.mariadb.com/provisioning/v1/services/${SERVICE_ID} \\\n       | jq '.status,.endpoints[0].ports,.endpoints[0].endpoint_service'\n</code></pre> <p>Note that the\u00a0<code>jq</code>\u00a0command is filtering the returned JSON data to extract three things (which are separated by commas in the command above):</p> <ul> <li>The status of the service, which must be \"ready\" for the other values to be available.<ul> <li>The \"<code>ready</code>\" status means that the endpoint modification is complete.</li> <li>A status of \"<code>pending_upgrade</code>\" is reflected while Private Service Connect is being disabled.</li> </ul> </li> <li>The \"ports\" data for the first item in the\u00a0<code>endpoints</code>\u00a0array.<ul> <li>Some topologies include multiple port options, including ports for read/write and read-only connections, or for connections to the NoSQL listener.</li> <li>Choose the desired port, such as \"<code>readwrite</code>\".</li> </ul> </li> <li>The\u00a0<code>endpoint_service</code>\u00a0value for the first item in the\u00a0<code>endpoints</code>\u00a0array.</li> </ul> <p>The output will look something like this, though your values will vary:</p> <pre><code>\"ready\"\n[\n  {\n    \"name\": \"readwrite\",\n    \"port\": 3306,\n    \"purpose\": \"readwrite\"\n  }\n]\n\"GCP_ENDPOINT_HOSTNAME\"\n</code></pre> <p>If you are not using\u00a0<code>jq</code>, scan (or parse) the full returned JSON data to ensure the service status is \"ready\" and find the associated values described above.</p> <p>Since the service's allowlist was cleared when GCP Private Service Connect was previously enabled, you will need to update the allowlist to allow clients to connect after disabling Private Service Connect.</p> <p>To add an address to the allowlist via the SkySQL DBaaS API, create a JSON payload such as:</p> <pre><code>**{**  **\"ip_address\":** \"192.0.2.10/32\"**}**\n</code></pre> <p>And then use the API to update the\u00a0<code>allowlist</code>\u00a0information of the service. The following example of using\u00a0<code>curl</code>\u00a0expects the above payload to be in a file named\u00a0<code>data.json</code>\u00a0and also expects the variables\u00a0<code>API_KEY</code>\u00a0and\u00a0<code>SERVICE_ID</code>\u00a0to be set:</p> <pre><code>curl -H \"Authorization: Bearer ${API_KEY}\" \\\n       -X POST -d @data.json \\\n       https://api.mariadb.com/provisioning/v1/services/${SERVICE_ID}/security/allowlist \\\n       | jq .\n</code></pre>"},{"location":"Using%20AWS%20GCP%20private%20VPC%20connections/Setting%20up%20GCP%20Private%20Service%20Connect/#terraform-provider","title":"Terraform Provider","text":"<p>GCP Private Service Connect can be enabled with Terraform using the SkySQL Terraform provider. </p> <p>For general instructions on using the SkySQL Terraform Provider, see \"Terraform Launch Walkthrough .</p> <p>For an example Terraform configuration that enables GCP Private Service Connect, see Resources section here .</p>"},{"location":"Using%20AWS%20GCP%20private%20VPC%20connections/Setting%20up%20GCP%20Private%20Service%20Connect/#enable-gcp-private-service-connect-on-service-launch_1","title":"Enable GCP Private Service Connect on Service Launch","text":"<p>To enable GCP Private Service Connect when launching a new service via the SkySQL Terraform provider:</p> <ol> <li>Initiate service launch using the procedure at \"Terraform Launch Walkthrough.</li> <li> <p>When you are configuring the\u00a0<code>skysql_service</code>\u00a0resource, add the\u00a0<code>endpoint_mechanism</code>\u00a0and\u00a0<code>endpoint_allowed_accounts</code>\u00a0attributes:</p> <p>For example, the attributes can be placed after\u00a0<code>ssl_enabled</code>:</p> <pre><code>ssl_enabled = var.ssl_enabled\nendpoint_mechanism = \"privateconnect\"\nendpoint_allowed_accounts = [\"GCP-PROJECT-ID-1\",\"GCP-PROJECT-ID-2\"]\n</code></pre> <ul> <li>Set\u00a0<code>endpoint_mechanism</code>\u00a0to\u00a0<code>\"privateconnect\"</code></li> <li>Set\u00a0<code>endpoint_allowed_accounts</code>\u00a0to a comma-separated list of one or more customer project IDs in GCP that will be allowed to establish a private connection to the SkySQL service</li> <li>Continue the rest of the procedure.</li> </ul> </li> </ol> <p>For the next step, see the\u00a0Connectivity,\u00a0Controls, &amp;\u00a0GCP Endpoint Setup\u00a0sections on this page.</p>"},{"location":"Using%20AWS%20GCP%20private%20VPC%20connections/Setting%20up%20GCP%20Private%20Service%20Connect/#enable-gcp-private-service-connect-on-existing-skysql-service_2","title":"Enable GCP Private Service Connect on Existing SkySQL Service","text":"<p>To enable GCP Private Service Connect for an existing service via the SkySQL Terraform provider:</p> <ol> <li> <p>Alter the\u00a0<code>skysql_service</code>\u00a0resource configuration by adding the\u00a0<code>endpoint_mechanism</code>\u00a0and\u00a0<code>endpoint_allowed_accounts</code>\u00a0attributes.</p> <p>For example, the attributes can be placed after\u00a0<code>ssl_enabled</code>:</p> <pre><code>ssl_enabled = var.ssl_enabled\nendpoint_mechanism = \"privateconnect\"\nendpoint_allowed_accounts = [\"GCP-PROJECT-ID-1\",\"GCP-PROJECT-ID-2\"]\n</code></pre> <ul> <li>Set\u00a0<code>endpoint_mechanism</code>\u00a0to\u00a0<code>\"privateconnect\"</code></li> <li>Set\u00a0<code>endpoint_allowed_accounts</code>\u00a0to a comma-separated list of one or more customer project IDs in GCP that will be allowed to establish a private connection to the SkySQL service</li> <li>Execute the\u00a0<code>[terraform\u00a0apply</code>\u00a0command](https://developer.hashicorp.com/terraform/cli/commands/apply):</li> </ul> <pre><code>$ terraform apply -var-file=\"skysql-nr-quickstart.tfvars\"\n</code></pre> </li> </ol> <p>For the next step, see the\u00a0GCP Endpoint Setup\u00a0sections on this page.</p>"},{"location":"Using%20AWS%20GCP%20private%20VPC%20connections/Setting%20up%20GCP%20Private%20Service%20Connect/#disable-gcp-private-service-connect_1","title":"Disable GCP Private Service Connect","text":"<p>To disable GCP Private Service Connect via the SkySQL Terraform provider:</p> <ol> <li> <p>Alter the\u00a0<code>skysql_service</code>\u00a0resource configuration by doing the following:</p> <ul> <li>Changing the\u00a0<code>endpoint_mechanism</code>\u00a0attribute to\u00a0<code>\"nlb\"</code></li> <li>Removing the\u00a0<code>endpoint_allowed_accounts</code>\u00a0attribute</li> <li>Adding the\u00a0<code>allow_list</code>\u00a0attribute</li> </ul> <p>For example, if you started with the following attributes after\u00a0<code>ssl_enabled</code>:</p> <pre><code>ssl_enabled = var.ssl_enabled\nendpoint_mechanism = \"privateconnect\"\nendpoint_allowed_accounts = [\"GCP-PROJECT-ID-1\",\"GCP-PROJECT-ID-2\"]\n</code></pre> <p>You could disable GCP Private Service Connect by changing the attributes to the following:</p> <pre><code>ssl_enabled = var.ssl_enabled\nendpoint_mechanism = \"nlb\"\nallow_list          = [\n  {\n     \"ip\"          : var.ip_address,\n     \"comment\"     : var.ip_address_comment\n  }\n]\n</code></pre> </li> <li> <p>Execute the\u00a0<code>[terraform\u00a0apply</code>\u00a0command](https://developer.hashicorp.com/terraform/cli/commands/apply):</p> <pre><code>$ terraform apply -var-file=\"skysql-nr-quickstart.tfvars\"\n</code></pre> </li> </ol>"}]}